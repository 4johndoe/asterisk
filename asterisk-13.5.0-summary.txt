                                Release Summary

                                asterisk-13.5.0

                                Date: 2015-08-07

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Open Issues
    5. Other Changes
    6. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release is a point release of an existing major version. The changes
   included were made to address problems that have been identified in this
   release series, or are minor, backwards compatible new features or
   improvements. Users should be able to safely upgrade to this version if
   this release series is already in use. Users considering upgrading from a
   previous version are strongly encouraged to review the UPGRADE.txt
   document as well as the CHANGES document for information about upgrading
   to this release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-13.4.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were affected by commits that went into
   this release.

   Coders                           Testers            Reporters              
   33 Matt Jordan                   3 gtjoseph         13 Matt Jordan         
   33 Richard Mudgett               1 Damian Ivereigh  8 Corey Farrell        
   15 Joshua Colp                                      7 Kevin Harwell        
   11 Mark Michelson                                   6 Rusty Newton         
   6 gtjoseph                                          6 Kevin Harwell        
   6 Benjamin Ford                                     6 Joshua Colp          
   5 Walter Doekes                                     5 Richard Mudgett      
   5 Corey Farrell                                     5 Mark Michelson       
   4 Kevin Harwell                                     5 Mark Michelson       
   4 Ivan Poddubny                                     4 Walter Doekes        
   2 ibercom                                           4 Richard Mudgett      
   1 Yousf Ateya                                       3 George Joseph        
   1 Patric Marschall                                  3 John Bigelow         
   1 Damian Ivereigh                                   3 Badalian Vyacheslav  
   1 demon-ru                                          3 Carl Fortin          
   1 Scott Griepentrog                                 3 Carl Fortin          
   1 Michael Cargile                                   3 Dmitriy Serov        
   1 Rusty Newton                                      2 Etienne Lessard      
   1 David M. Lee                                      2 gtjoseph             
   1 Alexander Traud (License 6520)                    2 warren smith         
                                                       2 Rusty Newton         
                                                       2 Joshua Colp          
                                                       2 Etienne Lessard      
                                                       2 John Bigelow         
                                                       1 Barry Chern          
                                                       1 Vitezslav Novy       
                                                       1 Scott Griepentrog    
                                                       1 Y Ateya              
                                                       1 Dmitriy Serov        
                                                       1 Chet Stevens         
                                                       1 cloos                
                                                       1 Josh Kitchens        
                                                       1 Alexander Traud      
                                                       1 Mark Petersen        
                                                       1 John Hardin          
                                                       1 Ilya Trikoz          
                                                       1 Dmitry Burilov       
                                                       1 Damian Ivereigh      
                                                       1 Barry Chern          
                                                       1 Patric Marschall     
                                                       1 Damian Ivereigh      
                                                       1 Patric Marschall     
                                                       1 Chet Stevens         
                                                       1 Andrey Biglari       
                                                       1 PSDK                 
                                                       1 hristo               
                                                       1 Arveno Santoro       
                                                       1 Vitezslav Novy       
                                                       1 Stefan EngstrAP:m    
                                                       1 Janusz Karolak       
                                                       1 Badalian Vyacheslav  
                                                       1 Ivan Poddubny        
                                                       1 Y Ateya              
                                                       1 ibercom              
                                                       1 warren smith         
                                                       1 cervajs              
                                                       1 Ilya Trikoz          
                                                       1 Osaulenko Alexander  
                                                       1 Steve Pitts          
                                                       1 Alexander Traud      
                                                       1 Dade Brandon         
                                                       1 ibercom              
                                                       1 Mark Petersen        
                                                       1 Josh Kitchens        

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Improvement

    Category: Core/General

   ASTERISK-25256: [patch]Post AMI VarSet to empty string events when
   Asterisk deletes a dialplan variable.
   Reported by: Richard Mudgett
     * [875aee4c09] Richard Mudgett -- pbx.c: Post AMI VarSet event if delete
       a non-empty dialplan variable.

    Category: Core/PBX

   ASTERISK-25040: pbx: Improve performance of reloads by making hint
   destruction more performant
   Reported by: Matt Jordan
     * [399cd8bcd9] Matt Jordan -- main/pbx: Resolve case sensitivity
       regression in PBX hints

    Category: Core/Sorcery

   ASTERISK-25067: Sorcery Caching: Implement a new caching module
   Reported by: Matt Jordan
     * [b74b071369] Joshua Colp -- res_sorcery_memory_cache: Backport to 13

    Category: Resources/res_pjsip

   ASTERISK-25114: res_pjsip: Add AMI events for chan_pjsip contact lifecycle
   changes
   Reported by: George Joseph
     * [262d590819] gtjoseph -- res_pjsip: Add AMI events for chan_pjsip
       contact lifecycle changes

    Category: Resources/res_pjsip_outbound_registration

   ASTERISK-25072: res_pjsip_outbound_registration: line functionality.
   Additional check for using the request URI
   Reported by: Dmitriy Serov
     * [42476e6633] demon-ru -- res_pjsip_outbound_registration: Check
       request URI for line.

  Bug

    Category: Applications/app_chanspy

   ASTERISK-25247: choppy audio when spying on a g722 channel, chan_sip or
   chan_pjsip
   Reported by: hristo
     * [f1493f900e] Joshua Colp -- audiohook: Read the correct number of
       samples based on audiohook format.

    Category: Applications/app_confbridge

   ASTERISK-25253: confbridge volume options and other volume controls such
   as func_volume don't work
   Reported by: Dmitriy Serov
     * [f509730cb9] Joshua Colp -- audiohook: Use manipulated frame instead
       of dropping it.

    Category: Applications/app_dial

   ASTERISK-25212: [patch]Segfault when using DEBUG_FD_LEAKS
   Reported by: Walter Doekes
     * [6551e16e03] Walter Doekes -- astfd: Fix buffer overflow in
       DEBUG_FD_LEAKS.

    Category: Applications/app_directory

   ASTERISK-25087: Asterisk segfault when using Directory application with
   alias option and specific mailbox configuration
   Reported by: Chet Stevens
     * [a2f4d03c87] Richard Mudgett -- app_directory: Fix crash when using
       the alias option 'a'.

    Category: Bridges/bridge_native_rtp

   ASTERISK-25240: bridge_native_rtp: Direct media wrongfully started when
   completing attended transfer
   Reported by: Joshua Colp
     * [d558b00c85] Joshua Colp -- bridge_native_rtp.c: Don't start native
       RTP bridging after attended transfer.
   ASTERISK-25171: Early completion of feature code attended transfer results
   in intermittent one-way audio, "ghost ringing" and robotic sound.
   Reported by: Rusty Newton
     * [e4a2ef9e4e] Joshua Colp -- channel: Remove ignore of answer on
       non-outgoing channels.

    Category: CDR/General

   ASTERISK-24344: CDR_PROP(disable) disables CDR only for first dialed party
   Reported by: Janusz Karolak
     * [de8c7f46ed] Matt Jordan -- main/cdr: Carry over the disable flag when
       'disable all' is specified
   ASTERISK-24443: CDR fields (dst, dcontext) empty in transfer call started
   from Macro
   Reported by: Arveno Santoro
     * [78ea356e78] Matt Jordan -- main/cdr: Copy context/exten on chained
       CDRs for parallel dials in subroutines

    Category: Channels/chan_dahdi

   ASTERISK-25257: [patch]channels/sig_pri.h -> sig_pri_span ->
   force_restart_unavailable_chans in wrong scope
   Reported by: Patric Marschall
     * [abb14ac5b8] Patric Marschall -- sig_pri.h:
       force_restart_unavailable_chans in wrong scope

    Category: Channels/chan_iax2

   ASTERISK-24983: IAX deadlock between hangup and scheduled actions (ex.
   largrq)
   Reported by: Y Ateya
     * [cf98c744d5] Yousf Ateya -- chan_iax2: Prevent deadlock between hangup
       and sending lagrq/ping

    Category: Channels/chan_local

   ASTERISK-25250: chan_sip - Despite the channel being answered, caller on a
   call established via Local channel continues to hear ringback
   Reported by: Etienne Lessard
     * [f635520527] Mark Michelson -- Local channels: Alternate solution to
       ringback problem.
     * [54b25c80c8] Mark Michelson -- Local channels: Do not block control -1
       payloads.

    Category: Channels/chan_mgcp

   ASTERISK-25220: [patch]Closing of fd -1 in chan_mgcp.c
   Reported by: Walter Doekes
     * [a5a262be78] Walter Doekes -- chan_mgcp: Don't call close on fd -1.

    Category: Channels/chan_pjsip

   ASTERISK-25258: chan_pjsip: Incorrect format switch on received RTP packet
   Reported by: Joshua Colp
     * [2c626ceb64] Joshua Colp -- chan_pjsip: Don't change formats when
       frame of unsupported format is received.
   ASTERISK-25183: PJSIP: Crash on NULL channel in
   chan_pjsip_incoming_response despite previous checks for NULL channel
   Reported by: Matt Jordan
     * [653f2087e0] Richard Mudgett -- res_pjsip_session.c: Fix crash on call
       disconnect.
     * [ada7346792] Richard Mudgett -- res_pjsip: Need to use the same
       serializer for a pjproject SIP transaction.
   ASTERISK-25091: Asterisk REST API - bridge.addChannel crash asterisk when
   calling channel hangup while adding to bridge
   Reported by: Ilya Trikoz
     * [9015bb4c8c] Mark Michelson -- Resolve race conditions involving
       Stasis bridges.
   ASTERISK-25156: chan_pjsipa**s CHAN_START cel event lacks the correct
   context and exten
   Reported by: cloos
     * [30a0f2d9ac] Matt Jordan -- chan_pjsip: Set the context and extension
       on the channel when created

    Category: Channels/chan_sip/CodecHandling

   ASTERISK-25182: [patch] on CLI sip reload, new codecs get appended only
   Reported by: Alexander Traud
     * [a419c69def] Alexander Traud -- chan_sip: Reload peer without its old
       capabilities.

    Category: Channels/chan_sip/General

   ASTERISK-25250: chan_sip - Despite the channel being answered, caller on a
   call established via Local channel continues to hear ringback
   Reported by: Etienne Lessard
     * [f635520527] Mark Michelson -- Local channels: Alternate solution to
       ringback problem.
     * [54b25c80c8] Mark Michelson -- Local channels: Do not block control -1
       payloads.
   ASTERISK-22805: res_rtp_asterisk: Crash when calling BIO_ctrl_pending in
   dtls_srtp_check_pending when dialed by JSSIP
   Reported by: Dmitry Burilov
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.
   ASTERISK-25212: [patch]Segfault when using DEBUG_FD_LEAKS
   Reported by: Walter Doekes
     * [6551e16e03] Walter Doekes -- astfd: Fix buffer overflow in
       DEBUG_FD_LEAKS.
   ASTERISK-25202: Hints extension state broken between 13.3.2 and 13.4
   Reported by: cervajs
     * [399cd8bcd9] Matt Jordan -- main/pbx: Resolve case sensitivity
       regression in PBX hints
   ASTERISK-25171: Early completion of feature code attended transfer results
   in intermittent one-way audio, "ghost ringing" and robotic sound.
   Reported by: Rusty Newton
     * [e4a2ef9e4e] Joshua Colp -- channel: Remove ignore of answer on
       non-outgoing channels.
   ASTERISK-25163: Deadlock in chan_sip between reload of sip peer container
   and MWI Stasis callback
   Reported by: Dmitriy Serov
     * [74616ae43d] Joshua Colp -- chan_sip: Destroy peers without holding
       peers container lock.

    Category: Channels/chan_sip/IPv6

   ASTERISK-25100: asterisk coredump if host has an IPv6 address that end
   with ::80
   Reported by: Mark Petersen
     * [97a6ce1717] Ivan Poddubny -- Astobj2: Correctly treat hash_fn
       returning INT_MIN

    Category: Channels/chan_sip/Interoperability

   ASTERISK-25154: [patch]fromtag may need to be updated after successful
   call dialog match
   Reported by: Damian Ivereigh
     * [3f57f3f8ec] Damian Ivereigh -- chan_sip.c: Update dialog fromtag
       after request with auth

    Category: Channels/chan_sip/SRTP

   ASTERISK-24550: res_rtp_asterisk: Crash in ast_rtp_on_ice_complete during
   DTLS handshake
   Reported by: Osaulenko Alexander
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.

    Category: Channels/chan_sip/Transfers

   ASTERISK-25226: chan_sip: Channel leak in branch 13 on early replaces call
   pickup
   Reported by: Walter Doekes
     * [e0f565663b] Walter Doekes -- chan_sip: Fix early call pickup channel
       leak.

    Category: Codecs/codec_adpcm

   ASTERISK-24717: ASAN: global-buffer-overflow codec_{ilbc | gsm | adpcm |
   ipc10}
   Reported by: Badalian Vyacheslav
     * [888bb49618] Ivan Poddubny -- Fix buffer overflow in slin sample
       frames generation.

    Category: Codecs/codec_gsm

   ASTERISK-24717: ASAN: global-buffer-overflow codec_{ilbc | gsm | adpcm |
   ipc10}
   Reported by: Badalian Vyacheslav
     * [888bb49618] Ivan Poddubny -- Fix buffer overflow in slin sample
       frames generation.

    Category: Codecs/codec_ilbc

   ASTERISK-24717: ASAN: global-buffer-overflow codec_{ilbc | gsm | adpcm |
   ipc10}
   Reported by: Badalian Vyacheslav
     * [888bb49618] Ivan Poddubny -- Fix buffer overflow in slin sample
       frames generation.

    Category: Codecs/codec_lpc10

   ASTERISK-24717: ASAN: global-buffer-overflow codec_{ilbc | gsm | adpcm |
   ipc10}
   Reported by: Badalian Vyacheslav
     * [888bb49618] Ivan Poddubny -- Fix buffer overflow in slin sample
       frames generation.

    Category: Core/Bridging

   ASTERISK-25250: chan_sip - Despite the channel being answered, caller on a
   call established via Local channel continues to hear ringback
   Reported by: Etienne Lessard
     * [f635520527] Mark Michelson -- Local channels: Alternate solution to
       ringback problem.
     * [54b25c80c8] Mark Michelson -- Local channels: Do not block control -1
       payloads.
   ASTERISK-24782: StasisEnd event not present for channel that was swapped
   out for another after completing attended transfer
   Reported by: John Bigelow
     * [97ee0ee6c6] Kevin Harwell -- bridge.c: Fixed race condition during
       attended transfer
     * [35a99b6394] Kevin Harwell -- bridge.c: Hangup attended transfer
       target if bridged
   ASTERISK-25157: bridging: Performing a blonde transfer does not result in
   connected line updates
   Reported by: Joshua Colp
     * [dbb067279e] Joshua Colp -- bridge: When performing a blonde transfer
       update connected line information.

    Category: Core/CodecInterface

   ASTERISK-25172: Crash in channels/sip/sip blind transfer/caller_refer_only
   test in ast_format_cap_append_from_cap during ast_request
   Reported by: Matt Jordan
     * [e99e654d75] Joshua Colp -- app_dial: Hold reference to calling
       channel formats when dialing outbound.

    Category: Core/General

   ASTERISK-25255: Missing AMI VarSet events when setting to an empty string.
   Reported by: Richard Mudgett
     * [e31cb6b248] Richard Mudgett -- strings.h: Fix issues with escape
       string functions.
   ASTERISK-25201: Crash in PJSIP distributor on already free'd threadpool
   Reported by: Matt Jordan
     * [653f2087e0] Richard Mudgett -- res_pjsip_session.c: Fix crash on call
       disconnect.
   ASTERISK-25212: [patch]Segfault when using DEBUG_FD_LEAKS
   Reported by: Walter Doekes
     * [6551e16e03] Walter Doekes -- astfd: Fix buffer overflow in
       DEBUG_FD_LEAKS.
   ASTERISK-22559: gcc 4.6 and higher supports weakref attribute but asterisk
   doesn't detect it.
   Reported by: ibercom
     * [3046bc17ed] ibercom -- weakref attribute detection broken with gcc
       4.6 and higher

    Category: Core/ManagerInterface

   ASTERISK-24934: [patch]Asterisk manager output does not escape control
   characters
   Reported by: warren smith
     * [e31cb6b248] Richard Mudgett -- strings.h: Fix issues with escape
       string functions.
     * [f5d5aa67dc] Kevin Harwell -- AMI: Escape string values.
   ASTERISK-24900: Manager event ParkedCallSwap is not documented
   Reported by: Rusty Newton
     * [723a9d4225] Mark Michelson -- Parking: Add documentation for AMI
       ParkedCallSwap event.

    Category: Core/ManagerInterface/NewFeature

   ASTERISK-25189: AMI: Add Linkedid header to standard channel snapshot
   information.
   Reported by: Richard Mudgett
     * [890c923786] Richard Mudgett -- AMI: Add Linkedid to the standard
       channel snapshot AMI event headers.

    Category: Core/PBX

   ASTERISK-25094: PBX core: Investigate thread safety issues
   Reported by: Corey Farrell
     * [55c8daf88b] Corey Farrell -- Fix unsafe uses of ast_context pointers.

    Category: Core/RTP

   ASTERISK-25219: [patch]Source and destination overlap in memcpy in
   rtp_engine.c
   Reported by: Walter Doekes
     * [b835312b4c] Walter Doekes -- rtp_engine: Skip useless self-assignment
       in ast_rtp_engine_unload_format.

    Category: Core/Sorcery

   ASTERISK-25165: Testsuite - Sorcery memory cache leaks
   Reported by: Corey Farrell
     * [156395e743] Mark Michelson -- res_sorcery_realtime: Fix leak of
       sorcery object type.

    Category: Core/Stasis

   ASTERISK-25137: endpoint stasis messages are delivered twice
   Reported by: Vitezslav Novy
     * [35c699086a] gtjoseph -- endpoint/stasis: Eliminate duplicate events
       on endpoint status change
   ASTERISK-25121: Stasis: Fix unsafe use of stasis_unsubscribe in modules.
   Reported by: Corey Farrell
     * [0d266cbe02] Corey Farrell -- Stasis: Fix unsafe use of
       stasis_unsubscribe in modules.

    Category: Documentation

   ASTERISK-24867: Docs for 'e' option in ResetCDR say to use CDR_PROP
   instead, CDR_PROP docs are unclear
   Reported by: Rusty Newton
     * [62c64c3bd1] Rusty Newton -- Documentation: A couple of trivial fixes
       in sip.conf.sample and func_cdr.c
   ASTERISK-24853: Documentation claims chan_sip outbound registrations
   support WS or WSS as valid transports (not true)
   Reported by: PSDK
     * [62c64c3bd1] Rusty Newton -- Documentation: A couple of trivial fixes
       in sip.conf.sample and func_cdr.c

    Category: Functions/func_talkdetect

   ASTERISK-24988: func_talkdetect: Test is bouncing sporadically
   Reported by: Joshua Colp
     * [5ac65ddfb4] Matt Jordan -- res/ari: Register Stasis application on
       WebSocket attempt

    Category: Resources/res_ari

   ASTERISK-25091: Asterisk REST API - bridge.addChannel crash asterisk when
   calling channel hangup while adding to bridge
   Reported by: Ilya Trikoz
     * [9015bb4c8c] Mark Michelson -- Resolve race conditions involving
       Stasis bridges.

    Category: Resources/res_ari_bridges

   ASTERISK-25091: Asterisk REST API - bridge.addChannel crash asterisk when
   calling channel hangup while adding to bridge
   Reported by: Ilya Trikoz
     * [9015bb4c8c] Mark Michelson -- Resolve race conditions involving
       Stasis bridges.

    Category: Resources/res_crypto

   ASTERISK-24550: res_rtp_asterisk: Crash in ast_rtp_on_ice_complete during
   DTLS handshake
   Reported by: Osaulenko Alexander
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.

    Category: Resources/res_http_websocket

   ASTERISK-24963: ASAN: heap-use-after-free with PJSIP and WSS
   Reported by: Badalian Vyacheslav
     * [8af6c9cf6b] Ivan Poddubny -- res_pjsip_transport_websocket: Fix
       use-after-free bugs.

    Category: Resources/res_mwi_external_ami

   ASTERISK-25117: res_mwi_external_ami: Fix manager action registrations.
   Reported by: Corey Farrell
     * [e7edb59db6] Corey Farrell -- res_mwi_external_ami: Use module version
       of AMI registration.

    Category: Resources/res_parking

   ASTERISK-25254: Crash if dialplan sets ATTENDEDTRANSFER to an empty string
   before Park.
   Reported by: Richard Mudgett
     * [c782320c68] Richard Mudgett -- res_parking: Fix crash if
       ATTENDEDTRANSFER set empty before Park.

    Category: Resources/res_pjsip

   ASTERISK-25201: Crash in PJSIP distributor on already free'd threadpool
   Reported by: Matt Jordan
     * [653f2087e0] Richard Mudgett -- res_pjsip_session.c: Fix crash on call
       disconnect.
   ASTERISK-25168: Random Core Dumps on Asterisk 13.4 PJSIP, in
   ast_channel_name at channel_internal_api.c
   Reported by: Carl Fortin
     * [0d67e04359] Richard Mudgett -- res_pjsip_mwi.c: Fix MWI subscription
       memory corruption crash.
     * [0422433f47] Richard Mudgett -- PJSIP XML, XPIDF: Fix buffer size
       overwrite memory corruption error.
     * [8ea214aed7] Richard Mudgett -- PJSIP FAX: Fix T.38 automatic reject
       timer NULL channel pointer dereferences.
   ASTERISK-25115: Crash related to func sip_resolve_invoke_user_callback of
   res_pjsip/pjsip_resolver.c
   Reported by: John Bigelow
     * [ada7346792] Richard Mudgett -- res_pjsip: Need to use the same
       serializer for a pjproject SIP transaction.
   ASTERISK-25171: Early completion of feature code attended transfer results
   in intermittent one-way audio, "ghost ringing" and robotic sound.
   Reported by: Rusty Newton
     * [e4a2ef9e4e] Joshua Colp -- channel: Remove ignore of answer on
       non-outgoing channels.
   ASTERISK-25158: res_pjsip: Add option to use AAL2 packing when negotiating
   g.726
   Reported by: Kevin Harwell
     * [31c77b157b] Kevin Harwell -- res_pjsip: Add option to force G.726 to
       be treated as AAL2 packed.
   ASTERISK-25096: [patch]Segfault when registering over websockets with
   PJSIP (in ast_sockaddr_isnull at /include/asterisk/netsock2.h)
   Reported by: Josh Kitchens
     * [8af6c9cf6b] Ivan Poddubny -- res_pjsip_transport_websocket: Fix
       use-after-free bugs.
   ASTERISK-25116: res_pjsip: Two PeerStatus AMI messages are sent for every
   status change
   Reported by: George Joseph
     * [35c699086a] gtjoseph -- endpoint/stasis: Eliminate duplicate events
       on endpoint status change
   ASTERISK-25131: chan_pjsip: In-dialog authentication not handled.
   Reported by: Richard Mudgett
     * [fe21f2e52f] Richard Mudgett -- res_pjsip_session: Fix in-dialog
       authentication.
   ASTERISK-25105: res_pjsip: Possible incompatibility between
   qualify_timeout and pjproject-2.4
   Reported by: George Joseph
     * [60e2fbfe62] gtjoseph -- res_pjsip: Refactor endpt_send_transaction
       (qualify_timeout)

    Category: Resources/res_pjsip_mwi

   ASTERISK-25180: res_pjsip_mwi: Unsolicited MWI requires reload
   Reported by: Joshua Colp
     * [80e82dc97f] Joshua Colp -- res_pjsip_mwi: Set up unsolicited MWI upon
       registration.

    Category: Resources/res_pjsip_nat

   ASTERISK-25196: res_pjsip_nat: rewrite_contact should not be applied to
   Contact header when Record-Route headers are present
   Reported by: Mark Michelson
     * [24eec5a10b] Mark Michelson -- res_pjsip_nat: Adjust when contact
       should be rewritten.
     * [028fa54620] Mark Michelson -- res_pjsip_nat: Rewrite route set when
       required.

    Category: Resources/res_pjsip_outbound_registration

   ASTERISK-24907: res_pjsip_outbound_registration: crash during unload if
   registration attempts are still occuring
   Reported by: Kevin Harwell
     * [0ec461a637] Richard Mudgett -- res_pjsip_outbound_registration.c: Add
       a serializer shutdown group.
     * [84c12f9e0c] Richard Mudgett -- threadpool, res_pjsip: Add serializer
       group shutdown API calls.
     * [602c4b74b5] Richard Mudgett -- res_pjsip_outbound_registration.c: Fix
       handle_client_state_destruction() refs
     * [8c6a95a9ac] Richard Mudgett -- res_pjsip_outbound_registration.c: Use
       ast_sorcery_object_unregister() API
     * [20f3d77ab9] Richard Mudgett -- sorcery: Add
       ast_sorcery_object_unregister() API call.
     * [4313f32969] Richard Mudgett -- res_pjsip_outbound_registration.c:
       Reorder load_module() and unload_module().

    Category: Resources/res_pjsip_refer

   ASTERISK-25204: res_pjsip_refer: Duplicated Referred-By or Replaces
   headers on outbound INVITEs.
   Reported by: Mark Michelson
     * [05a2cc1293] Mark Michelson -- res_pjsip_refer: Prevent sending
       duplicate headers.

    Category: Resources/res_pjsip_session

   ASTERISK-25131: chan_pjsip: In-dialog authentication not handled.
   Reported by: Richard Mudgett
     * [fe21f2e52f] Richard Mudgett -- res_pjsip_session: Fix in-dialog
       authentication.

    Category: Resources/res_pjsip_transport_websocket

   ASTERISK-25122: Large SIP packet received via pjsip over websocket crashes
   Asterisk
   Reported by: Ivan Poddubny
     * [554bd1e39c] Ivan Poddubny -- res_pjsip_transport_websocket: Fix crash
       on receiving large SIP packets

    Category: Resources/res_rtp_asterisk

   ASTERISK-25103: Roundup - investigate Asterisk DTLS crashes
   Reported by: Rusty Newton
     * [7ff1ac8797] Joshua Colp -- res_rtp_asterisk: Ensure DTLS timeout
       timer is -1 if DTLS is not used.
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.
     * [55137c3d12] Joshua Colp -- res/res_http_websocket: Don't send HTTP
       response fragmented.
   ASTERISK-22805: res_rtp_asterisk: Crash when calling BIO_ctrl_pending in
   dtls_srtp_check_pending when dialed by JSSIP
   Reported by: Dmitry Burilov
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.
   ASTERISK-24651: [patch] Fix race condition in DTLS
   Reported by: Badalian Vyacheslav
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.
   ASTERISK-24832: [patch]DTLS-crashes within openssl
   Reported by: Stefan EngstrAP:m
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.
   ASTERISK-25127: DTLS crashes following "Unable to cancel schedule ID" in
   dtls_srtp_check_pending
   Reported by: Dade Brandon
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.

    Category: Resources/res_srtp

   ASTERISK-24550: res_rtp_asterisk: Crash in ast_rtp_on_ice_complete during
   DTLS handshake
   Reported by: Osaulenko Alexander
     * [05e8e14982] Joshua Colp -- res_rtp_asterisk: Prevent simultaneous
       access to DTLS SSL context.

    Category: Resources/res_stasis

   ASTERISK-24782: StasisEnd event not present for channel that was swapped
   out for another after completing attended transfer
   Reported by: John Bigelow
     * [97ee0ee6c6] Kevin Harwell -- bridge.c: Fixed race condition during
       attended transfer
     * [35a99b6394] Kevin Harwell -- bridge.c: Hangup attended transfer
       target if bridged

    Category: Resources/res_timing_kqueue

   ASTERISK-19277: [patch]endlessly repeating error: "poll failed: Bad file
   descriptor"
   Reported by: Barry Chern
     * [f4dd9560cf] Walter Doekes -- res_timing: Don't close FD 0 when out of
       open files.

    Category: Resources/res_timing_timerfd

   ASTERISK-19277: [patch]endlessly repeating error: "poll failed: Bad file
   descriptor"
   Reported by: Barry Chern
     * [f4dd9560cf] Walter Doekes -- res_timing: Don't close FD 0 when out of
       open files.

    Category: Tests/testsuite

   ASTERISK-25165: Testsuite - Sorcery memory cache leaks
   Reported by: Corey Farrell
     * [156395e743] Mark Michelson -- res_sorcery_realtime: Fix leak of
       sorcery object type.
   ASTERISK-25172: Crash in channels/sip/sip blind transfer/caller_refer_only
   test in ast_format_cap_append_from_cap during ast_request
   Reported by: Matt Jordan
     * [e99e654d75] Joshua Colp -- app_dial: Hold reference to calling
       channel formats when dialing outbound.

    Category: pjproject/pjsip

   ASTERISK-24963: ASAN: heap-use-after-free with PJSIP and WSS
   Reported by: Badalian Vyacheslav
     * [8af6c9cf6b] Ivan Poddubny -- res_pjsip_transport_websocket: Fix
       use-after-free bugs.

  New Feature

    Category: Channels/chan_pjsip

   ASTERISK-25259: chan_pjsip: Add rtptimeout support
   Reported by: Joshua Colp
     * [2749721791] Joshua Colp -- pjsip: Add rtp_timeout and
       rtp_timeout_hold endpoint options.

    Category: Resources/res_ari

   ASTERISK-25238: ARI: Support push configuration
   Reported by: Matt Jordan
     * [8bcf6d2801] Matt Jordan -- ARI: Add support for push configuration of
       dynamic object
     * [bb76b88baf] Matt Jordan -- main/sorcery: Don't fail object set
       creation from JSON if field fails
     * [5f13c2226a] Matt Jordan -- main/format_cap: Parse capabilities
       generated by ast_format_cap_get_names
   ASTERISK-25173: ARI: Add the ability to load/reload/unload an Asterisk
   module
   Reported by: Matt Jordan
     * [3384e64ef6] Benjamin Ford -- ARI: Fixed unload mode for unload
       module.
     * [1aafadf814] Benjamin Ford -- ARI: Added new functionality to reload a
       single module.
     * [9dcae23cfc] Benjamin Ford -- ARI: Added new functionality to unload a
       single module.
     * [c219a98d2b] Benjamin Ford -- ARI: Added new functionality to load a
       single module.
     * [73e35d20de] Benjamin Ford -- ARI: Added new functionality to get
       information on a single module.

    Category: Resources/res_pjsip_sdp_rtp

   ASTERISK-25259: chan_pjsip: Add rtptimeout support
   Reported by: Joshua Colp
     * [2749721791] Joshua Colp -- pjsip: Add rtp_timeout and
       rtp_timeout_hold endpoint options.

     ----------------------------------------------------------------------

                                  Open Issues

                                 [Back to Top]

   This is a list of all open issues from the issue tracker that were
   referenced by changes that went into this release.

  Bug

    Category: Core/Sorcery

   ASTERISK-25141: pjsip_options: Contact reference leak
   Reported by: Corey Farrell
     * [5dc9fb4198] gtjoseph -- res_pjsip/location: Fix ref leak in
       contact_apply_handler
     * [9e7827e3ac] Corey Farrell -- pjsip_configuration: Fix leak in
       persistent_endpoint_update_state.
     * [857166b5e5] gtjoseph -- res_pjsip/location: Fix memory leak in
       permanent_uri_handler

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   reference a JIRA issue.

   +------------------------------------------------------------------------+
   | Revision   | Author    | Summary                                       |
   |------------+-----------+-----------------------------------------------|
   | 96ec40eb70 | Matt      | Release summaries: Remove previous versions   |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | 3e526f11c3 | Matt      | .version: Update for 13.5.0                   |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | 68823f7438 | Matt      | .lastclean: Update for 13.5.0                 |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | d3526317bc | Matt      | realtime: Add database scripts for 13.5.0     |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | 59b6e5db76 | Matt      | ChangeLog: Updated for 13.5.0-rc1             |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | a4b527393b | Matt      | Release summaries: Add summaries for          |
   |            | Jordan    | 13.5.0-rc1                                    |
   |------------+-----------+-----------------------------------------------|
   | 158b0b8ebf | Matt      | .version: Update for 13.5.0-rc1               |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | a0a7650e34 | Matt      | .lastclean: Update for 13.5.0-rc1             |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | 4d238af086 | Matt      | realtime: Add database scripts for 13.5.0-rc1 |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | f78a4b52b8 | Matt      | Bump the ARI version to 1.8.0                 |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | b4e19e414a | Mark      | res_pjsip: Add rtp_keepalive to sample config |
   |            | Michelson | file.                                         |
   |------------+-----------+-----------------------------------------------|
   | a23adcca3d | Michael   | res/res_musiconhold: Add a warning when MOH   |
   |            | Cargile   | does not exist                                |
   |------------+-----------+-----------------------------------------------|
   | 03064daeb2 | Matt      | res/res_sorcery_config: Prevent crash from    |
   |            | Jordan    | misconfigured sorcery.conf                    |
   |------------+-----------+-----------------------------------------------|
   | 243c0d1609 | Richard   | parking_applications.c: Fix ast_verb() line   |
   |            | Mudgett   | terminator.                                   |
   |------------+-----------+-----------------------------------------------|
   | 2735dd5b2d | Richard   | res_pjsip_session.c: Extract                  |
   |            | Mudgett   | sip_session_defer_termination_stop_timer().   |
   |------------+-----------+-----------------------------------------------|
   | 3d0ca343ca | Richard   | res_pjsip_session.c: Add some helpful         |
   |            | Mudgett   | comments and minor tweaks.                    |
   |------------+-----------+-----------------------------------------------|
   | 8d08bb179c | Richard   | res_pjsip_session.c: Fix off nominal crash    |
   |            | Mudgett   | potential in debug message.                   |
   |------------+-----------+-----------------------------------------------|
   | 0a1a550593 | Matt      | apps/app_dictate: Fix typo in attribution     |
   |            | Jordan    |                                               |
   |------------+-----------+-----------------------------------------------|
   | 0b6ff77afb | Matt      | res/res_sorcery_astdb: Add a debugging        |
   |            | Jordan    | message for when retrieval by ID fails        |
   |------------+-----------+-----------------------------------------------|
   | 2f0d6d346c | Matt      | res/res_pjsip_outbound_registration: Fix      |
   |            | Jordan    | WARNING message                               |
   |------------+-----------+-----------------------------------------------|
   | cd2213f1ae | Matt      | res_pjsip/configuration: Fix a variety of     |
   |            | Jordan    | default value problems                        |
   |------------+-----------+-----------------------------------------------|
   | 2e4bdbd78a | Matt      | main/sorcery: Provide log messages when a     |
   |            | Jordan    | wizard does not support an operation          |
   |------------+-----------+-----------------------------------------------|
   | 2325b106fd | Matt      | tests/test_devicestate: Add additional tests  |
   |            | Jordan    | for the device state API                      |
   |------------+-----------+-----------------------------------------------|
   | 328f0be806 | Matt      | main/devicestate: Prevent duplicate           |
   |            | Jordan    | registration of device state providers        |
   |------------+-----------+-----------------------------------------------|
   | bee41eec62 | Matt      | res/res_sorcery_memory_cache: Fix test        |
   |            | Jordan    | registration issues                           |
   |------------+-----------+-----------------------------------------------|
   | 4d738e9026 | Matt      | tests/test_sorcery_memory_cache_thrash: Fix   |
   |            | Jordan    | test loading problems                         |
   |------------+-----------+-----------------------------------------------|
   | 47ea312b24 | Benjamin  | ARI: Added new functionality to get all       |
   |            | Ford      | module information.                           |
   |------------+-----------+-----------------------------------------------|
   | 38bace4fbb | Richard   | res_pjsip_t38.c: Fix always false if test.    |
   |            | Mudgett   |                                               |
   |------------+-----------+-----------------------------------------------|
   | 2f7688c788 | Richard   | res_pjsip_mwi.c: Use safer loop coding in     |
   |            | Mudgett   | mwi_subscription_mailboxes_str().             |
   |------------+-----------+-----------------------------------------------|
   | 74be3a50d7 | Richard   | res_pjsip_mwi.c: Eliminate a simple RAII_VAR. |
   |            | Mudgett   |                                               |
   |------------+-----------+-----------------------------------------------|
   | 589e93617a | Richard   | res_pjsip_mwi.c: Fix mid-line log message     |
   |            | Mudgett   | line breaks.                                  |
   |------------+-----------+-----------------------------------------------|
   | 49f81ddb85 | Matt      | Makefile: Remove coverage files on 'make      |
   |            | Jordan    | clean'                                        |
   |------------+-----------+-----------------------------------------------|
   | 78a1f4aa46 | Richard   | chan_vpb.cc: Fix compiler warning Jenkins     |
   |            | Mudgett   | found.                                        |
   |------------+-----------+-----------------------------------------------|
   | 8e07ab145d | Matt      | sorcery/realtime: Add a bit of debug and      |
   |            | Jordan    | warning messages for bad configs              |
   |------------+-----------+-----------------------------------------------|
   | a5e9c4e9b2 | Matt      | res/res_corosync: Always decline module load, |
   |            | Jordan    | instead of failing                            |
   |------------+-----------+-----------------------------------------------|
   | 2602a7484b | Richard   | test.c: Add unit test registration checks for |
   |            | Mudgett   | summary and description.                      |
   |------------+-----------+-----------------------------------------------|
   | 2b0482d699 | Richard   | Unit tests: Fix unit test description         |
   |            | Mudgett   | strings.                                      |
   |------------+-----------+-----------------------------------------------|
   | 036bc0012f | Richard   | res_pjsip_outbound_registration.c: Add        |
   |            | Mudgett   | missing line endings to CLI commands          |
   |------------+-----------+-----------------------------------------------|
   | bec7435945 | Richard   | res_pjsip_outbound_registration.c: Eliminate  |
   |            | Mudgett   | simple RAII_VAR() usage.                      |
   |------------+-----------+-----------------------------------------------|
   | c2519fdf1c | Richard   | res_pjsip_outbound_registration.c: Misc code  |
   |            | Mudgett   | cleanups.                                     |
   |------------+-----------+-----------------------------------------------|
   | a2b718f4f6 | Richard   | res_pjsip.h: Fix some doxygen comments.       |
   |            | Mudgett   |                                               |
   |------------+-----------+-----------------------------------------------|
   | 32ddf6d86b | Richard   | taskprocessor.c: Remove extra unref from      |
   |            | Mudgett   | off-nominal path.                             |
   |------------+-----------+-----------------------------------------------|
   | e0090216db | ibercom   | CLI: Cosmetic issue - core show uptime        |
   |------------+-----------+-----------------------------------------------|
   | d908272b7e | David M.  | Fixes for OS X                                |
   |            | Lee       |                                               |
   |------------+-----------+-----------------------------------------------|
   | 1558a89129 | gtjoseph  | Revert "endpoint/stasis: Eliminate duplicate  |
   |            |           | events on endpoint status change"             |
   |------------+-----------+-----------------------------------------------|
   | 5a42397018 | Joshua    | sorcery: Fix cache creation callback.         |
   |            | Colp      |                                               |
   |------------+-----------+-----------------------------------------------|
   | 51ffed5e61 | Matt      | res/res_pjsip_pubsub: Note that 'dialog' is   |
   |            | Jordan    | also a valid event type for RLS               |
   |------------+-----------+-----------------------------------------------|
   | 7950b65e4f | Matt      | res/res_pjsip_exten_state: Fix confusing      |
   |            | Jordan    | NOTICE message                                |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 asterisk-13.4.0-summary.html                                                      |   18
 asterisk-13.4.0-summary.txt                                                       |   87
 b/.version                                                                        |    2
 b/CHANGES                                                                         |   41
 b/ChangeLog                                                                       | 2194 ++++++++
 b/Makefile                                                                        |    4
 b/Makefile.moddir_rules                                                           |    1
 b/UPGRADE.txt                                                                     |   11
 b/apps/Makefile                                                                   |    2
 b/apps/app_dial.c                                                                 |   20
 b/apps/app_dictate.c                                                              |    2
 b/apps/app_directory.c                                                            |   48
 b/apps/app_meetme.c                                                               |   18
 b/autoconf/ast_gcc_attribute.m4                                                   |    2
 b/bridges/bridge_native_rtp.c                                                     |   28
 b/channels/Makefile                                                               |    8
 b/channels/chan_dahdi.c                                                           |   14
 b/channels/chan_iax2.c                                                            |  144
 b/channels/chan_mgcp.c                                                            |   18
 b/channels/chan_pjsip.c                                                           |   17
 b/channels/chan_sip.c                                                             |   45
 b/channels/chan_skinny.c                                                          |   10
 b/channels/chan_vpb.cc                                                            |    5
 b/channels/misdn/Makefile                                                         |    2
 b/channels/sig_pri.c                                                              |    2
 b/channels/sig_pri.h                                                              |    2
 b/codecs/gsm/Makefile                                                             |    2
 b/configs/samples/pjsip.conf.sample                                               |   14
 b/configs/samples/sip.conf.sample                                                 |    2
 b/configure                                                                       |   22
 b/contrib/ast-db-manage/config/versions/26f10cadc157_add_pjsip_timeout_options.py |   24
 b/contrib/ast-db-manage/config/versions/28b8e71e541f_add_g726_non_standard.py     |   30
 b/contrib/ast-db-manage/config/versions/498357a710ae_add_rtp_keepalive.py         |   22
 b/contrib/realtime/mssql/mssql_config.sql                                         |   28
 b/contrib/realtime/mysql/mysql_config.sql                                         |   20
 b/contrib/realtime/oracle/oracle_config.sql                                       |   28
 b/contrib/realtime/postgresql/postgresql_config.sql                               |   16
 b/doc/appdocsxml.xslt                                                             |    6
 b/funcs/func_cdr.c                                                                |    3
 b/funcs/func_pjsip_aor.c                                                          |    2
 b/include/asterisk/ari.h                                                          |    5
 b/include/asterisk/bridge.h                                                       |    2
 b/include/asterisk/bridge_channel_internal.h                                      |   40
 b/include/asterisk/manager.h                                                      |    2
 b/include/asterisk/module.h                                                       |   37
 b/include/asterisk/pbx.h                                                          |   16
 b/include/asterisk/res_pjsip.h                                                    |   58
 b/include/asterisk/res_pjsip_presence_xml.h                                       |    9
 b/include/asterisk/res_pjsip_session.h                                            |    4
 b/include/asterisk/rtp_engine.h                                                   |   32
 b/include/asterisk/slin.h                                                         |    4
 b/include/asterisk/sorcery.h                                                      |   20
 b/include/asterisk/stasis.h                                                       |   11
 b/include/asterisk/stasis_endpoints.h                                             |    6
 b/include/asterisk/strings.h                                                      |   54
 b/include/asterisk/test.h                                                         |   13
 b/include/asterisk/threadpool.h                                                   |   69
 b/main/.gitignore                                                                 |    1
 b/main/Makefile                                                                   |    2
 b/main/astfd.c                                                                    |   57
 b/main/astobj2_hash.c                                                             |   11
 b/main/audiohook.c                                                                |   25
 b/main/bridge.c                                                                   |   63
 b/main/bridge_channel.c                                                           |   45
 b/main/cdr.c                                                                      |   10
 b/main/channel.c                                                                  |    6
 b/main/channel_internal_api.c                                                     |   11
 b/main/cli.c                                                                      |   18
 b/main/config.c                                                                   |    1
 b/main/core_unreal.c                                                              |   12
 b/main/devicestate.c                                                              |    9
 b/main/format_cap.c                                                               |   19
 b/main/loader.c                                                                   |   54
 b/main/manager_channels.c                                                         |   39
 b/main/manager_endpoints.c                                                        |    1
 b/main/pbx.c                                                                      |   46
 b/main/presencestate.c                                                            |   15
 b/main/rtp_engine.c                                                               |   28
 b/main/sched.c                                                                    |   12
 b/main/sorcery.c                                                                  |   60
 b/main/stasis.c                                                                   |    4
 b/main/stasis_channels.c                                                          |   10
 b/main/stasis_endpoints.c                                                         |   71
 b/main/taskprocessor.c                                                            |    1
 b/main/test.c                                                                     |   36
 b/main/threadpool.c                                                               |  148
 b/main/utils.c                                                                    |  130
 b/menuselect/configure                                                            |    8
 b/pbx/Makefile                                                                    |    2
 b/pbx/pbx_config.c                                                                |   15
 b/res/Makefile                                                                    |    8
 b/res/ari/ari_model_validators.c                                                  |  156
 b/res/ari/ari_model_validators.h                                                  |   45
 b/res/ari/resource_asterisk.c                                                     |  487 +
 b/res/ari/resource_asterisk.h                                                     |  127
 b/res/ari/resource_events.c                                                       |   39
 b/res/ari/resource_events.h                                                       |   15
 b/res/parking/parking_applications.c                                              |   12
 b/res/parking/parking_manager.c                                                   |   16
 b/res/res_ari.c                                                                   |    7
 b/res/res_ari_asterisk.c                                                          |  584 ++
 b/res/res_ari_events.c                                                            |  108
 b/res/res_corosync.c                                                              |    4
 b/res/res_hep_rtcp.c                                                              |    2
 b/res/res_http_websocket.c                                                        |   23
 b/res/res_musiconhold.c                                                           |    2
 b/res/res_mwi_external_ami.c                                                      |    6
 b/res/res_pjsip.c                                                                 |  468 +
 b/res/res_pjsip/location.c                                                        |   12
 b/res/res_pjsip/pjsip_configuration.c                                             |  126
 b/res/res_pjsip/pjsip_distributor.c                                               |  105
 b/res/res_pjsip/pjsip_options.c                                                   |    7
 b/res/res_pjsip_dialog_info_body_generator.c                                      |    9
 b/res/res_pjsip_dtmf_info.c                                                       |    8
 b/res/res_pjsip_exten_state.c                                                     |    2
 b/res/res_pjsip_mwi.c                                                             |  262 -
 b/res/res_pjsip_nat.c                                                             |   90
 b/res/res_pjsip_outbound_registration.c                                           |  454 +
 b/res/res_pjsip_pidf_body_generator.c                                             |   11
 b/res/res_pjsip_pubsub.c                                                          |    5
 b/res/res_pjsip_refer.c                                                           |   46
 b/res/res_pjsip_registrar.c                                                       |    2
 b/res/res_pjsip_sdp_rtp.c                                                         |  114
 b/res/res_pjsip_session.c                                                         |  256
 b/res/res_pjsip_t38.c                                                             |   22
 b/res/res_pjsip_transport_websocket.c                                             |   99
 b/res/res_pjsip_xpidf_body_generator.c                                            |    9
 b/res/res_rtp_asterisk.c                                                          |  215
 b/res/res_security_log.c                                                          |    2
 b/res/res_sorcery_astdb.c                                                         |    1
 b/res/res_sorcery_config.c                                                        |   11
 b/res/res_sorcery_memory_cache.c                                                  | 2572 ++++++++++
 b/res/res_sorcery_realtime.c                                                      |    2
 b/res/res_stasis.c                                                                |    6
 b/res/res_stasis_device_state.c                                                   |    2
 b/res/res_timing_kqueue.c                                                         |    4
 b/res/res_timing_timerfd.c                                                        |    5
 b/res/res_xmpp.c                                                                  |    4
 b/res/stasis/app.c                                                                |    5
 b/res/stasis/control.c                                                            |    4
 b/rest-api-templates/ari_resource.h.mustache                                      |   19
 b/rest-api-templates/res_ari_resource.c.mustache                                  |   70
 b/rest-api/api-docs/applications.json                                             |    2
 b/rest-api/api-docs/asterisk.json                                                 |  307 +
 b/rest-api/api-docs/bridges.json                                                  |    2
 b/rest-api/api-docs/channels.json                                                 |    2
 b/rest-api/api-docs/deviceStates.json                                             |    2
 b/rest-api/api-docs/endpoints.json                                                |    2
 b/rest-api/api-docs/events.json                                                   |    2
 b/rest-api/api-docs/mailboxes.json                                                |    2
 b/rest-api/api-docs/playbacks.json                                                |    2
 b/rest-api/api-docs/recordings.json                                               |    2
 b/rest-api/api-docs/sounds.json                                                   |    2
 b/rest-api/resources.json                                                         |    2
 b/tests/test_cdr.c                                                                |   46
 b/tests/test_cel.c                                                                |   50
 b/tests/test_channel_feature_hooks.c                                              |    4
 b/tests/test_devicestate.c                                                        |  432 +
 b/tests/test_expr.c                                                               |    2
 b/tests/test_format_cap.c                                                         |    2
 b/tests/test_gosub.c                                                              |   10
 b/tests/test_message.c                                                            |   18
 b/tests/test_pbx.c                                                                |    9
 b/tests/test_poll.c                                                               |    2
 b/tests/test_sorcery_memory_cache_thrash.c                                        |  618 ++
 b/tests/test_sorcery_realtime.c                                                   |    2
 b/tests/test_stasis.c                                                             |    4
 b/tests/test_strings.c                                                            |   70
 b/tests/test_threadpool.c                                                         |    4
 169 files changed, 11351 insertions(+), 1237 deletions(-)
