                                Release Summary

                              asterisk-13.4.0-rc1

                                Date: 2015-05-21

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Open Issues
    5. Other Changes
    6. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release is a point release of an existing major version. The changes
   included were made to address problems that have been identified in this
   release series, or are minor, backwards compatible new features or
   improvements. Users should be able to safely upgrade to this version if
   this release series is already in use. Users considering upgrading from a
   previous version are strongly encouraged to review the UPGRADE.txt
   document as well as the CHANGES document for information about upgrading
   to this release series.

   Security Advisories:

     * The data in this summary reflects changes that have been made since
   the previous release, asterisk-13.3.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were affected by commits that went into
   this release.

   Coders                      Testers              Reporters                 
   31 Corey Farrell            6 George Joseph      25 Diederik de Groot      
   24 George Joseph            6 George Joseph      21 Corey Farrell          
   18 dkdegroot (License 6600) 2 Rusty Newton       19 Corey Farrell          
   18 Richard Mudgett          1 Ivan Poddubny      10 Matt Jordan            
   13 Mark Michelson           1 Alexandre Fournier 6 George Joseph           
   10 Kevin Harwell            1 Sebastian Kemper   6 Matt Jordan             
   10 Matt Jordan              1 tensai             6 Mark Michelson          
   8 Joshua Colp               1 Dmitriy Serov      5 Mark Michelson          
   7 Rodrigo RamArez           1 Carl Fortin        4 Joshua Colp             
   Norambuena                  1 Ed Hynan           4 Rodrigo Ramirez         
   5 Matthew Jordan            1 Juergen Spies      Norambuena                
   5 Diederik de Groot                              4 Joshua Colp             
   5 Jonathan Rose                                  3 yaron nahum             
   5 mjordan                                        3 Jonathan Rose           
   4 Ashley Sanders                                 3 snuffy                  
   4 Scott Griepentrog                              3 Richard Mudgett         
   3 Rusty Newton                                   3 Jonathan Rose           
   3 Ivan Poddubny                                  3 Dmitriy Serov           
   2 snuffy                                         3 Richard Mudgett         
   2 yaron nahum (License                           2 Steve Davies            
   6676)                                            2 Chet Stevens            
   1 D Tucny                                        2 Ashley Sanders          
   1 Yousf Ateya                                    2 Rodrigo Ramirez         
   1 Sebastian Kemper                               Norambuena                
   1 Y Ateya (License 6693)                         2 Scott Griepentrog       
   1 Martin Tomec                                   2 Kevin Harwell           
   1 Alexander Traud (License                       2 George Joseph           
   6520)                                            2 yaron nahum             
   1 Simon Arlott (License                          2 David Brillert          
   5756)                                            2 Ashley Sanders          
   1 Corey Edwards                                  1 Sebastian Kemper        
   1 mhej (license 6085)                            1 tootai                  
   1 scsiguy (License 6692)                         1 Alexandr Gordeev        
   1 Juergen Spies (License                         1 Sebastian Kemper        
   6698)                                            1 Jaco Kroon              
   1 Sean Bright                                    1 Jeffrey Ollie           
   1 Alexandre Fournier                             1 viniciusfontes          
   1 Stefan EngstrAP:m                              1 Marcello Ceschia        
   (License 6691)                                   1 Gareth Blades           
   1 Valentin VidiA:* (License                      1 Alexander Traud         
   6697)                                            1 Nick Ruggles            
   1 David M. Lee                                   1 Warren Selby            
   1 Jaco Kroon (License 5671)                      1 Jeremy Kister           
   1 Steve Davies                                   1 philippebolduc          
                                                    1 Ivan Poddubny           
                                                    1 Badalian Vyacheslav     
                                                    1 Carl Fortin             
                                                    1 Etienne Lessard         
                                                    1 John Bigelow            
                                                    1 Warren Selby            
                                                    1 Makoto Dei              
                                                    1 Kevin Harwell           
                                                    1 Ray Crumrine            
                                                    1 Juergen Spies           
                                                    1 Brad Latus              
                                                    1 Makoto Dei              
                                                    1 Tove Hjelm              
                                                    1 David Brillert          
                                                    1 Alexander Traud         
                                                    1 Vadim                   
                                                    1 Nick Ruggles            
                                                    1 Artem Volodin           
                                                    1 Andrew Zherdin          
                                                    1 Timo TerACURs           
                                                    1 Artem Volodin           
                                                    1 Christoph Timm          
                                                    1 Ronald Raikes           
                                                    1 Jeremy Kister           
                                                    1 Timo TerACURs           
                                                    1 Marcello Ceschia        
                                                    1 Rusty Newton            
                                                    1 Denis Alberto Martinez  
                                                    1 Etienne Lessard         
                                                    1 Ivan Poddubny           
                                                    1 Ray Crumrine            
                                                    1 Dan Tucny               
                                                    1 Frederic Van Espen      
                                                    1 Scott Griepentrog       
                                                    1 JoshE                   
                                                    1 pj                      
                                                    1 George Ladoff           
                                                    1 Juergen Spies           
                                                    1 Chet Stevens            
                                                    1 Andrew Zherdin          
                                                    1 Carl Fortin             
                                                    1 scsiguy                 
                                                    1 Gareth Blades           
                                                    1 Andrew Nagy             
                                                    1 Alexandre Fournier      
                                                    1 dant                    
                                                    1 Jaco Kroon              
                                                    1 Jeffrey C. Ollie        
                                                    1 Andrew Nagy             
                                                    1 Christoph Timm          
                                                    1 John Bigelow            
                                                    1 Frederic Van Espen      
                                                    1 Malcolm Davenport       
                                                    1 Maciej Szmigiero        
                                                    1 Vadim                   
                                                    1 Simon Arlott            
                                                    1 Malcolm Davenport       
                                                    1 Ronald Raikes           
                                                    1 Simon Arlott            
                                                    1 Alexandr Gordeev        
                                                    1 Peter Whisker           
                                                    1 Steve Pitts             
                                                    1 Y Ateya                 
                                                    1 Peter Whisker           
                                                    1 Tove Hjelm              
                                                    1 Peter Katzmann          
                                                    1 Paolo Compagnini        

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  New Feature

    Category: Resources/res_ari_channels

   ASTERISK-24922: ARI: Add the ability to intercept hold and raise an event
   Reported by: Matt Jordan
     * [ab803ec342] Matthew Jordan -- ARI: Add the ability to intercept hold
       and raise an event

  Bug

    Category: Addons/res_config_mysql

   ASTERISK-25041: [patch]Broken column type checking in res_config_mysql
   addon
   Reported by: Alexandre Fournier
     * [e67e8d5c7f] Alexandre Fournier -- res_config_mysql: Fix broken column
       type checking

    Category: Applications/app_confbridge

   ASTERISK-24749: ConfBridge: Wrong language on playing conf-hasjoin and
   conf-hasleft when played to bridge
   Reported by: Philippe Bolduc
     * [7e5056b393] Kevin Harwell -- app_confbridge: Default the template
       option to a compatible default profile.
   ASTERISK-24841: ConfBridge: Strange sampling rates chosen when channels
   have multiple native formats
   Reported by: Matt Jordan
     * [82bc0fd3ad] Richard Mudgett -- res_fax: Fix latent bug exposed by
       ASTERISK-24841 changes.
     * [13cd99682d] Richard Mudgett --
       chan_pjsip/res_pjsip/bridge_softmix/core: Improve translation path
       choices.
     * [4441bb6a25] Richard Mudgett -- Bridging: Eliminate the unnecessary
       make channel compatible with bridge operation.
   ASTERISK-24864: app_confbridge: file playback blocks dtmf
   Reported by: Kevin Harwell
     * [fd434a210f] Kevin Harwell -- app_confbridge: file playback blocks
       dtmf

    Category: Applications/app_dial

   ASTERISK-24958: Forwarding loop detection inhibits certain desirable
   scenarios
   Reported by: Mark Michelson
     * [4f1a8dbe92] Mark Michelson -- Detect potential forwarding loops based
       on count.

    Category: Applications/app_queue

   ASTERISK-25038: Queue log "EXITWITHTIMEOUT" does not always contain
   waiting time
   Reported by: Etienne Lessard
     * [87263b47b5] Ivan Poddubny -- app_queue: Fix queue_log EXITWITHTIMEOUT
       containing only 1 parameter
   ASTERISK-23319: Segmentation fault in queue_exec at app_queue.c
   Reported by: Vadim
     * [e05c8ae68e] Stefan EngstrAP:m -- apps/app_queue: Prevent possible
       crash when evaluating queue penalty rules

    Category: Applications/app_voicemail

   ASTERISK-25082: Asterisk deletes message after doing a playback of an
   INBOX message using ast_vm_play when the Old folder is full for that
   mailbox.
   Reported by: Jonathan Rose
     * [d49d64b79c] Jonathan Rose -- app_voicemail: fix moving when old
       messages full

    Category: CDR/General

   ASTERISK-25090: CLI core show channel truncates cdr variables
   Reported by: snuffy
     * [091b436007] snuffy -- cdr: Fix 'core show channel' CDR variable
       truncation.

    Category: CDR/cdr_odbc

   ASTERISK-24976: cdr_odbc not include new columns added on 1.8
   Reported by: Rodrigo Ramirez Norambuena
     * [7f611fa0e8] Rodrigo RamArez Norambuena -- cdr/cdr_csv.c: Add a new
       option to enable columns added in Asterisk 1.8
     * [d5dd43856e] Rodrigo RamArez Norambuena -- cdr/cdr_odbc.c: Added to
       record new columns add on CDR 1.8 Asterisk Version

    Category: CDR/cdr_pgsql

   ASTERISK-24959: [patch]CLI command cdr show pgsql status
   Reported by: Rodrigo Ramirez Norambuena
     * [07e729cc7b] Rodrigo RamArez Norambuena -- cdr_pgsql: Fix CLI "cdr
       show pgsql status" command.

    Category: Channels/General

   ASTERISK-25025: Periodic crashes (in ast_channel_snapshot_create at
   stasis_channels.c) with Certified Asterisk 13.
   Reported by: Chet Stevens
     * [181ae3b8d9] Joshua Colp -- stasis: Fix dial masquerade datastore
       lifetime
     * [077979618b] Mark Michelson -- Prevent potential crash on blond
       transfer.

    Category: Channels/chan_dahdi

   ASTERISK-21893: Segfault after call hangup, in
   ast_channel_hangupcause_set, at channel_internal_api.c
   Reported by: Alexandr Gordeev
     * [c780b6e431] Richard Mudgett -- chan_dahdi/sig_pri: Fix crash on ISDN
       call hangup collision.
   ASTERISK-25034: chan_dahdi: Some telco switches occasionally ignore ISDN
   RESTART requests.
   Reported by: Richard Mudgett
     * [904f5d98f6] Richard Mudgett -- chan_dahdi: Improve
       force_restart_unavailable_chans option description.
     * [d3c310a28c] Richard Mudgett -- chan_dahdi: Add the chan_dahdi.conf
       force_restart_unavailable_chans option.
   ASTERISK-19608: Asterisk-1.8.x starts rejecting calls with cause code 44
   after some time.
   Reported by: Denis Alberto Martinez
     * [d3c310a28c] Richard Mudgett -- chan_dahdi: Add the chan_dahdi.conf
       force_restart_unavailable_chans option.
   ASTERISK-24895: After hangup on the side of the ISDN network no
   HangupRequest event comes for the dahdi channel.
   Reported by: Andrew Zherdin
     * [d08446ec36] Richard Mudgett -- chan_dahdi/sig_pri: Make post AMI
       HangupRequest events on PRI channels.
   ASTERISK-24869: Asterisk segfaults on DAHDI attended transfer due to
   application (appl) being NULL on unbridged channel
   Reported by: viniciusfontes
     * [b56c1914fa] Kevin Harwell -- bridge.c: NULL app causes crash during
       attended transfer

    Category: Channels/chan_iax2

   ASTERISK-22352: [patch] IAX2 custom qualify timer is not taken into
   account
   Reported by: Frederic Van Espen
     * [c39faa4729] Y Ateya -- channels/chan_iax2: Improve POKE expiration
       time calculation for lossy networks
   ASTERISK-24894: [patch] iax2_poke_noanswer expiration timer too short
   Reported by: Y Ateya
     * [c39faa4729] Y Ateya -- channels/chan_iax2: Improve POKE expiration
       time calculation for lossy networks
   ASTERISK-21211: chan_iax2 - unprotected access of iaxs[peer->callno]
   potentially results in segfault
   Reported by: Jaco Kroon
     * [05397ad01e] Jaco Kroon -- chan_iax2: Fix crash caused by unprotected
       access to iaxs[peer->callno]

    Category: Channels/chan_pjsip

   ASTERISK-24996: chan_pjsip: Creating Channel Causes Asterisk to Crash When
   Duplicate AOR Sections Exist in pjsip.conf
   Reported by: Ashley Sanders
     * [3278fe5327] Ashley Sanders -- chan_pjsip: Creating Channel Causes
       Asterisk to Crash When Duplicate AOR
   ASTERISK-25018: pjsip show endpoints crashes asterisk when qualified aors
   present
   Reported by: Ivan Poddubny
     * [99fb87ae13] George Joseph -- res_pjsip: Fix SEGV on pending-qualify
       contacts
   ASTERISK-24845: pjsip send notify not working with Cisco phone
   Reported by: Carl Fortin
     * [1da9ec969d] Mark Michelson -- res_pjsip_outbound_authenticator:
       Increase CSeq on authed requests.
   ASTERISK-24933: T38 fails negotiation
   Reported by: Jonathan Rose
     * [f21b45db49] Jonathan Rose -- res_pjsip_t38: Fix FAX failures when
       using PJSIP with authentication
   ASTERISK-24781: PJSIP: Unnecessary 180 Ringing messages sent with
   undesireabe consequences.
   Reported by: Richard Mudgett
     * [b1e9552b08] Richard Mudgett -- chan_pjsip: Add "rpid_immediate"
       option to prevent unnecessary "180 Ringing" messages.

    Category: Channels/chan_sip/CodecHandling

   ASTERISK-21777: Asterisk tries to transcode video instead of audio
   Reported by: Nick Ruggles
     * [a63f7ad04a] Richard Mudgett -- translate.c: Only select audio codecs
       to determine the best translation choice.

    Category: Channels/chan_sip/General

   ASTERISK-24835: Early Media Not working with Chan SIP and Asterisk 13
   Reported by: Andrew Nagy
     * [af458e2e60] Kevin Harwell -- chan_sip: make progressinband default to
       no

    Category: Channels/chan_sip/IPv6

   ASTERISK-18032: [patch] - IPv6 and IPv4 NAT not working
   Reported by: Christoph Timm
     * [be13c72142] Valentin VidiA:* -- chan_sip: Handle IPv4 mapped IPv6
       clients when NAT is enabled

    Category: Channels/chan_sip/SRTP

   ASTERISK-24887: [patch]tags in a=crypto lines do not accept 2 or more
   digits
   Reported by: Makoto Dei
     * [17d6ede337] Corey Edwards -- main/sdp_srtp.c: allow SDP crypto tag to
       be up to 9 digits

    Category: Channels/chan_sip/TCP-TLS

   ASTERISK-24847: [security] [patch] tcptls: certificate CN NULL byte prefix
   bug
   Reported by: Matt Jordan
     * [f767440906] mhej -- Security/tcptls: MitM Attack potential from
       certificate with NULL byte in CN.

    Category: Channels/chan_skinny

   ASTERISK-13721: memory leak in "strings.c"
   Reported by: pj
     * [222fbe1d9a] Corey Farrell -- Build System: Replace comment about
       setting menuselect defaults.

    Category: Core/AstMM

   ASTERISK-25048: Astobj2: Initialization order wrong when both refdebug and
   AO2_DEBUG are both enabled.
   Reported by: Corey Farrell
     * [5875bf183c] Corey Farrell -- Astobj2: Fix initialization order of
       refdebug and AO2_DEBUG.

    Category: Core/Bridging

   ASTERISK-24869: Asterisk segfaults on DAHDI attended transfer due to
   application (appl) being NULL on unbridged channel
   Reported by: viniciusfontes
     * [b56c1914fa] Kevin Harwell -- bridge.c: NULL app causes crash during
       attended transfer
   ASTERISK-24782: StasisEnd event not present for channel that was swapped
   out for another after completing attended transfer
   Reported by: John Bigelow
     * [d754f70239] Kevin Harwell -- bridge.c: Hangup attended transfer
       target after it has been swapped out

    Category: Core/BuildSystem

   ASTERISK-25074: Regression: Recent clang-related change broke cross
   compiling of Asterisk
   Reported by: Sebastian Kemper
     * [6627de830b] Sebastian Kemper -- General: Fix recent
       menuselect-related cross compile regression
   ASTERISK-25027: Build System: Many ARI modules are missing dependencies.
   Reported by: Corey Farrell
     * [366ea63438] Corey Farrell -- res_ari_bridges: Add missing
       dependencies.
     * [d61f03c4f9] Corey Farrell -- ARI: Fix missing dependencies.
     * [3e4624ad21] Corey Farrell -- res_pjsip: Remove incorrect MODULEINFO
       from presence_xml.c.
     * [fed9faab8d] Corey Farrell -- Git Migration: Create doc/rest-api when
       needed.
   ASTERISK-25028: Build System: Unneeded defines in asterisk/buildopts.h
   Reported by: Corey Farrell
     * [ac1f0090eb] Corey Farrell -- Build System: Prevent unneeded changes
       to asterisk/buildopts.h.
   ASTERISK-24954: Git migration: Asterisk version numbers are incompatible
   with the Test Suite
   Reported by: Matt Jordan
     * [e996d8f728] Matt Jordan -- build_tools/make_version: Update version
       parsing for Git migration
   ASTERISK-24932: Asterisk 13.x does not build with GCC 5.0
   Reported by: Jeffrey C. Ollie
     * [95de71f247] George Joseph -- build: Fixes for gcc 5 compilation

    Category: Core/CallCompletionSupplementaryServices

   ASTERISK-24142: CCSS: crash during shutdown due to device lookup in
   destroyed container
   Reported by: David Brillert
     * [6adf26f14d] Corey Farrell -- Replace most uses of ast_register_atexit
       with ast_register_cleanup.

    Category: Core/Channels

   ASTERISK-24991: Check for ao2_alloc failure in
   __ast_channel_internal_alloc
   Reported by: Corey Farrell
     * [ad1a118632] Corey Farrell -- Check for ao2_alloc failure in
       __ast_channel_internal_alloc.
   ASTERISK-24380: core: Native formats are set to h264 with certain
   audio/video codec configuration, resulting in path translation WARNINGs
   Reported by: Matt Jordan
     * [a63f7ad04a] Richard Mudgett -- translate.c: Only select audio codecs
       to determine the best translation choice.

    Category: Core/CodecInterface

   ASTERISK-21777: Asterisk tries to transcode video instead of audio
   Reported by: Nick Ruggles
     * [a63f7ad04a] Richard Mudgett -- translate.c: Only select audio codecs
       to determine the best translation choice.

    Category: Core/Configuration

   ASTERISK-25042: asterisk.conf options override command-line options.
   Reported by: Corey Farrell
     * [3cdb7950f0] Corey Farrell -- Fix processing of asterisk.conf
       debug=yes.

    Category: Core/General

   ASTERISK-24944: main/audiohook.c change prevents G722 call recording
   Reported by: Ronald Raikes
     * [b1e8c0b9eb] Kevin Harwell -- audiohook.c: Difference in read/write
       rates caused continuous buffer resets
   ASTERISK-25083: Message.c: Message channel becomes saturated with frames
   leading to spammy log messages
   Reported by: Jonathan Rose
     * [02c5130589] Jonathan Rose -- Message.c: Clear message channel frames
       on cleanup
   ASTERISK-24896: [patch] Using force black background leads to colours not
   being reset
   Reported by: dant
     * [92120247e9] D Tucny -- term: send proper reset sequence when black
       background is forced
   ASTERISK-24997: Astobj2: Some callers of __adjust_lock do not pre-check
   the object
   Reported by: Corey Farrell
     * [73efb093b8] Corey Farrell -- Astobj2: Ensure all calls to
       __adjust_lock pass a valid object.
   ASTERISK-24155: [patch]Non-portable and non-reliable recursion detection
   in ast_malloc
   Reported by: Timo TerACURs
     * [d01706ce1e] Corey Farrell -- Improved and portable ast_log recursion
       avoidance
   ASTERISK-24881: ast_register_atexit should only be used when absolutely
   needed
   Reported by: Corey Farrell
     * [6adf26f14d] Corey Farrell -- Replace most uses of ast_register_atexit
       with ast_register_cleanup.

    Category: Core/Logging

   ASTERISK-25112: Logger: Configuration settings are not reset to default
   during reload.
   Reported by: Corey Farrell
     * [9b6e228419] Corey Farrell -- Logger: Reset defaults before processing
       config.

    Category: Core/PBX

   ASTERISK-24442: Outgoing call files don't work properly when set in the
   future
   Reported by: tootai
     * [d5864a358c] Ivan Poddubny -- pbx/pbx_spool: Fix issue when call files
       were executed too early
   ASTERISK-24774: Segfault in ast_context_destroy with extensions.ael and
   extensions.conf
   Reported by: Corey Farrell
     * [f0c82a173a] Matt Jordan -- main/pbx: Don't attempt to destroy a
       previously destroyed exten/priority tuple
   ASTERISK-24914: Division by zero in file.c when playback of voicemail with
   video as h264
   Reported by: Marcello Ceschia
     * [2443b40341] Mark Michelson -- Ensure that a non-zero sample rate is
       returned for all formats.
   ASTERISK-24683: Crash in PBX ast_hashtab_lookup_internal during core
   restart now
   Reported by: Peter Katzmann
     * [6adf26f14d] Corey Farrell -- Replace most uses of ast_register_atexit
       with ast_register_cleanup.
   ASTERISK-24805: [patch] - ASAN: Race condition (heap-use-after-free) on
   asterisk closing
   Reported by: Badalian Vyacheslav
     * [6adf26f14d] Corey Farrell -- Replace most uses of ast_register_atexit
       with ast_register_cleanup.

    Category: Core/Portability

   ASTERISK-24155: [patch]Non-portable and non-reliable recursion detection
   in ast_malloc
   Reported by: Timo TerACURs
     * [d01706ce1e] Corey Farrell -- Improved and portable ast_log recursion
       avoidance

    Category: Core/RTP

   ASTERISK-25022: Memory leak setting up DTLS/SRTP calls
   Reported by: Steve Davies
     * [d4e207e27e] Matt Jordan -- main/rtp_engine: Fix DTLS double-free
       introduced by 0b6410c4f8
     * [0b6410c4f8] Steve Davies -- res_rtp_asterisk: Resolve 2 discrete
       memory leaks in DTLS

    Category: Core/Sorcery

   ASTERISK-24996: chan_pjsip: Creating Channel Causes Asterisk to Crash When
   Duplicate AOR Sections Exist in pjsip.conf
   Reported by: Ashley Sanders
     * [3278fe5327] Ashley Sanders -- chan_pjsip: Creating Channel Causes
       Asterisk to Crash When Duplicate AOR

    Category: Features

   ASTERISK-25003: Asterisk crashes on attended transfer (using feature)
   Reported by: Artem Volodin
     * [be1260a35f] Richard Mudgett -- features: Fix crash when transferee
       hangs up during DTMF attended transfer.

    Category: Formats/General

   ASTERISK-25054: Formats interface's cannot be unregistered, needs to hold
   modules until shutdown.
   Reported by: Corey Farrell
     * [f38066fcad] Corey Farrell -- Format Interfaces: Prevent unload except
       by shutdown.

    Category: Functions/General

   ASTERISK-17608: func_aes.so cannot be loaded if res_crypto / openssl not
   compiled
   Reported by: Warren Selby
     * [0e4b997cd7] Corey Farrell -- res_monitor: Add dependency on
       func_periodic_hook.

    Category: Functions/func_odbc

   ASTERISK-22708: res_odbc.conf negative_connection_cache option not
   respected, failover between DSNs doesn't work
   Reported by: JoshE
     * [3dcec04ab5] Martin Tomec -- res_odbc: Use negative connection cache
       for all connections

    Category: Functions/func_periodic_hook

   ASTERISK-25085: [patch]Potential crash after unload of func_periodic_hook
   or test_message
   Reported by: Corey Farrell
     * [6b7282ca40] Corey Farrell -- Fix potential crash after unload of
       func_periodic_hook or test_message.

    Category: PBX/pbx_config

   ASTERISK-25061: pbx_config: Register manager actions with module version
   of macro.
   Reported by: Corey Farrell
     * [69ae8cf0a4] Corey Farrell -- pbx_config: Register manager actions
       with module version of macro.

    Category: Resources/res_corosync

   ASTERISK-24998: res_corosync: res_corosync tries to load even if
   res_corosync.conf is missing
   Reported by: George Joseph
     * [1474bb05f6] George Joseph -- res_corosync: Add check for config file
       before calling corosync apis

    Category: Resources/res_fax

   ASTERISK-22790: check_modem_rate() may return incorrect rate for V.27
   Reported by: Paolo Compagnini
     * [3fb6daeb55] Kevin Harwell -- res_fax: allow 2400 transmission rate
       according to v.27ter standard
   ASTERISK-23231: Since 405693 If we have res_fax.conf file set to
   minrate=2400, then res_fax refuse to load
   Reported by: David Brillert
     * [3fb6daeb55] Kevin Harwell -- res_fax: allow 2400 transmission rate
       according to v.27ter standard
   ASTERISK-24955: res_fax: v.27ter support baud rate of 2400, which is
   disallowed in res_fax's check_modem_rate
   Reported by: Matt Jordan
     * [3fb6daeb55] Kevin Harwell -- res_fax: allow 2400 transmission rate
       according to v.27ter standard

    Category: Resources/res_jabber

   ASTERISK-14233: [patch] Buddies are always auto-registered when processing
   the roster
   Reported by: Simon Arlott
     * [05de9082a5] Simon Arlott -- res_xmpp: Buddies are always
       auto-registered when processing the roster

    Category: Resources/res_odbc

   ASTERISK-22708: res_odbc.conf negative_connection_cache option not
   respected, failover between DSNs doesn't work
   Reported by: JoshE
     * [3dcec04ab5] Martin Tomec -- res_odbc: Use negative connection cache
       for all connections

    Category: Resources/res_parking

   ASTERISK-24899: Parking fall-through behavior different in 13
   Reported by: Malcolm Davenport
     * [0f25076f67] Mark Michelson -- ParkedCall: Don't allow dialplan
       fallthrough after retrieving parked call.

    Category: Resources/res_pjsip

   ASTERISK-25089: res_pjsip_config_wizard: Variable specified in templates
   aren't being processed correctly
   Reported by: George Joseph
     * [dd78ab42e4] George Joseph -- res_pjsip_config_wizard/config: Fix
       template processing
   ASTERISK-25033: Asterisk 13 (branch head) won't compile without PJSip
   Reported by: Peter Whisker
     * [63196a8256] Corey Farrell -- res_pjsip_dlg_options: Fix MODULEINFO
       section.
   ASTERISK-25020: Mismatched response to outgoing REGISTER request
   Reported by: Mark Michelson
     * [e39bd6ba46] Mark Michelson -- res_pjsip_outbound_registration: Don't
       fail on delayed processing: 13.
     * [1bf008fc76] Mark Michelson -- res_pjsip_outbound_registration: Add
       debugging messages.
   ASTERISK-24999: PJSIP crashes with malformed contact line
   Reported by: snuffy
     * [f70d21b2cf] George Joseph -- res_pjsip: Validate that contact uris
       start with sip: or sips:
   ASTERISK-24977: Contacts that don't use qualify are being marked as
   unavailable
   Reported by: George Joseph
     * [63169e00ff] George Joseph -- pjsip_options: Fix non-qualified
       contacts showing as unavailable
   ASTERISK-24863: res_pjsip: No endpoint events raised via AMI when contacts
   cannot be reached/qualified
   Reported by: Dmitriy Serov
     * [674b18bdf0] George Joseph -- pjsip_options: Add qualify_timeout
       processing and eventing
     * [bf46799f0e] George Joseph -- res_pjsip: Refactor endpt_send_request
       to include transaction timeout
     * [1b6f6ff841] George Joseph -- res_pjsip: Add global option to limit
       the maximum time for initial qualifies
   ASTERISK-24380: core: Native formats are set to h264 with certain
   audio/video codec configuration, resulting in path translation WARNINGs
   Reported by: Matt Jordan
     * [a63f7ad04a] Richard Mudgett -- translate.c: Only select audio codecs
       to determine the best translation choice.
   ASTERISK-24935: res_pjsip_phoneprov_provider: Fix leaked OBJ_MULTIPLE
   iterator.
   Reported by: Corey Farrell
     * [75c2c85962] George Joseph -- res_pjsip_phoneprov_provider: Fix
       reference leak on unload
     * [b1102cd642] Corey Farrell -- res_pjsip_phoneprov_provider: Revert
       433996 / 433997.
     * [709fa14b44] Corey Farrell -- res_pjsip_phoneprov_provider: Fix leaked
       OBJ_MULTIPLE iterator.
   ASTERISK-24910: "timer=no" and "timer=required" settings in pjsip.conf
   fail
   Reported by: Ray Crumrine
     * [2270c40d33] Kevin Harwell -- res_pjsip: config option 'timers' can't
       be set to 'no'
   ASTERISK-24920: Asterisk handles duplicate SIP requests as if they were
   each a new request
   Reported by: Mark Michelson
     * [85feac857c] Mark Michelson -- Add stateful PJSIP response API call,
       and use it for out-of-dialog responses.

    Category: Resources/res_pjsip_messaging

   ASTERISK-24937: [patch]res_pjsip_messaging: Messages may be sent out of
   order
   Reported by: Mark Michelson
     * [1ee8424f27] Mark Michelson -- res_pjsip_messaging: Serialize outbound
       SIP MESSAGEs

    Category: Resources/res_pjsip_mwi

   ASTERISK-24982: res_pjsip_mwi: Unsolicited MWI NOTIFY only sent on mailbox
   changes
   Reported by: Joshua Colp
     * [7b57116833] Joshua Colp -- res_pjsip_mwi: Send unsolicited MWI NOTIFY
       on startup and when endpoint registers.

    Category: Resources/res_pjsip_outbound_registration

   ASTERISK-25037: res_pjsip_outbound_registration: Potential crash in
   off-nominal failure case when sending message
   Reported by: Joshua Colp
     * [e332c7ed5e] Joshua Colp -- res_pjsip_outbound_registration: Fix
       double unref on error return.

    Category: Resources/res_pjsip_pubsub

   ASTERISK-25057: res_pjsip_pubsub: Crash in send_notify due to invalid root
   pointer in sub_tree
   Reported by: Matt Jordan
     * [d649d682c4] Joshua Colp -- res_pjsip_exten_state: Fix race condition
       between sending NOTIFY and termination
   ASTERISK-24970: Crash in res_pjsip_pubsub handling of failed notify
   Reported by: Scott Griepentrog
     * [8d4ce7cc2b] Scott Griepentrog -- res_pjsip_pubsub: On notify fail
       deleted sub_tree is then referenced

    Category: Resources/res_pjsip_session

   ASTERISK-25086: [patch]PJSIP crashes if endpoint missing in Dial()
   Reported by: snuffy
     * [f9114179e6] snuffy -- chan_pjsip: Fix crash during off-nominal when
       no endpoint specified.
   ASTERISK-24731: res_pjsip_session cannot be unloaded
   Reported by: Corey Farrell
     * [d0df545a44] Corey Farrell -- res_pjsip: Enable unload of all modules
       at shutdown.

    Category: Resources/res_pjsip_t38

   ASTERISK-24928: [patch]t38_udptl_maxdatagram in pjsip.conf not honored
   Reported by: Juergen Spies
     * [4cf7d0bf01] Juergen Spies -- res/res_pjsip_t38: Add missing
       initialization of t38faxmaxdatagram
   ASTERISK-24933: T38 fails negotiation
   Reported by: Jonathan Rose
     * [f21b45db49] Jonathan Rose -- res_pjsip_t38: Fix FAX failures when
       using PJSIP with authentication

    Category: Resources/res_rtp_asterisk

   ASTERISK-25022: Memory leak setting up DTLS/SRTP calls
   Reported by: Steve Davies
     * [d4e207e27e] Matt Jordan -- main/rtp_engine: Fix DTLS double-free
       introduced by 0b6410c4f8
     * [0b6410c4f8] Steve Davies -- res_rtp_asterisk: Resolve 2 discrete
       memory leaks in DTLS

    Category: Resources/res_stasis

   ASTERISK-24782: StasisEnd event not present for channel that was swapped
   out for another after completing attended transfer
   Reported by: John Bigelow
     * [d754f70239] Kevin Harwell -- bridge.c: Hangup attended transfer
       target after it has been swapped out

    Category: Resources/res_stasis_snoop

   ASTERISK-24938: ARI Snoop Channel results in excessive escalating CPU
   usage
   Reported by: George Ladoff
     * [68513e00f7] Kevin Harwell -- res_stasis_snoop: Spying on a single
       direction continually increases CPU

    Category: Resources/res_timing_kqueue

   ASTERISK-24857: [patch] "timing test", pjsip incoming/outgoing calls,
   voicemail prompts and recordings all fail when using the kqueue timer
   source on FreeBSD 10.x
   Reported by: Justin T. Gibbs
     * [6e6f5b3a1f] scsiguy -- res/res_timing_kqueue: Update the module to
       conform to current timer API

    Category: Resources/res_xmpp

   ASTERISK-24780: [patch] - Buddies are always auto-registered when
   processing the roster
   Reported by: Simon Arlott
     * [05de9082a5] Simon Arlott -- res_xmpp: Buddies are always
       auto-registered when processing the roster

    Category: Tests/General

   ASTERISK-25053: Unit test category /main/presence missing trailing slash.
   Reported by: Corey Farrell
     * [040d2f8558] Corey Farrell -- main/test.c: Add test to verify there
       were no registration errors.

    Category: pjproject/pjsip

   ASTERISK-25018: pjsip show endpoints crashes asterisk when qualified aors
   present
   Reported by: Ivan Poddubny
     * [99fb87ae13] George Joseph -- res_pjsip: Fix SEGV on pending-qualify
       contacts

  Improvement

    Category: Applications/app_stasis

   ASTERISK-24802: stasis: set a channel variable on websocket disconnect
   error
   Reported by: Kevin Harwell
     * [7293ecd90b] Ashley Sanders -- stasis: set a channel variable on
       websocket disconnect error

    Category: CEL/cel_pgsql

   ASTERISK-24965: cel_pgsql - log_error string references CDR instead of CEL
   Reported by: Rodrigo Ramirez Norambuena
     * [abd56db3e0] Rodrigo RamArez Norambuena -- cel_pgsql: Fix name string
       for log on unable allocate memory.

    Category: Channels/chan_pjsip

   ASTERISK-24706: [patch]add auto-dtmf mode for pjsip
   Reported by: yaron nahum
     * [e76a6a97bf] Matt Jordan -- contrib/ast-db-manage: Add Postgres ENUM
       type support in auto DTMF mode update
     * [88b0fa7755] yaron nahum -- res_pjsip: Add an 'auto' option for DTMF
       Mode
   ASTERISK-24862: [patch] Support in-dialog OPTIONS
   Reported by: yaron nahum
     * [2679d0100a] yaron nahum -- res/res_pjsip_dlg_options: Add a module to
       handle in-dialog OPTIONS requests

    Category: Channels/chan_sip/TCP-TLS

   ASTERISK-25043: [patch] Avoiding ERR_remove_state in OpenSSL
   Reported by: Alexander Traud
     * [2115f11b54] Alexander Traud -- tcptls: Avoiding ERR_remove_state in
       OpenSSL.

    Category: Core/General

   ASTERISK-25045: vector: Add new capabilities and unit tests
   Reported by: George Joseph
     * [5f9aea8e3c] George Joseph -- vector: Additional enhancements and
       fixes
     * [7a7e9733c2] George Joseph -- vector: Traversal, retrieval, insert and
       locking enhancements
   ASTERISK-25051: Remove unneeded uses of optional_api providers.
   Reported by: Corey Farrell
     * [ad6ea29697] Corey Farrell -- Remove unneeded uses of optional_api
       providers.
   ASTERISK-24917: [patch] clang compilation warnings
   Reported by: Diederik de Groot
     * [9c3ed42875] Diederik de Groot -- Update configure.ac/Makefile for
       clang
     * [e9788056e9] Matt Jordan -- channels/chan_skinny: Fix compilation
       error introduced in f8e21a1adf
     * [cb318f3960] Diederik de Groot -- Example script for scan-build (the
       llvm static analyzer)
     * [1bb16bedc7] Diederik de Groot -- Clang: change previous
       tautological-compare fixes.
     * [d6dfc85666] Diederik de Groot -- Clang: Fix some more
       tautological-compare warnings.
     * [2be9cc2643] Diederik de Groot -- Fix/Update clang-RAII macro
       implementation
     * [d0d78d5732] dkdegroot -- clang compiler warnings: Fix various
       warnings for tests
     * [6ba6e3dffd] dkdegroot -- clang compiler warnings: Fix autological
       comparisons
     * [f324870dab] dkdegroot -- clang compiler warnings: Fix
       pointer-bool-converesion warnings
     * [488f093e97] dkdegroot -- clang compiler warnings: Fix
       sometimes-initialized warning in func_math
     * [c027133f6d] dkdegroot -- clang compiler warnings: Fix
       non-literal-null-conversion warnings
     * [d54ccda3b1] dkdegroot -- clang compiler warnings: Remove large chunks
       of unused code from extconf
     * [0ecd472e4f] dkdegroot -- clang compiler warnings: Fix
       sometimes-uninitialized warning in pbx_config
     * [4e7be5b2dc] dkdegroot -- clang compiler warnings: Fix format
       specified in framehook
     * [5f8faf16af] dkdegroot -- clang compiler warnings: Fix
       -Wabsolute-value warnings
     * [09b681e344] dkdegroot -- clang compiler warnings: Fix invalid enum
       conversion
     * [7f33abb827] Matthew Jordan -- main/stdtime/localtime: Fix warning
       introduced in r433720
     * [47eeb67e14] dkdegroot -- clang compiler warnings: Ignore
       -Wunused-command-line-argument
     * [dbb4d6f9e7] dkdegroot -- clang compiler warnings: Fix warning for
       -Wgnu-variable-sized-type-not-at-end
     * [e126ab9eeb] dkdegroot -- clang compiler warnings: Fix a variety of
       "unused" warnings
     * [2f6534527d] dkdegroot -- clang compiler warnings: Fix -Wself-assign
     * [eb70993a50] dkdegroot -- clang compiler warnings: Fix
       -Wparantheses-equality warnings
     * [c0ff16036a] dkdegroot -- clang compiler warnings: Fix
       -Wbitfield-constant-conversion warning
     * [844bc76bef] dkdegroot -- clang compiler warnings: Fix
       -Winitializer-overrides
     * [5e204042d9] dkdegroot -- clang compiler warnings: Fix
       -Wunused-function; make inline function static

    Category: Core/PBX

   ASTERISK-25040: pbx: Improve performance of reloads by making hint
   destruction more performant
   Reported by: Matt Jordan
     * [1b19c15f17] Matt Jordan -- main/pbx: Improve performance of dialplan
       reloads with a large number of hints

    Category: Core/Sorcery

   ASTERISK-25044: sorcery: Add ability to insert a new wizard into an object
   type's list
   Reported by: George Joseph
     * [637c8f065e] George Joseph -- sorcery: Add API to insert/remove a
       wizard to/from an object type's list

    Category: Documentation

   ASTERISK-24892: Super Awesome Company sound prompts
   Reported by: Rusty Newton
     * [4dbd4021c9] Rusty Newton -- configs/basic-pbx: Modified main IVR to
       play new Allison prompt.

    Category: Resources/res_ari

   ASTERISK-24802: stasis: set a channel variable on websocket disconnect
   error
   Reported by: Kevin Harwell
     * [7293ecd90b] Ashley Sanders -- stasis: set a channel variable on
       websocket disconnect error

    Category: Resources/res_pjsip

   ASTERISK-24706: [patch]add auto-dtmf mode for pjsip
   Reported by: yaron nahum
     * [e76a6a97bf] Matt Jordan -- contrib/ast-db-manage: Add Postgres ENUM
       type support in auto DTMF mode update
     * [88b0fa7755] yaron nahum -- res_pjsip: Add an 'auto' option for DTMF
       Mode
   ASTERISK-24918: pjsip: add CLI options to display global and system
   configuration
   Reported by: Scott Griepentrog
     * [5737650a67] Kevin Harwell -- res_pjsip: add CLI command to show
       global and system configuration

    Category: Resources/res_pjsip_outbound_registration

   ASTERISK-24949: res_pjsip_outbound_registration: Backport line
   functionality
   Reported by: Joshua Colp
     * [89f6719f7a] Joshua Colp -- res_pjsip_outbound_registration: Add
       virtual line support.

    Category: Sounds

   ASTERISK-24892: Super Awesome Company sound prompts
   Reported by: Rusty Newton
     * [4dbd4021c9] Rusty Newton -- configs/basic-pbx: Modified main IVR to
       play new Allison prompt.
   ASTERISK-24744: Swedish Core Voice prompts
   Reported by: Tove Hjelm
     * [394fcb5eab] Rusty Newton -- sounds: Add Swedish sounds to Makefile
       and XML

     ----------------------------------------------------------------------

                                  Open Issues

                                 [Back to Top]

   This is a list of all open issues from the issue tracker that were
   referenced by changes that went into this release.

  Bug

    Category: Addons/res_config_mysql

   ASTERISK-18252: queue_log mysql time column data format
   Reported by: Gareth Blades
     * [e67e8d5c7f] Alexandre Fournier -- res_config_mysql: Fix broken column
       type checking

    Category: Functions/func_talkdetect

   ASTERISK-24988: func_talkdetect: Test is bouncing sporadically
   Reported by: Joshua Colp
     * [31cc24aad6] Matt Jordan -- res/res_http_websocket: Add a pre-session
       established callback

    Category: PBX/pbx_spool

   ASTERISK-17069: Callfile retries behave erratically as file size grows
   Reported by: Jeremy Kister
     * [d5864a358c] Ivan Poddubny -- pbx/pbx_spool: Fix issue when call files
       were executed too early

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   reference a JIRA issue.

   +------------------------------------------------------------------------+
   | Revision   | Author       | Summary                                    |
   |------------+--------------+--------------------------------------------|
   | 1bb62b037f | mjordan      | ChangeLog: Updated for 13.4.0-rc1          |
   |------------+--------------+--------------------------------------------|
   | 1e98a36699 | mjordan      | Release summaries: Add summaries for       |
   |            |              | 13.4.0-rc1                                 |
   |------------+--------------+--------------------------------------------|
   | 5c12e5ba72 | mjordan      | .version: Update for 13.4.0-rc1            |
   |------------+--------------+--------------------------------------------|
   | 69292a9f11 | mjordan      | .lastclean: Update for 13.4.0-rc1          |
   |------------+--------------+--------------------------------------------|
   | 628680803a | mjordan      | realtime: Add database scripts for         |
   |            |              | 13.4.0-rc1                                 |
   |------------+--------------+--------------------------------------------|
   | 9d8a462356 | Matt Jordan  | ARI: Update version to 1.7.0               |
   |------------+--------------+--------------------------------------------|
   | 7fcf0a97b8 | George       | app_playback: Suppress warnings on         |
   |            | Joseph       | playback if channel hung up                |
   |------------+--------------+--------------------------------------------|
   |            | Rodrigo      | main/manager.c: Bugfix sort action_manager |
   | 9b13536fed | RamArez      | by alphabetically                          |
   |            | Norambuena   |                                            |
   |------------+--------------+--------------------------------------------|
   | 16f602f5c2 | Yousf Ateya  | res_rtp_asterisk: Correction for the limit |
   |            |              | which detects that a packet is DTLS.       |
   |------------+--------------+--------------------------------------------|
   |            | Rodrigo      | cdr_pgsql: Use PQescapeStringConn for      |
   | 6553a00770 | RamArez      | escaping names.                            |
   |            | Norambuena   |                                            |
   |------------+--------------+--------------------------------------------|
   | ea917fefaf | George       | vector: Add REMOVE, ADD_SORTED and RESET   |
   |            | Joseph       | macros                                     |
   |------------+--------------+--------------------------------------------|
   | 613a461c3d | Sean Bright  | res_rtp_asterisk: Issue ERROR if res_srtp  |
   |            |              | is not found.                              |
   |------------+--------------+--------------------------------------------|
   | 5392e970d0 | George       | doc: Make progdocs play nice with git      |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 608f0a94ee | Ivan         | contrib/editors: Fix vim syntax            |
   |            | Poddubny     | highlighting of comments in config files   |
   |------------+--------------+--------------------------------------------|
   | 8b0f85ac06 | George       | test_vector: Fix build breakage caused by  |
   |            | Joseph       | ASTERISK_REGISTER_FILE                     |
   |------------+--------------+--------------------------------------------|
   |            | Rodrigo      |                                            |
   | 525c8c8689 | RamArez      | include/asterisk/channel.h: Fix typo       |
   |            | Norambuena   |                                            |
   |------------+--------------+--------------------------------------------|
   | 3efe0df044 | Corey        | Sample Configs: Fix syntax error in        |
   |            | Farrell      | pjsip.conf                                 |
   |------------+--------------+--------------------------------------------|
   |            | Mark         | res_pjsip_outbound_authenticator_digest:   |
   | 4b8cddfb36 | Michelson    | Add missing outbound authenticator         |
   |            |              | callback.                                  |
   |------------+--------------+--------------------------------------------|
   | 415a0d0745 | Joshua Colp  | res_ari_device_states: Fix dependency on   |
   |            |              | res_stasis_device_state.                   |
   |------------+--------------+--------------------------------------------|
   | 49ef81c15c | Joshua Colp  | res_sorcery_config: Fix build issue due to |
   |            |              | syntax error.                              |
   |------------+--------------+--------------------------------------------|
   | df23c8a86b | Joshua Colp  | res_pjsip_outbound_registration: Fix build |
   |            |              | due to removal of transaction.             |
   |------------+--------------+--------------------------------------------|
   | b0e929219b | George       | .gitignore: Add .gcno and .gcda            |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 3327560cb2 | Mark         | res_pjsip_pubsub: Set the endpoint on      |
   |            | Michelson    | SUBSCRIBE dialogs.                         |
   |------------+--------------+--------------------------------------------|
   | b74b2cdcda | George       | pjsip_options: Fix format specifier for    |
   |            | Joseph       | int64_t rtt.                               |
   |------------+--------------+--------------------------------------------|
   | 5d218cde87 | George       | More .gitignore updates                    |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 7d43d85bea | George       | .gitignore updates for master/13           |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 3d27c223a5 | David M. Lee | Fixing extconf compile                     |
   |------------+--------------+--------------------------------------------|
   | d1a6f1a9f9 | Matt Jordan  | git migration: Remove support for file     |
   |            |              | versions                                   |
   |------------+--------------+--------------------------------------------|
   | a77c31b99c | Corey        | main/editline: Add .gitignore.             |
   |            | Farrell      |                                            |
   |------------+--------------+--------------------------------------------|
   | d918c3b78e | Matt Jordan  | .gitignore: Ignore tarballs (*.gz)         |
   |------------+--------------+--------------------------------------------|
   | 555b5f5d30 | George       | Add .gitignore and .gitreview files        |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 5807ca519c | Matthew      | Blocked revisions 434708                   |
   |            | Jordan       |                                            |
   |------------+--------------+--------------------------------------------|
   | 16afee4651 | George       | res_pjsip_config_wizard: Cleanup load      |
   |            | Joseph       | unload                                     |
   |------------+--------------+--------------------------------------------|
   | 125acc52fe | Richard      | bridge_softmix.c,channel.c: Minor code     |
   |            | Mudgett      | simplification and cleanup.                |
   |------------+--------------+--------------------------------------------|
   | c9791dba1f | Matthew      | res/ari: Fix model validation for          |
   |            | Jordan       | ChannelHold event                          |
   |------------+--------------+--------------------------------------------|
   | 73c286a393 | George       | loader/main: Don't set ast_fully_booted    |
   |            | Joseph       | until deferred reloads are processed       |
   |------------+--------------+--------------------------------------------|
   | 1695a5b85f | Richard      | chan_iax2.c: Fix ref leak in               |
   |            | Mudgett      | iax2_request().                            |
   |------------+--------------+--------------------------------------------|
   |            | Richard      | bridge_native_rtp.c: Defer allocation and  |
   | 92c1688edb | Mudgett      | check if it fails in                       |
   |            |              | native_rtp_bridge_compatible().            |
   |------------+--------------+--------------------------------------------|
   | 1712d16825 | Richard      | format_cache.c: Add missing slin12 format  |
   |            | Mudgett      | to ast_format_cache_is_slinear().          |
   |------------+--------------+--------------------------------------------|
   | ae39dd1f46 | Matthew      | chan_iax2: Fix compilation issue due to    |
   |            | Jordan       | funky merge                                |
   |------------+--------------+--------------------------------------------|
   | a6aed7f6f6 | Scott        | Revert accidental change in r434261        |
   |            | Griepentrog  |                                            |
   |------------+--------------+--------------------------------------------|
   | 0584e29300 | Scott        | pjsip: resolve compatibility problem with  |
   |            | Griepentrog  | ast_sip_session                            |
   |------------+--------------+--------------------------------------------|
   | c516981dc7 | Mark         | Do not queue message requests that we do   |
   |            | Michelson    | not respond to.                            |
   |------------+--------------+--------------------------------------------|
   | 169e57d2e0 | Scott        | pjsip: resolve compatibility problem with  |
   |            | Griepentrog  | ast_sip_session                            |
   |------------+--------------+--------------------------------------------|
   | 1eb0c5f4e8 | Corey        | Tell menuselect that MALLOC_DEBUG          |
   |            | Farrell      | conflicts with DEBUG_CHAOS.                |
   |------------+--------------+--------------------------------------------|
   | e301185983 | Ashley       | stasis: set a channel variable on          |
   |            | Sanders      | websocket disconnect error                 |
   |------------+--------------+--------------------------------------------|
   | a1f12d9231 | Ashley       | stasis: set a channel variable on          |
   |            | Sanders      | websocket disconnect error                 |
   |------------+--------------+--------------------------------------------|
   | 94949e7f2f | Richard      | chan_sip: Fix expression in unit test      |
   |            | Mudgett      | /channels/chan_sip/test_sip_rtpqos.        |
   |------------+--------------+--------------------------------------------|
   | 9967739669 | Corey        | Re-add _ast_mem_backtrace_buffer variable  |
   |            | Farrell      | for ABI compatibility.                     |
   |------------+--------------+--------------------------------------------|
   | 2d39bc5528 | Corey        | Fix an ABI compatibility issue with        |
   |            | Farrell      | ast_log_safe for modules.                  |
   |------------+--------------+--------------------------------------------|
   | cfbf5fbe91 | Jonathan     | SAC: Add a few basic queues                |
   |            | Rose         |                                            |
   |------------+--------------+--------------------------------------------|
   | 1a50d8d4c2 | Jonathan     | SAC: Add conferencing extensions and       |
   |            | Rose         | configuration                              |
   |------------+--------------+--------------------------------------------|
   | c6c08d755d | Rusty Newton | configs/basic-pbx - Super Awesome Company  |
   |            |              | example configs Phase 1, Patch 2           |
   |------------+--------------+--------------------------------------------|
   |            | Richard      | res_pjsip_registrar_expire.c: Made use ao2 |
   | 13557675d4 | Mudgett      | container template routines and eliminated |
   |            |              | some RAII_VAR() usage.                     |
   |------------+--------------+--------------------------------------------|
   | dc2cf21144 | Richard      | res_pjsip_registrar_expire.c: Cleanup      |
   |            | Mudgett      | scheduler leaks on unload/shutdown.        |
   |------------+--------------+--------------------------------------------|
   | b0df413fb2 | Corey        | Fix link error for utils/aelparse.         |
   |            | Farrell      |                                            |
   |------------+--------------+--------------------------------------------|
   | 4b225e2104 | Corey        | Fix compile errors caused by r4500 /       |
   |            | Farrell      | r4501.                                     |
   |------------+--------------+--------------------------------------------|
   | dea885a607 | Richard      | A couple minor cleanup tweaks.             |
   |            | Mudgett      |                                            |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 asterisk-13.3.0-rc1-summary.html                                                          |  701 -
 asterisk-13.3.0-rc1-summary.txt                                                           |  877 --
 b/.gitignore                                                                              |   36
 b/.gitreview                                                                              |    4
 b/.version                                                                                |    2
 b/CHANGES                                                                                 |   53
 b/ChangeLog                                                                               | 3894 ++++++++++
 b/Makefile                                                                                |   46
 b/Makefile.moddir_rules                                                                   |    4
 b/Makefile.rules                                                                          |   12
 b/UPGRADE.txt                                                                             |   49
 b/addons/.gitignore                                                                       |    1
 b/addons/res_config_mysql.c                                                               |   66
 b/agi/.gitignore                                                                          |    3
 b/apps/app_confbridge.c                                                                   |   90
 b/apps/app_dial.c                                                                         |   85
 b/apps/app_dictate.c                                                                      |    2
 b/apps/app_followme.c                                                                     |   13
 b/apps/app_minivm.c                                                                       |    8
 b/apps/app_playback.c                                                                     |    4
 b/apps/app_queue.c                                                                        |  137
 b/apps/app_stasis.c                                                                       |   42
 b/apps/app_voicemail.c                                                                    |   39
 b/apps/confbridge/conf_config_parser.c                                                    |   32
 b/asterisk-13.4.0-rc1-summary.html                                                        |  656 +
 b/asterisk-13.4.0-rc1-summary.txt                                                         | 1831 ++++
 b/autoconf/ast_check_raii.m4                                                              |   56
 b/autoconf/ast_check_strsep_array_bounds.m4                                               |   81
 b/bridges/bridge_holding.c                                                                |   14
 b/bridges/bridge_native_rtp.c                                                             |   23
 b/bridges/bridge_simple.c                                                                 |   14
 b/bridges/bridge_softmix.c                                                                |  154
 b/build_tools/.gitignore                                                                  |    1
 b/build_tools/cflags.xml                                                                  |    1
 b/build_tools/get_moduleinfo                                                              |    5
 b/build_tools/make_buildopts_h                                                            |   32
 b/build_tools/make_version                                                                |    7
 b/cdr/cdr_csv.c                                                                           |   10
 b/cdr/cdr_odbc.c                                                                          |   32
 b/cdr/cdr_pgsql.c                                                                         |   44
 b/cel/cel_pgsql.c                                                                         |    4
 b/cel/cel_sqlite3_custom.c                                                                |    1
 b/channels/chan_dahdi.c                                                                   |    4
 b/channels/chan_iax2.c                                                                    |   60
 b/channels/chan_pjsip.c                                                                   |   48
 b/channels/chan_sip.c                                                                     |   22
 b/channels/chan_skinny.c                                                                  |   14
 b/channels/dahdi/bridge_native_dahdi.c                                                    |   15
 b/channels/pjsip/dialplan_functions.c                                                     |    4
 b/channels/sig_pri.c                                                                      |  138
 b/channels/sig_pri.h                                                                      |    2
 b/channels/sip/dialplan_functions.c                                                       |    2
 b/channels/sip/include/sip.h                                                              |    4
 b/codecs/gsm/src/gsm_create.c                                                             |    2
 b/configs/basic-pbx/cdr.conf                                                              |    7
 b/configs/basic-pbx/cdr_custom.conf                                                       |    4
 b/configs/basic-pbx/confbridge.conf                                                       |    1
 b/configs/basic-pbx/extensions.conf                                                       |  189
 b/configs/basic-pbx/logger.conf                                                           |    2
 b/configs/basic-pbx/modules.conf                                                          |   13
 b/configs/basic-pbx/pjsip.conf                                                            |   49
 b/configs/basic-pbx/queues.conf                                                           |   19
 b/configs/samples/cdr.conf.sample                                                         |    2
 b/configs/samples/cdr_odbc.conf.sample                                                    |    1
 b/configs/samples/chan_dahdi.conf.sample                                                  |   16
 b/configs/samples/pjsip.conf.sample                                                       |   14
 b/configs/samples/sip.conf.sample                                                         |    4
 b/configure                                                                               |  217
 b/configure.ac                                                                            |   39
 b/contrib/ast-db-manage/config/versions/23530d604b96_add_rpid_immediate.py                |   48
 b/contrib/ast-db-manage/config/versions/31cd4f4891ec_add_auto_dtmf_mode.py                |   64
 b/contrib/ast-db-manage/config/versions/461d7d691209_add_pjsip_qualify_timeout.py         |   25
 b/contrib/ast-db-manage/config/versions/a541e0b5e89_add_pjsip_max_initial_qualify_time.py |   20
 b/contrib/editors/asterisk.vim                                                            |    4
 b/contrib/realtime/mssql/mssql_cdr.sql                                                    |   42
 b/contrib/realtime/mssql/mssql_config.sql                                                 | 1046 ++
 b/contrib/realtime/mssql/mssql_voicemail.sql                                              |   48
 b/contrib/realtime/mysql/mysql_config.sql                                                 |   26
 b/contrib/realtime/oracle/oracle_config.sql                                               |   42
 b/contrib/realtime/postgresql/postgresql_config.sql                                       |   24
 b/contrib/scripts/clang-scan-build                                                        |  136
 b/doc/.gitignore                                                                          |    4
 b/doc/asterisk-ng-doxygen.in                                                              | 1688 ++++
 b/formats/format_wav.c                                                                    |   53
 b/formats/format_wav_gsm.c                                                                |   16
 b/funcs/func_channel.c                                                                    |   25
 b/funcs/func_curl.c                                                                       |    2
 b/funcs/func_env.c                                                                        |    2
 b/funcs/func_math.c                                                                       |   12
 b/funcs/func_periodic_hook.c                                                              |   10
 b/funcs/func_pjsip_contact.c                                                              |   10
 b/include/asterisk.h                                                                      |   28
 b/include/asterisk/.gitignore                                                             |    3
 b/include/asterisk/app.h                                                                  |    2
 b/include/asterisk/audiohook.h                                                            |    1
 b/include/asterisk/autoconfig.h.in                                                        |    8
 b/include/asterisk/bridge_channel.h                                                       |   19
 b/include/asterisk/bridge_technology.h                                                    |    5
 b/include/asterisk/cel.h                                                                  |    4
 b/include/asterisk/channel.h                                                              |   37
 b/include/asterisk/config.h                                                               |   17
 b/include/asterisk/dsp.h                                                                  |    3
 b/include/asterisk/endpoints.h                                                            |   10
 b/include/asterisk/global_datastores.h                                                    |    6
 b/include/asterisk/http_websocket.h                                                       |   86
 b/include/asterisk/inline_api.h                                                           |    2
 b/include/asterisk/logger.h                                                               |   13
 b/include/asterisk/max_forwards.h                                                         |   78
 b/include/asterisk/monitor.h                                                              |   20
 b/include/asterisk/res_fax.h                                                              |    4
 b/include/asterisk/res_pjsip.h                                                            |  108
 b/include/asterisk/res_pjsip_pubsub.h                                                     |   10
 b/include/asterisk/res_pjsip_session.h                                                    |    4
 b/include/asterisk/sip_api.h                                                              |    1
 b/include/asterisk/sorcery.h                                                              |  119
 b/include/asterisk/strings.h                                                              |    3
 b/include/asterisk/test.h                                                                 |   22
 b/include/asterisk/threadstorage.h                                                        |   43
 b/include/asterisk/utils.h                                                                |   38
 b/include/asterisk/vector.h                                                               |  504 +
 b/main/.gitignore                                                                         |    3
 b/main/Makefile                                                                           |    2
 b/main/aoc.c                                                                              |    2
 b/main/app.c                                                                              |    3
 b/main/asterisk.c                                                                         |   98
 b/main/astfd.c                                                                            |    2
 b/main/astmm.c                                                                            |    2
 b/main/astobj2.c                                                                          |   16
 b/main/astobj2_container.c                                                                |    8
 b/main/astobj2_hash.c                                                                     |    2
 b/main/astobj2_rbtree.c                                                                   |    2
 b/main/audiohook.c                                                                        |  131
 b/main/bridge.c                                                                           |   97
 b/main/bridge_basic.c                                                                     |  125
 b/main/bridge_channel.c                                                                   |   99
 b/main/bucket.c                                                                           |    5
 b/main/ccss.c                                                                             |    8
 b/main/cdr.c                                                                              |    6
 b/main/cel.c                                                                              |   44
 b/main/channel.c                                                                          |  304
 b/main/channel_internal_api.c                                                             |    4
 b/main/cli.c                                                                              |    2
 b/main/codec.c                                                                            |    2
 b/main/config.c                                                                           |   19
 b/main/config_options.c                                                                   |    2
 b/main/core_local.c                                                                       |   13
 b/main/data.c                                                                             |    2
 b/main/dial.c                                                                             |   15
 b/main/dnsmgr.c                                                                           |    2
 b/main/dsp.c                                                                              |   34
 b/main/editline/.gitignore                                                                |   13
 b/main/editline/np/strlcat.c                                                              |    8
 b/main/editline/np/strlcpy.c                                                              |   10
 b/main/endpoints.c                                                                        |    8
 b/main/enum.c                                                                             |    2
 b/main/event.c                                                                            |    2
 b/main/features.c                                                                         |   36
 b/main/file.c                                                                             |    6
 b/main/format.c                                                                           |    7
 b/main/format_cache.c                                                                     |    3
 b/main/format_cap.c                                                                       |    2
 b/main/framehook.c                                                                        |    2
 b/main/global_datastores.c                                                                |   56
 b/main/hashtab.c                                                                          |    4
 b/main/http.c                                                                             |    2
 b/main/image.c                                                                            |    2
 b/main/indications.c                                                                      |    7
 b/main/jitterbuf.c                                                                        |    2
 b/main/libasteriskssl.c                                                                   |   35
 b/main/loader.c                                                                           |   11
 b/main/logger.c                                                                           |   57
 b/main/manager.c                                                                          |   16
 b/main/manager_bridges.c                                                                  |    6
 b/main/manager_channels.c                                                                 |   19
 b/main/manager_endpoints.c                                                                |    2
 b/main/manager_mwi.c                                                                      |    2
 b/main/manager_system.c                                                                   |    2
 b/main/max_forwards.c                                                                     |  165
 b/main/message.c                                                                          |   10
 b/main/pbx.c                                                                              |  167
 b/main/pickup.c                                                                           |    2
 b/main/presencestate.c                                                                    |    2
 b/main/rtp_engine.c                                                                       |   17
 b/main/sdp_srtp.c                                                                         |    3
 b/main/security_events.c                                                                  |    7
 b/main/sorcery.c                                                                          |  285
 b/main/sounds_index.c                                                                     |    2
 b/main/stasis.c                                                                           |   10
 b/main/stasis_channels.c                                                                  |  109
 b/main/stdtime/localtime.c                                                                |   14
 b/main/strings.c                                                                          |    8
 b/main/stun.c                                                                             |    2
 b/main/taskprocessor.c                                                                    |    2
 b/main/tcptls.c                                                                           |   14
 b/main/term.c                                                                             |    3
 b/main/test.c                                                                             |   52
 b/main/threadstorage.c                                                                    |    2
 b/main/timing.c                                                                           |    2
 b/main/translate.c                                                                        |   60
 b/main/udptl.c                                                                            |   11
 b/main/utils.c                                                                            |    7
 b/main/xmldoc.c                                                                           |    2
 b/makeopts.in                                                                             |    1
 b/menuselect/.gitignore                                                                   |    7
 b/pbx/pbx_config.c                                                                        |   13
 b/pbx/pbx_spool.c                                                                         |   35
 b/res/Makefile                                                                            |    3
 b/res/ael/.gitignore                                                                      |    1
 b/res/ari.make                                                                            |   11
 b/res/ari/ari_model_validators.c                                                          |  181
 b/res/ari/ari_model_validators.h                                                          |   47
 b/res/ari/resource_bridges.c                                                              |    4
 b/res/ari/resource_channels.c                                                             |    7
 b/res/ari/resource_device_states.c                                                        |    5
 b/res/ari/resource_mailboxes.c                                                            |    5
 b/res/ari/resource_playbacks.c                                                            |    5
 b/res/ari/resource_recordings.c                                                           |    5
 b/res/parking/parking_applications.c                                                      |    5
 b/res/parking/parking_tests.c                                                             |    9
 b/res/res_ari_applications.c                                                              |    1
 b/res/res_ari_asterisk.c                                                                  |    1
 b/res/res_ari_bridges.c                                                                   |    1
 b/res/res_ari_channels.c                                                                  |    1
 b/res/res_ari_device_states.c                                                             |    1
 b/res/res_ari_endpoints.c                                                                 |    1
 b/res/res_ari_events.c                                                                    |    1
 b/res/res_ari_mailboxes.c                                                                 |    1
 b/res/res_ari_playbacks.c                                                                 |    1
 b/res/res_ari_recordings.c                                                                |    1
 b/res/res_ari_sounds.c                                                                    |    1
 b/res/res_calendar.c                                                                      |   10
 b/res/res_corosync.c                                                                      |   12
 b/res/res_fax.c                                                                           |   34
 b/res/res_fax_spandsp.c                                                                   |    2
 b/res/res_http_websocket.c                                                                |  109
 b/res/res_monitor.c                                                                       |    1
 b/res/res_odbc.c                                                                          |   16
 b/res/res_phoneprov.c                                                                     |    8
 b/res/res_pjsip.c                                                                         |  315
 b/res/res_pjsip/config_global.c                                                           |   40
 b/res/res_pjsip/config_system.c                                                           |   35
 b/res/res_pjsip/config_transport.c                                                        |    1
 b/res/res_pjsip/include/res_pjsip_private.h                                               |   24
 b/res/res_pjsip/location.c                                                                |   72
 b/res/res_pjsip/pjsip_configuration.c                                                     |  146
 b/res/res_pjsip/pjsip_options.c                                                           |  158
 b/res/res_pjsip/presence_xml.c                                                            |   12
 b/res/res_pjsip_config_wizard.c                                                           |   98
 b/res/res_pjsip_diversion.c                                                               |    5
 b/res/res_pjsip_dlg_options.c                                                             |  107
 b/res/res_pjsip_exten_state.c                                                             |   39
 b/res/res_pjsip_keepalive.c                                                               |    2
 b/res/res_pjsip_messaging.c                                                               |   36
 b/res/res_pjsip_mwi.c                                                                     |  121
 b/res/res_pjsip_notify.c                                                                  |    1
 b/res/res_pjsip_outbound_authenticator_digest.c                                           |   25
 b/res/res_pjsip_outbound_registration.c                                                   |  214
 b/res/res_pjsip_phoneprov_provider.c                                                      |   21
 b/res/res_pjsip_pubsub.c                                                                  |   17
 b/res/res_pjsip_pubsub.exports.in                                                         |    1
 b/res/res_pjsip_registrar.c                                                               |    7
 b/res/res_pjsip_registrar_expire.c                                                        |  164
 b/res/res_pjsip_sdp_rtp.c                                                                 |   63
 b/res/res_pjsip_session.c                                                                 |   10
 b/res/res_pjsip_t38.c                                                                     |   51
 b/res/res_rtp_asterisk.c                                                                  |   24
 b/res/res_security_log.c                                                                  |    2
 b/res/res_smdi.c                                                                          |    4
 b/res/res_sorcery_config.c                                                                |   12
 b/res/res_sorcery_realtime.c                                                              |    4
 b/res/res_stasis.c                                                                        |    2
 b/res/res_stasis_playback.c                                                               |    4
 b/res/res_stasis_recording.c                                                              |    6
 b/res/res_stasis_snoop.c                                                                  |   24
 b/res/res_timing_kqueue.c                                                                 |  306
 b/res/res_xmpp.c                                                                          |   18
 b/res/stasis_recording/stored.c                                                           |    2
 b/rest-api-templates/ari.make.mustache                                                    |    1
 b/rest-api-templates/ari_model_validators.c.mustache                                      |    2
 b/rest-api-templates/res_ari_resource.c.mustache                                          |    1
 b/rest-api/api-docs/applications.json                                                     |    2
 b/rest-api/api-docs/asterisk.json                                                         |    2
 b/rest-api/api-docs/bridges.json                                                          |    2
 b/rest-api/api-docs/channels.json                                                         |    2
 b/rest-api/api-docs/deviceStates.json                                                     |    2
 b/rest-api/api-docs/endpoints.json                                                        |    2
 b/rest-api/api-docs/events.json                                                           |   31
 b/rest-api/api-docs/mailboxes.json                                                        |    2
 b/rest-api/api-docs/playbacks.json                                                        |    2
 b/rest-api/api-docs/recordings.json                                                       |    2
 b/rest-api/api-docs/sounds.json                                                           |    2
 b/sounds/Makefile                                                                         |    5
 b/sounds/sounds.xml                                                                       |   27
 b/tests/test_acl.c                                                                        |   45
 b/tests/test_config.c                                                                     |   17
 b/tests/test_message.c                                                                    |   25
 b/tests/test_sched.c                                                                      |    2
 b/tests/test_sorcery.c                                                                    |  132
 b/tests/test_stringfields.c                                                               |    2
 b/tests/test_strings.c                                                                    |    5
 b/tests/test_vector.c                                                                     |  517 +
 b/utils/.gitignore                                                                        |   24
 b/utils/Makefile                                                                          |    3
 b/utils/clicompat.c                                                                       |    7
 b/utils/conf2ael.c                                                                        |   13
 b/utils/extconf.c                                                                         |  272
 contrib/asterisk-ng-doxygen                                                               | 1688 ----
 contrib/realtime/sqlserver/mssql_cdr.sql                                                  |   42
 contrib/realtime/sqlserver/mssql_config.sql                                               | 1006 --
 contrib/realtime/sqlserver/mssql_voicemail.sql                                            |   48
 310 files changed, 16603 insertions(+), 7009 deletions(-)
