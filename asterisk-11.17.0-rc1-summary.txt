                                Release Summary

                              asterisk-11.17.0-rc1

                                Date: 2015-03-23

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Other Changes
    5. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release includes only bug fixes. The changes included were made only
   to address problems that have been identified in this release series.
   Users should be able to safely upgrade to this version if this release
   series is already in use. Users considering upgrading from a previous
   release series are strongly encouraged to review the UPGRADE.txt document
   as well as the CHANGES document for information about upgrading to this
   release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-11.16.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were closed by commits that went into this
   release.

     Coders                   Testers                  Reporters              
   10 mjordan               2 Graham Barnett         6 coreyfarrell           
   6 coreyfarrell           2 snuffy                 3 GrahamJB               
   5 rmudgett               1 Jeremiah Gowdy         2 kharwell               
   4 Graham Barnett         1 Kristian HA,gh         2 rmudgett               
   3 jcolp                  1 mjordan                2 snuffy                 
   3 kharwell                                        1 asanders               
   2 oej                                             1 atis                   
   2 sgriepentrog                                    1 bford                  
   2 snuffy                                          1 cbbs70a                
   1 Alexander Traud                                 1 DarkS                  
   1 Diederik de Groot                               1 dcabot                 
   1 dlee                                            1 dhubbard               
   1 Ed Hynan                                        1 dkdegroot              
   1 gtjoseph                                        1 Ed                     
   1 ibercom                                         1 eelcob                 
   1 Javier Acosta                                   1 feyfre                 
   1 Jeremiah Gowdy                                  1 ibercom                
   1 Makoto Dei                                      1 kenner                 
   1 Richard Miller                                  1 makoto                 
                                                     1 mjordan                
                                                     1 n8ideas                
                                                     1 rnewton                
                                                     1 traud                  
                                                     1 twilson                
                                                     1 ulogic                 

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Category: Applications/app_amd

   ASTERISK-19470: Documentation on app_amd is incorrect
   Revision: 432918
   Reporter: cbbs70a
   Coders: mjordan

  Category: Applications/app_chanspy

   ASTERISK-24828: Fix Frame Leaks
   Revision: 432362
   Reporter: kharwell
   Coders: kharwell

  Category: Applications/app_voicemail

   ASTERISK-24790: Reduce spurious noise in logs from voicemail - Couldn't
   find mailbox %s in context
   Revision: 432098
   Reporter: GrahamJB
   Coders: Graham Barnett

  Category: Applications/app_voicemail/IMAP

   ASTERISK-24786: [patch] - Asterisk terminates when playing a voicemail
   stored in LDAP
   Revision: 432695
   Reporter: GrahamJB
   Testers: Graham Barnett
   Coders: Graham Barnett

   ASTERISK-24787: [patch] - Microsoft exchange incompatibility for playing
   back messages stored in IMAP - play_message: No origtime
   Revision: 432012
   Reporter: GrahamJB
   Coders: Graham Barnett

  Category: Bridges/bridge_softmix

   ASTERISK-24797: bridge_softmix: G.729 codec license held
   Revision: 432174
   Reporter: kharwell
   Coders: kharwell

  Category: Channels/chan_dahdi

   ASTERISK-24825: Caller ID not recognized using Centrex/Distinctive dialing
   Revision: 432530
   Reporter: rmudgett
   Coders: rmudgett

  Category: Channels/chan_iax2

   ASTERISK-24451: chan_iax2: reference leak in sched_delay_remove
   Revision: 431916
   Reporter: coreyfarrell
   Coders: coreyfarrell

  Category: Channels/chan_sip/DatabaseSupport

   ASTERISK-24772: ODBC error in realtime sippeers when device unregisters
   under MariaDB
   Revision: 431673
   Reporter: ulogic
   Coders: Richard Miller

  Category: Channels/chan_sip/General

   ASTERISK-15434: [patch] When ast_pbx_start failed, both an error response
   and BYE are sent to the caller
   Revision: 432320
   Reporter: makoto
   Testers: mjordan
   Coders: Makoto Dei

   ASTERISK-22436: [patch] No BYE to masqueraded channel on INVITE with
   replaces
   Revision: 431620
   Reporter: eelcob
   Testers: Jeremiah Gowdy, Kristian HA,gh
   Coders: Jeremiah Gowdy

   ASTERISK-23214: chan_sip WARNING message 'We are requesting SRTP for
   audio, but they responded without it' is ambiguous and wrong in some cases
   Revision: 432277
   Reporter: rnewton
   Coders: mjordan

   ASTERISK-24800: Crash in __sip_reliable_xmit due to invalid thread ID
   being passed to pthread_kill
   Revision: 432198
   Reporter: n8ideas
   Coders: mjordan

   ASTERISK-24838: chan_sip: Locking inversion occurs when building a peer
   causes a peer poke during request handling
   Revision: 432526
   Reporter: rmudgett
   Coders: rmudgett

   ASTERISK-24876: Investigate reference leaks from
   tests/channels/local/local_optimize_away
   Revision: 433112
   Reporter: coreyfarrell
   Coders: coreyfarrell

  Category: Channels/chan_sip/NewFeature

   ASTERISK-17899: [patch] Adds a 'ignorecryptolifetime' (Ignore Crypto
   Lifetime) option to sip.conf for SRTP keys specifying optional 'lifetime'
   Revision: 432239
   Reporter: dhubbard
   Coders: oej

  Category: Channels/chan_sip/SRTP

   ASTERISK-17721: Incoming SRTP calls that specify a key lifetime fail
   Revision: 432239
   Reporter: twilson
   Coders: oej

  Category: Channels/chan_sip/TCP-TLS

   ASTERISK-24799: [patch] make fails with undefined reference to
   SSLv3_client_method
   Revision: 431936
   Reporter: traud
   Coders: Alexander Traud

  Category: Core/BuildSystem

   ASTERISK-18105: most of asterisk modules are unbuildable in cygwin
   environment
   Revision: 432341
   Reporter: feyfre
   Coders: mjordan

   ASTERISK-20850: [patch]Nested functions aren't portable. Adapting RAII_VAR
   to use clang/llvm blocks to get the same/similar functionality.
   Revision: 432807
   Reporter: dkdegroot
   Coders: Diederik de Groot

   ASTERISK-24880: [patch]Compilation under OpenBSD
   Revision: 433245
   Reporter: snuffy
   Testers: snuffy
   Coders: snuffy

  Category: Core/Channels

   ASTERISK-21038: Bad command completion of "core set debug channel"
   Revision: 432944
   Reporter: kenner
   Coders: jcolp

   ASTERISK-24828: Fix Frame Leaks
   Revision: 432362
   Reporter: kharwell
   Coders: kharwell

  Category: Core/CodecInterface

   ASTERISK-16779: Cannot disallow unknown format ''
   Revision: 432970
   Reporter: atis
   Coders: mjordan

   ASTERISK-24796: Codecs and bucket schema's prevent module unload
   Revision: 432058
   Reporter: coreyfarrell
   Coders: coreyfarrell

  Category: Core/General

   ASTERISK-24479: Enable REF_DEBUG for module references
   Revision: 431662
   Reporter: coreyfarrell
   Coders: coreyfarrell

   ASTERISK-24739: [patch] - Out of files -- call fails -- numerous files
   with inodes from under /usr/share/zoneinfo, mostly posixrules
   Revision: 432691
   Reporter: Ed
   Coders: Ed Hynan

   ASTERISK-24796: Codecs and bucket schema's prevent module unload
   Revision: 432058
   Reporter: coreyfarrell
   Coders: coreyfarrell

   ASTERISK-24814: asterisk/lock.h: Fix syntax errors for non-gcc OSX with 64
   bit integers
   Revision: 432054
   Reporter: coreyfarrell
   Coders: coreyfarrell

   ASTERISK-24879: [patch]Compilation fails due to 64bit time under OpenBSD
   Revision: 433268
   Reporter: snuffy
   Testers: snuffy
   Coders: snuffy

  Category: Core/HTTP

   ASTERISK-24724: 'httpstatus' Web Page Produces Incomplete HTML
   Revision: 432078
   Reporter: asanders
   Coders: jcolp

  Category: Core/Logging

   ASTERISK-24817: init_logger_chain: unreachable code block
   Revision: 433122
   Reporter: coreyfarrell
   Coders: coreyfarrell

  Category: Functions/func_curl

   ASTERISK-18708: func_curl hangs channel under load
   Revision: 432948
   Reporter: dcabot
   Coders: jcolp

  Category: Resources/res_agi

   ASTERISK-23390: NewExten Event with application AGI shows up before and
   after AGI runs
   Revision: 432695
   Reporter: bford
   Testers: Graham Barnett
   Coders: Graham Barnett

  Category: Resources/res_config_odbc

   ASTERISK-24808: res_config_odbc: Improper escaping of backslashes occurs
   with MySQL
   Revision: 432720
   Reporter: DarkS
   Coders: Javier Acosta

  Category: Resources/res_odbc

   ASTERISK-24742: [patch] Fix ast_odbc_find_table function in res_odbc
   Revision: 431617
   Reporter: ibercom
   Coders: ibercom

  Category: Resources/res_stasis

   ASTERISK-24701: Stasis: Write timeout on WebSocket fails to fully
   disconnect underlying socket, leading to events being dropped with no
   additional information
   Revision: 431669
   Reporter: mjordan
   Coders: kharwell

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   directly close an issue from the issue tracker. The commits may have been
   marked as being related to an issue. If that is the case, the issue
   numbers are listed here, as well.

   +------------------------------------------------------------------------+
   | Revision | Author       | Summary                         | Issues     |
   |          |              |                                 | Referenced |
   |----------+--------------+---------------------------------+------------|
   | 431582   | sgriepentrog | config hooks: correct ref leaks |            |
   |----------+--------------+---------------------------------+------------|
   |          |              | apps/app_mixmonitor: Move Test  |            |
   | 431788   | mjordan      | Event for MIXMONITOR_END to     |            |
   |          |              | after it finishes               |            |
   |----------+--------------+---------------------------------+------------|
   | 431992   | rmudgett     | chan_dahdi: Remove some dead    |            |
   |          |              | code.                           |            |
   |----------+--------------+---------------------------------+------------|
   | 432032   | rmudgett     | chan_dahdi/sig_analog: Put log  |            |
   |          |              | message strings on one line.    |            |
   |----------+--------------+---------------------------------+------------|
   | 432236   | dlee         | Increase WebSocket frame size   |            |
   |          |              | and improve large read handling |            |
   |----------+--------------+---------------------------------+------------|
   | 432280   | mjordan      | configure: Promote SQLite3 "not |            |
   |          |              | installed" warning to error     |            |
   |----------+--------------+---------------------------------+------------|
   |          |              | app_voicemail: Fix compile      |            |
   | 432484   | gtjoseph     | breaking in app_voicemail with  |            |
   |          |              | IMAP_STORAGE.                   |            |
   |----------+--------------+---------------------------------+------------|
   | 432810   | mjordan      | main/audiohook: Update internal |            |
   |          |              | sample rate on reads            |            |
   |----------+--------------+---------------------------------+------------|
   |          |              | FILE: fix retrieval of file     |            |
   | 432935   | mjordan      | contents when offset is         |            |
   |          |              | specified                       |            |
   |----------+--------------+---------------------------------+------------|
   | 433056   | rmudgett     | Audit ast_sockaddr_resolve()    |            |
   |          |              | usage for memory leaks.         |            |
   |----------+--------------+---------------------------------+------------|
   | 433086   | sgriepentrog | Various: backport of bugfixes   |            |
   |          |              | found via chaos                 |            |
   |----------+--------------+---------------------------------+------------|
   | 433173   | mjordan      | funcs/func_env: Fix regression  |            |
   |          |              | caused in FILE read operation   |            |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 Makefile                          |    4
 UPGRADE.txt                       |    8 +
 apps/Makefile                     |    2
 apps/app_amd.c                    |    3
 apps/app_chanspy.c                |    3
 apps/app_externalivr.c            |    2
 apps/app_mixmonitor.c             |    7
 apps/app_queue.c                  |   16 +-
 apps/app_voicemail.c              |   46 ++++--
 bridges/bridge_builtin_features.c |    8 -
 bridges/bridge_softmix.c          |   37 ++++-
 channels/Makefile                 |    2
 channels/chan_dahdi.c             |  126 +++++++++--------
 channels/chan_iax2.c              |    9 -
 channels/chan_sip.c               |   94 +++++++++---
 channels/sig_analog.c             |  192 ++++++++++++--------------
 channels/sig_analog.h             |    1
 channels/sip/include/sip.h        |    1
 channels/sip/sdp_crypto.c         |  123 +++++++++++-----
 configs/amd.conf.sample           |    1
 configure.ac                      |   49 +++++-
 funcs/func_curl.c                 |    2
 funcs/func_env.c                  |    2
 include/asterisk/inline_api.h     |   12 +
 include/asterisk/lock.h           |    2
 include/asterisk/module.h         |   27 +++
 include/asterisk/sched.h          |   11 +
 include/asterisk/utils.h          |   29 +++
 main/Makefile                     |    1
 main/asterisk.c                   |   62 ++++----
 main/audiohook.c                  |   15 --
 main/channel.c                    |   10 -
 main/cli.c                        |    2
 main/config.c                     |    4
 main/frame.c                      |    4
 main/http.c                       |    4
 main/loader.c                     |   78 ++++++++++
 main/logger.c                     |   31 ++--
 main/netsock2.c                   |    4
 main/sched.c                      |   25 +++
 main/stdtime/localtime.c          |  280 +++++++++++++++++++++++++++++++-------
 main/tcptls.c                     |    5
 main/utils.c                      |    2
 main/xmldoc.c                     |    7
 makeopts.in                       |    2
 res/res_config_odbc.c             |    8 -
 res/res_http_websocket.c          |   43 +++--
 res/res_odbc.c                    |   11 -
 tests/test_func_file.c            |    6
 49 files changed, 1007 insertions(+), 416 deletions(-)

     ----------------------------------------------------------------------
