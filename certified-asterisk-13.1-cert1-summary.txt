                                Release Summary

                         certified-asterisk-13.1-cert1

                                Date: 2015-01-30

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Other Changes
    5. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release includes new features. For a list of new features that have
   been included with this release, please see the CHANGES file inside the
   source package. Since this is new major release, users are encouraged to
   do extended testing before upgrading to this version in a production
   environment.

   The data in this summary reflects changes that have been made since the
   previous release, certified-asterisk-13.1.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were closed by commits that went into this
   release.

     Coders                   Testers                  Reporters              
   16 bebuild               2 Stefan EngstrAP:m      10 mjordan               
   11 mjordan                                        6 rmudgett               
   5 rmudgett                                        5 kharwell               
   4 mmichelson                                      2 mmichelson             
   3 kharwell                                        1 maxman                 
   1 jrose                                           1 pnlarsson              
   1 sgriepentrog                                    1 StefanEng86            
                                                     1 yateya                 

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Category: Applications/app_agent_pool

   ASTERISK-24737: When agent not logged in, agent status shows unavailable,
   queue status shows agent invalid
   Revision: 431494
   Reporter: rmudgett
   Coders: rmudgett

  Category: Applications/app_confbridge

   ASTERISK-24719: ConfBridge recording channels get stuck when recording
   started/stopped more than once
   Revision: 431162
   Reporter: rmudgett
   Coders: rmudgett

   ASTERISK-24723: confbridge: CLI command 'confbridge list XXXX' no longer
   displays user menus
   Revision: 431140
   Reporter: mjordan
   Coders: mjordan

  Category: Applications/app_dial

   ASTERISK-24682: app_dial: Multiple DialEnd events emitted when
   MACRO_RESULT or GOSUB_RESULT are an unexpected value
   Revision: 430843
   Reporter: mjordan
   Coders: mjordan

  Category: Channels/chan_pjsip

   ASTERISK-24536: AMI redirect with PJSIP fails to move extra channel
   Revision: 430007
   Reporter: pnlarsson
   Coders: bebuild

   ASTERISK-24666: Security Vulnerability: RTP not closed after sip call
   using unsupported codec
   Revision: 431326
   Reporter: yateya
   Coders: mmichelson

  Category: Channels/chan_sip/Registration

   ASTERISK-24640: Registration pending stays forever after sip reload
   Revision: 430865
   Reporter: maxman
   Testers: Stefan EngstrAP:m
   Coders: mjordan

   ASTERISK-24673: outgoing sip registers cannot be removed or modified
   without doing restart (or doing module unload chan_sip.so)
   Revision: 430865
   Reporter: StefanEng86
   Testers: Stefan EngstrAP:m
   Coders: mjordan

   ASTERISK-24715: chan_sip: stale nonce causes failure
   Revision: 431200
   Reporter: kharwell
   Coders: kharwell

  Category: Core/Bridging

   ASTERISK-24536: AMI redirect with PJSIP fails to move extra channel
   Revision: 430007
   Reporter: pnlarsson
   Coders: bebuild

  Category: Core/Bridging/bridge_basic

   ASTERISK-24513: Local channel apparently leaked in off-nominal DTMF
   attended transfer
   Revision: 430245
   Reporter: mmichelson
   Coders: sgriepentrog

  Category: Core/CodecInterface

   ASTERISK-24604: res_rtp_asterisk: Crash during restart due to race
   condition in accessing codec in stored ast_frame and codec core
   Revision: 429871
   Reporter: mjordan
   Coders: bebuild

  Category: Core/General

   ASTERISK-24614: Deadlock when DEBUG_THREADS compiler flag enabled
   Revision: 429859
   Reporter: rmudgett
   Coders: bebuild

   ASTERISK-24736: Memory Leak Fixes
   Revision: 431470
   Reporter: mmichelson
   Coders: mmichelson

  Category: Core/ManagerInterface

   ASTERISK-24536: AMI redirect with PJSIP fails to move extra channel
   Revision: 430007
   Reporter: pnlarsson
   Coders: bebuild

   ASTERISK-24553: ARI/AMI: Include language in standard channel snapshot
   output
   Revision: 429891
   Reporter: mjordan
   Coders: bebuild

   ASTERISK-24721: manager: ModuleLoad action incorrectly reports 'module not
   found' during a Reload operation
   Revision: 431467
   Reporter: mjordan
   Coders: jrose

  Category: Core/Stasis

   ASTERISK-24682: app_dial: Multiple DialEnd events emitted when
   MACRO_RESULT or GOSUB_RESULT are an unexpected value
   Revision: 430843
   Reporter: mjordan
   Coders: mjordan

  Category: Features

   ASTERISK-23841: DTMF atxfer doesn't set CallerID for the recall calls to
   the transferrer.
   Revision: 430046
   Reporter: rmudgett
   Coders: rmudgett

  Category: Functions/func_curl

   ASTERISK-24676: Security Vulnerability: URL request injection in libCURL
   (CVE-2014-8150)
   Revision: 431334
   Reporter: mjordan
   Coders: mmichelson

  Category: Resources/res_ari

   ASTERISK-24552: ARI: Allow associating a channel as an initiator of an
   Origination for record keeping purposes
   Revision: 429892
   Reporter: mjordan
   Coders: bebuild

   ASTERISK-24553: ARI/AMI: Include language in standard channel snapshot
   output
   Revision: 429891
   Reporter: mjordan
   Coders: bebuild

  Category: Resources/res_ari_channels

   ASTERISK-24552: ARI: Allow associating a channel as an initiator of an
   Origination for record keeping purposes
   Revision: 429892
   Reporter: mjordan
   Coders: bebuild

  Category: Resources/res_config_curl

   ASTERISK-24676: Security Vulnerability: URL request injection in libCURL
   (CVE-2014-8150)
   Revision: 431334
   Reporter: mjordan
   Coders: mmichelson

  Category: Resources/res_pjsip

   ASTERISK-24342: PJSIP: Qualifying endpoints attempts to do them all at the
   same time.
   Revision: 430008
   Reporter: rmudgett
   Coders: bebuild

   ASTERISK-24643: res_pjsip: Add user=phone option
   Revision: 430085
   Reporter: mjordan
   Coders: mjordan

  Category: Resources/res_pjsip_keepalive

   ASTERISK-24644: res_pjsip_keepalive: Add keepalive module for
   connection-oriented transports.
   Revision: 430086
   Reporter: mjordan
   Coders: mjordan

  Category: Resources/res_pjsip_outbound_registration

   ASTERISK-24514: res_pjsip_outbound_registration: stack overflow when using
   non-default sorcery wizard
   Revision: 429866
   Reporter: kharwell
   Coders: bebuild

   ASTERISK-24729: Outbound registration not occuring on new registrations
   after reload.
   Revision: 431244
   Reporter: rmudgett
   Coders: rmudgett

  Category: Resources/res_pjsip_session

   ASTERISK-24607: res_pjsip_session: re-INVITE with declined media streams
   results in 488
   Revision: 429890
   Reporter: mjordan
   Coders: bebuild

  Category: Resources/res_rtp_asterisk

   ASTERISK-24604: res_rtp_asterisk: Crash during restart due to race
   condition in accessing codec in stored ast_frame and codec core
   Revision: 429871
   Reporter: mjordan
   Coders: bebuild

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   directly close an issue from the issue tracker. The commits may have been
   marked as being related to an issue. If that is the case, the issue
   numbers are listed here, as well.

   +------------------------------------------------------------------------+
   | Revision | Author     | Summary                           | Issues     |
   |          |            |                                   | Referenced |
   |----------+------------+-----------------------------------+------------|
   | 429855   | bebuild    | Create Certified Asterisk 13.1    |            |
   |          |            | branch                            |            |
   |----------+------------+-----------------------------------+------------|
   | 429856   | bebuild    | Update properties; remove old     |            |
   |          |            | summaries                         |            |
   |----------+------------+-----------------------------------+------------|
   | 429858   | bebuild    | Activate persistent subscriptions |            |
   |          |            | when they are recreated.          |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Direct Media calls within private |            |
   | 429862   | bebuild    | network sometimes get one way     |            |
   |          |            | audio                             |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | res_pjsip_session: Delay sending  |            |
   | 429864   | bebuild    | BYE if a re-INVITE transaction is |            |
   |          |            | in progress.                      |            |
   |----------+------------+-----------------------------------+------------|
   | 429865   | bebuild    | PJSIP: Allow use of 'inactive'    |            |
   |          |            | streams for hold                  |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | Prevent potential infinite        |            |
   | 429869   | bebuild    | outbound authentication loops in  |            |
   |          |            | registration.                     |            |
   |----------+------------+-----------------------------------+------------|
   | 430090   | mjordan    | Stasis: Update unittest for       |            |
   |          |            | channel snapshots                 |            |
   |----------+------------+-----------------------------------+------------|
   | 430093   | mjordan    | res_pjsip: Backport missing       |            |
   |          |            | commits for user_eq_phone         |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | res/res_agi: Make Verbose message |            |
   | 430094   | mjordan    | for 'stream file' match other     |            |
   |          |            | playbacks                         |            |
   |----------+------------+-----------------------------------+------------|
   |          |            | contrib/ast-db-manage: Correct    |            |
   | 430253   | mjordan    | down_revision path for            |            |
   |          |            | user_eq_phone                     |            |
   |----------+------------+-----------------------------------+------------|
   | 430293   | mjordan    | Disable extended support modules  |            |
   |----------+------------+-----------------------------------+------------|
   | 430782   | mmichelson | Call extension state callbacks at |            |
   |          |            | hint creation.                    |            |
   |----------+------------+-----------------------------------+------------|
   | 430898   | rmudgett   | Multiple revisions                |            |
   |          |            | 430223,430373,430395              |            |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 .version                                                                                |    2
 CHANGES                                                                                 |   29
 ChangeLog                                                                               |    4
 agi/eagi-test.c                                                                         |    1
 apps/app_adsiprog.c                                                                     |    1
 apps/app_agent_pool.c                                                                   |   32
 apps/app_alarmreceiver.c                                                                |    1
 apps/app_amd.c                                                                          |    1
 apps/app_confbridge.c                                                                   |  228 +---
 apps/app_dahdiras.c                                                                     |    1
 apps/app_dial.c                                                                         |   51
 apps/app_dictate.c                                                                      |    1
 apps/app_externalivr.c                                                                  |    1
 apps/app_festival.c                                                                     |    1
 apps/app_getcpeid.c                                                                     |    1
 apps/app_ices.c                                                                         |    1
 apps/app_image.c                                                                        |    1
 apps/app_jack.c                                                                         |    1
 apps/app_minivm.c                                                                       |    1
 apps/app_morsecode.c                                                                    |    1
 apps/app_mp3.c                                                                          |    1
 apps/app_nbscat.c                                                                       |    1
 apps/app_osplookup.c                                                                    |    1
 apps/app_sms.c                                                                          |    1
 apps/app_talkdetect.c                                                                   |    1
 apps/app_test.c                                                                         |    1
 apps/app_url.c                                                                          |    1
 apps/app_waitforring.c                                                                  |    1
 apps/app_waitforsilence.c                                                               |    1
 apps/app_zapateller.c                                                                   |    1
 apps/confbridge/conf_config_parser.c                                                    |    7
 apps/confbridge/include/confbridge.h                                                    |   16
 asterisk-13.1.0-rc2-summary.html                                                        |   64 -
 asterisk-13.1.0-rc2-summary.txt                                                         |   95 -
 cdr/cdr_csv.c                                                                           |    1
 cdr/cdr_odbc.c                                                                          |    1
 cdr/cdr_pgsql.c                                                                         |    1
 cdr/cdr_radius.c                                                                        |    1
 cdr/cdr_sqlite3_custom.c                                                                |    1
 cdr/cdr_tds.c                                                                           |    1
 cel/cel_pgsql.c                                                                         |    1
 cel/cel_radius.c                                                                        |    1
 cel/cel_sqlite3_custom.c                                                                |    1
 cel/cel_tds.c                                                                           |    1
 channels/chan_alsa.c                                                                    |    1
 channels/chan_console.c                                                                 |    1
 channels/chan_dahdi.c                                                                   |   15
 channels/chan_iax2.c                                                                    |    6
 channels/chan_mgcp.c                                                                    |    1
 channels/chan_misdn.c                                                                   |    1
 channels/chan_nbs.c                                                                     |    1
 channels/chan_oss.c                                                                     |    1
 channels/chan_phone.c                                                                   |    1
 channels/chan_pjsip.c                                                                   |   37
 channels/chan_sip.c                                                                     |   65 -
 channels/chan_skinny.c                                                                  |    1
 channels/chan_unistim.c                                                                 |    1
 channels/pjsip/dialplan_functions.c                                                     |    6
 configs/samples/pjsip.conf.sample                                                       |    3
 contrib/ast-db-manage/config/versions/371a3bf4143e_add_user_eq_phone_option_to_pjsip.py |   30
 formats/format_jpeg.c                                                                   |    1
 formats/format_vox.c                                                                    |    1
 funcs/func_audiohookinherit.c                                                           |    1
 funcs/func_curl.c                                                                       |   83 +
 funcs/func_frame_trace.c                                                                |    1
 funcs/func_pitchshift.c                                                                 |    1
 include/asterisk/_private.h                                                             |    1
 include/asterisk/format.h                                                               |   11
 include/asterisk/lock.h                                                                 |   47
 include/asterisk/res_pjsip.h                                                            |   18
 include/asterisk/res_pjsip_session.h                                                    |    8
 include/asterisk/rtp_engine.h                                                           |   82 +
 include/asterisk/stasis_app.h                                                           |    3
 main/asterisk.c                                                                         |    2
 main/bridge_after.c                                                                     |    1
 main/bridge_basic.c                                                                     |  118 ++
 main/bridge_channel.c                                                                   |   17
 main/codec.c                                                                            |    5
 main/format.c                                                                           |    5
 main/lock.c                                                                             |  570 ++++------
 main/logger.c                                                                           |   42
 main/manager.c                                                                          |   55
 main/manager_channels.c                                                                 |    2
 main/pbx.c                                                                              |   20
 main/rtp_engine.c                                                                       |   38
 main/sorcery.c                                                                          |   25
 main/stasis_channels.c                                                                  |    8
 main/tcptls.c                                                                           |    3
 main/xmldoc.c                                                                           |   13
 pbx/pbx_ael.c                                                                           |    1
 pbx/pbx_dundi.c                                                                         |    1
 pbx/pbx_lua.c                                                                           |    1
 pbx/pbx_realtime.c                                                                      |    1
 pbx/pbx_spool.c                                                                         |    2
 res/ari/ari_model_validators.c                                                          |   16
 res/ari/ari_model_validators.h                                                          |    1
 res/ari/resource_channels.c                                                             |  214 +++
 res/ari/resource_channels.h                                                             |    4
 res/parking/parking_applications.c                                                      |    1
 res/parking/parking_manager.c                                                           |    2
 res/res_ael_share.c                                                                     |    1
 res/res_agi.c                                                                           |    5
 res/res_ari_channels.c                                                                  |   18
 res/res_ari_endpoints.c                                                                 |    4
 res/res_ari_events.c                                                                    |    2
 res/res_config_ldap.c                                                                   |    1
 res/res_config_pgsql.c                                                                  |    1
 res/res_config_sqlite.c                                                                 |    1
 res/res_hep.c                                                                           |    1
 res/res_hep_pjsip.c                                                                     |    1
 res/res_hep_rtcp.c                                                                      |    1
 res/res_phoneprov.c                                                                     |    1
 res/res_pjsip.c                                                                         |   62 +
 res/res_pjsip/config_global.c                                                           |   19
 res/res_pjsip/pjsip_configuration.c                                                     |    1
 res/res_pjsip/pjsip_global_headers.c                                                    |    1
 res/res_pjsip/pjsip_options.c                                                           |   19
 res/res_pjsip_caller_id.c                                                               |   18
 res/res_pjsip_keepalive.c                                                               |  267 ++++
 res/res_pjsip_mwi.c                                                                     |    2
 res/res_pjsip_outbound_publish.c                                                        |  563 ++++++---
 res/res_pjsip_outbound_registration.c                                                   |  335 ++++-
 res/res_pjsip_phoneprov_provider.c                                                      |    1
 res/res_pjsip_pubsub.c                                                                  |   11
 res/res_pjsip_refer.c                                                                   |    9
 res/res_pjsip_sdp_rtp.c                                                                 |   11
 res/res_pjsip_session.c                                                                 |   98 +
 res/res_pjsip_session.exports.in                                                        |    1
 res/res_pjsip_t38.c                                                                     |    1
 res/res_rtp_asterisk.c                                                                  |    3
 res/res_snmp.c                                                                          |    1
 res/res_stasis.c                                                                        |    2
 res/res_statsd.c                                                                        |    1
 res/res_timing_kqueue.c                                                                 |    1
 res/res_timing_pthread.c                                                                |    1
 rest-api-templates/param_parsing.mustache                                               |    2
 rest-api/api-docs/channels.json                                                         |   21
 tests/test_stasis_channels.c                                                            |    2
 utils/astman.c                                                                          |    1
 utils/check_expr.c                                                                      |    1
 utils/conf2ael.c                                                                        |    1
 utils/extconf.c                                                                         |    1
 utils/muted.c                                                                           |    1
 utils/smsq.c                                                                            |    1
 utils/stereorize.c                                                                      |    1
 utils/streamplayer.c                                                                    |    1
 146 files changed, 2455 insertions(+), 1202 deletions(-)

     ----------------------------------------------------------------------
