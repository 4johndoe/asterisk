                                Release Summary

                         asterisk-certified/13.1-cert7

                                Date: 2016-04-27

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Other Changes
    5. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release is a point release of an existing major version. The changes
   included were made to address problems that have been identified in this
   release series, or are minor, backwards compatible new features or
   improvements. Users should be able to safely upgrade to this version if
   this release series is already in use. Users considering upgrading from a
   previous version are strongly encouraged to review the UPGRADE.txt
   document as well as the CHANGES document for information about upgrading
   to this release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-certified/13.1-cert6.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were affected by commits that went into
   this release.

   Coders                   Testers                  Reporters                
   8 Kevin Harwell                                   8 John Bigelow           
   3 Richard Mudgett                                 5 John Bigelow           
   2 gtjoseph                                        2 Richard Mudgett        
   2 Scott Griepentrog                               2 George Joseph          
   1 Joshua Colp                                     2 Richard Mudgett        
                                                     2 nik600                 

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Bug

    Category: Applications/app_queue

   ASTERISK-16115: [patch] problem with ringinuse=no, queue members receive
   sometimes two calls
   Reported by: nik600
     * [5baf815293] Joshua Colp -- app_queue: Fix crash when unloading
       module.
     * [1f24863e0c] Kevin Harwell -- app_queue: queue members can receive
       multiple calls

    Category: Core/Bridging

   ASTERISK-25947: Protocol transfers to stasis applications are missing the
   StasisStart with the replace_channel object.
   Reported by: Richard Mudgett
     * [c2158c01c2] Richard Mudgett -- res_stasis: Handle re-enter stasis
       bridge with swap channel.
     * [4bdc54f66c] Richard Mudgett -- bridge: Hold off more than one
       imparting channel at a time.
   ASTERISK-24782: StasisEnd event not present for channel that was swapped
   out for another after completing attended transfer
   Reported by: John Bigelow
     * [c2158c01c2] Richard Mudgett -- res_stasis: Handle re-enter stasis
       bridge with swap channel.
     * [4bdc54f66c] Richard Mudgett -- bridge: Hold off more than one
       imparting channel at a time.
     * [1fa5565fc4] Kevin Harwell -- bridge.c: Fixed race condition during
       attended transfer
     * [ac53e65cb5] Kevin Harwell -- bridge.c: Hangup attended transfer
       target if bridged
     * [c8e21c4eb9] Kevin Harwell -- bridge.c: Hangup attended transfer
       target after it has been swapped out

    Category: Resources/res_agi

   ASTERISK-25951: res_agi: run_agi eats frames it shouldn't
   Reported by: George Joseph
     * [a2249031ef] gtjoseph -- res_agi: Prevent run_agi from eating frames
       it shouldn't

    Category: Resources/res_pjsip_caller_id

   ASTERISK-25942: res_pjsip_caller_id: Transfer results in mixed
   ConnectedLine information
   Reported by: George Joseph
     * [1feead5760] gtjoseph -- res_pjsip_callerid: Clear out display name if
       id->name is not valid

    Category: Resources/res_stasis

   ASTERISK-25947: Protocol transfers to stasis applications are missing the
   StasisStart with the replace_channel object.
   Reported by: Richard Mudgett
     * [c2158c01c2] Richard Mudgett -- res_stasis: Handle re-enter stasis
       bridge with swap channel.
     * [4bdc54f66c] Richard Mudgett -- bridge: Hold off more than one
       imparting channel at a time.
   ASTERISK-24649: Pushing of channel into bridge fails; Stasis fails to get
   app name
   Reported by: John Bigelow
     * [c2158c01c2] Richard Mudgett -- res_stasis: Handle re-enter stasis
       bridge with swap channel.
     * [4bdc54f66c] Richard Mudgett -- bridge: Hold off more than one
       imparting channel at a time.
     * [b81052d194] Scott Griepentrog -- stasis transfer: fix stasis bridge
       push race part two
     * [a38d044e0a] Scott Griepentrog -- stasis transfer: fix a race
       condition on stasis bridge push
     * [bc0a8c7bac] Richard Mudgett -- Bridge core: Pass a ref with the swap
       channel when joining a bridge.
   ASTERISK-24782: StasisEnd event not present for channel that was swapped
   out for another after completing attended transfer
   Reported by: John Bigelow
     * [c2158c01c2] Richard Mudgett -- res_stasis: Handle re-enter stasis
       bridge with swap channel.
     * [4bdc54f66c] Richard Mudgett -- bridge: Hold off more than one
       imparting channel at a time.
     * [1fa5565fc4] Kevin Harwell -- bridge.c: Fixed race condition during
       attended transfer
     * [ac53e65cb5] Kevin Harwell -- bridge.c: Hangup attended transfer
       target if bridged
     * [c8e21c4eb9] Kevin Harwell -- bridge.c: Hangup attended transfer
       target after it has been swapped out

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   reference a JIRA issue.

   +------------------------------------------------------------------------+
   | Revision   | Author        | Summary                                   |
   |------------+---------------+-------------------------------------------|
   | ac50d4de09 | Kevin Harwell | Release summaries: Remove previous        |
   |            |               | versions                                  |
   |------------+---------------+-------------------------------------------|
   | ae138f07b9 | Kevin Harwell | .version: Update for certified/13.1-cert7 |
   |------------+---------------+-------------------------------------------|
   | 6887653e56 | Kevin Harwell | .lastclean: Update for                    |
   |            |               | certified/13.1-cert7                      |
   |------------+---------------+-------------------------------------------|
   | f1dd08373d | Kevin Harwell | realtime: Add database scripts for        |
   |            |               | certified/13.1-cert7                      |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 asterisk-certified-13.1-cert6-summary.html   |   25 --
 asterisk-certified-13.1-cert6-summary.txt    |  119 -----------
 b/.version                                   |    2
 b/apps/app_queue.c                           |  146 +++++++++----
 b/include/asterisk/bridge.h                  |   14 +
 b/include/asterisk/bridge_channel_internal.h |   29 ++
 b/include/asterisk/bridge_internal.h         |    3
 b/main/bridge.c                              |  284 ++++++++++++++++++++++++++-
 b/main/bridge_channel.c                      |   14 +
 b/res/res_agi.c                              |   40 +++
 b/res/res_pjsip_caller_id.c                  |    6
 b/res/stasis/app.c                           |   33 ---
 b/res/stasis/control.c                       |   14 -
 b/res/stasis/control.h                       |   18 +
 b/res/stasis/stasis_bridge.c                 |  104 ++++++++-
 15 files changed, 593 insertions(+), 258 deletions(-)
