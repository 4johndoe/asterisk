<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Release Summary - asterisk-12.4.0</title></head>
<body>
<h1 align="center"><a name="top">Release Summary</a></h1>
<h3 align="center">asterisk-12.4.0</h3>
<h3 align="center">Date: 2014-07-10</h3>
<h3 align="center">&lt;asteriskteam@digium.com&gt;</h3>
<hr/>
<h2 align="center">Table of Contents</h2>
<ol>
   <li><a href="#summary">Summary</a></li>
   <li><a href="#contributors">Contributors</a></li>
   <li><a href="#issues">Closed Issues</a></li>
   <li><a href="#commits">Other Changes</a></li>
   <li><a href="#diffstat">Diffstat</a></li>
</ol>
<hr/>
<a name="summary"><h2 align="center">Summary</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This release includes only bug fixes.  The changes included were made only to address problems that have been identified in this release series.  Users should be able to safely upgrade to this version if this release series is already in use.  Users considering upgrading from a previous release series are strongly encouraged to review the UPGRADE.txt document as well as the CHANGES document for information about upgrading to this release series.</p>
<p>The data in this summary reflects changes that have been made since the previous release, asterisk-12.3.0.</p>
<hr/>
<a name="contributors"><h2 align="center">Contributors</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This table lists the people who have submitted code, those that have tested patches, as well as those that reported issues on the issue tracker that were resolved in this release.  For coders, the number is how many of their patches (of any size) were committed into this release.  For testers, the number is the number of times their name was listed as assisting with testing a patch.  Finally, for reporters, the number is the number of issues that they reported that were closed by commits that went into this release.</p>
<table width="100%" border="0">
<tr>
<td width="33%"><h3>Coders</h3></td>
<td width="33%"><h3>Testers</h3></td>
<td width="33%"><h3>Reporters</h3></td>
</tr>
<tr valign="top">
<td>
21 mjordan<br/>
13 kmoore<br/>
13 rmudgett<br/>
9 gtjoseph<br/>
7 wdoekes<br/>
5 coreyfarrell<br/>
5 jcolp<br/>
5 jrose<br/>
4 mmichelson<br/>
3 newtonr<br/>
2 file<br/>
1 Alexander Traud<br/>
1 igorg<br/>
1 jkister<br/>
1 kharwell<br/>
1 may<br/>
1 one47<br/>
1 Pavel Troller<br/>
1 sgalarneau<br/>
1 tm1000<br/>
1 Torrey Searle<br/>
1 zvision<br/>
</td>
<td>
1 Dennis Guse<br/>
1 George Joseph<br/>
1 gtjoseph<br/>
1 Iñaki Cívico<br/>
1 uniken1<br/>
</td>
<td>
7 mjordan<br/>
5 coreyfarrell<br/>
4 wdoekes<br/>
2 igorg<br/>
2 mmichelson<br/>
2 rmudgett<br/>
2 rnewton<br/>
1 cervajs<br/>
1 dennis.guse<br/>
1 devlap<br/>
1 i2045<br/>
1 icivico<br/>
1 jbigelow<br/>
1 jfalcon<br/>
1 jideliov<br/>
1 jkister<br/>
1 jrose<br/>
1 kenner<br/>
1 one47<br/>
1 patrol-cz<br/>
1 sgalarneau<br/>
1 sgriepentrog<br/>
1 tootai<br/>
1 traud<br/>
1 tsearle<br/>
1 uniken1<br/>
1 whiskerp<br/>
1 zvision<br/>
</td>
</tr>
</table>
<hr/>
<a name="issues"><h2 align="center">Closed Issues</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This is a list of all issues from the issue tracker that were closed by changes that went into this release.</p>
<h3>Category: Addons/chan_ooh323</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23814">ASTERISK-23814</a>: No call started after peer dialed<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415602">415602</a><br/>
Reporter: igorg<br/>
Coders: may<br/>
<br/>
<h3>Category: Applications/app_agent_pool</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23499">ASTERISK-23499</a>: app_agent_pool: Interval hook prevents channel from being hung up<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414747">414747</a><br/>
Reporter: mjordan<br/>
Coders: rmudgett<br/>
<br/>
<h3>Category: Applications/app_confbridge</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23035">ASTERISK-23035</a>: ConfBridge with name longer than max (32 chars) results in several bridges with same conf_name<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415078">415078</a><br/>
Reporter: icivico<br/>
Testers: Iñaki Cívico<br/>
Coders: coreyfarrell<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23824">ASTERISK-23824</a>: ConfBridge: Users cannot be muted via CLI or AMI when waiting to enter a conference<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415207">415207</a><br/>
Reporter: mjordan<br/>
Coders: tm1000<br/>
<br/>
<h3>Category: Applications/app_mixmonitor</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23609">ASTERISK-23609</a>: Security: AMI action MixMonitor allows arbitrary programs to be run<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415832">415832</a><br/>
Reporter: coreyfarrell<br/>
Coders: jrose<br/>
<br/>
<h3>Category: Bridges/bridge_native_rtp</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23541">ASTERISK-23541</a>: Asterisk 12.1.0 Not respecting directmedia=no and issuing REINVITE<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414975">414975</a><br/>
Reporter: devlap<br/>
Coders: jcolp<br/>
<br/>
<h3>Category: CDR/cdr_sqlite3_custom</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23766">ASTERISK-23766</a>: [patch] Specify timeout for database write in SQLite<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416338">416338</a><br/>
Reporter: igorg<br/>
Coders: igorg<br/>
<br/>
<h3>Category: CEL/cel_sqlite3_custom</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23766">ASTERISK-23766</a>: [patch] Specify timeout for database write in SQLite<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416338">416338</a><br/>
Reporter: igorg<br/>
Coders: igorg<br/>
<br/>
<h3>Category: Channels/chan_dahdi</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23897">ASTERISK-23897</a>: [patch]Change in SETUP ACK handling (checking PI) in revision 413765 breaks working environments<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417958">417958</a><br/>
Reporter: patrol-cz<br/>
Coders: Pavel Troller, rmudgett<br/>
<br/>
<h3>Category: Channels/chan_pjsip</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-21443">ASTERISK-21443</a>: New SIP Channel Driver - Create a state provider for dialog-info+xml<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=418116">418116</a><br/>
Reporter: mjordan<br/>
Coders: jcolp<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23718">ASTERISK-23718</a>: res_pjsip_incoming_blind_request: crash with NULL session channel<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414948">414948</a><br/>
Reporter: jrose<br/>
Coders: kmoore<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23721">ASTERISK-23721</a>: Calls to PJSIP endpoints with video enabled result in leaked RTP ports<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414749">414749</a><br/>
Reporter: cervajs<br/>
Coders: rmudgett<br/>
<br/>
<h3>Category: Channels/chan_sip/CodecHandling</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23916">ASTERISK-23916</a>: [patch]SIP/SDP fmtp line may include whitespace between attributes<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417589">417589</a><br/>
Reporter: traud<br/>
Coders: Alexander Traud<br/>
<br/>
<h3>Category: Channels/chan_sip/General</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-22551">ASTERISK-22551</a>: Session timer : UAS (Asterisk) starts counting at Invite, UAC starts counting at 200 OK.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414636">414636</a><br/>
Reporter: i2045<br/>
Coders: wdoekes<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23541">ASTERISK-23541</a>: Asterisk 12.1.0 Not respecting directmedia=no and issuing REINVITE<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414975">414975</a><br/>
Reporter: devlap<br/>
Coders: jcolp<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23790">ASTERISK-23790</a>: [patch] - SIP From headers longer than 256 characters result in dropped call and 'No closing bracket' warnings.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417250">417250</a><br/>
Reporter: uniken1<br/>
Testers: uniken1<br/>
Coders: wdoekes<br/>
<br/>
<h3>Category: Channels/chan_sip/SRTP</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-22961">ASTERISK-22961</a>: [patch] DTLS-SRTP not working with SHA-256<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417678">417678</a><br/>
Reporter: jideliov<br/>
Coders: jcolp<br/>
<br/>
<h3>Category: Channels/chan_sip/WebSocket</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-22961">ASTERISK-22961</a>: [patch] DTLS-SRTP not working with SHA-256<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417678">417678</a><br/>
Reporter: jideliov<br/>
Coders: jcolp<br/>
<br/>
<h3>Category: Channels/chan_unistim</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23792">ASTERISK-23792</a>: Mutex left locked in chan_unistim.c<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414678">414678</a><br/>
Reporter: whiskerp<br/>
Coders: wdoekes<br/>
<br/>
<h3>Category: Contrib/General</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23492">ASTERISK-23492</a>: Add option to safe_asterisk to disable backgrounding<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415172">415172</a><br/>
Reporter: wdoekes<br/>
Coders: wdoekes<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23492">ASTERISK-23492</a>: Add option to safe_asterisk to disable backgrounding<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415523">415523</a><br/>
Reporter: wdoekes<br/>
Coders: wdoekes<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23921">ASTERISK-23921</a>: refcounter.py uses excessive ram for large refs files <br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417483">417483</a><br/>
Reporter: coreyfarrell<br/>
Coders: coreyfarrell<br/>
<br/>
<h3>Category: Core/AstDB</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23766">ASTERISK-23766</a>: [patch] Specify timeout for database write in SQLite<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416338">416338</a><br/>
Reporter: igorg<br/>
Coders: igorg<br/>
<br/>
<h3>Category: Core/AstMM</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23922">ASTERISK-23922</a>: ao2_container nodes are inconsistent REF_DEBUG<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417212">417212</a><br/>
Reporter: coreyfarrell<br/>
Coders: coreyfarrell<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23948">ASTERISK-23948</a>: REF_DEBUG fails to record ao2_ref against objects that were already freed<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417509">417509</a><br/>
Reporter: coreyfarrell<br/>
Coders: coreyfarrell<br/>
<br/>
<h3>Category: Core/Bridging</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23499">ASTERISK-23499</a>: app_agent_pool: Interval hook prevents channel from being hung up<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414747">414747</a><br/>
Reporter: mjordan<br/>
Coders: rmudgett<br/>
<br/>
<h3>Category: Core/Configuration</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23683">ASTERISK-23683</a>: #includes - wildcard character in a path more than one directory deep - results in no config parsing on module reload<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415230">415230</a><br/>
Reporter: tootai<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23803">ASTERISK-23803</a>: AMI action UpdateConfig EmptyCat clears all categories but the requested one<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414882">414882</a><br/>
Reporter: zvision<br/>
Coders: zvision<br/>
<br/>
<h3>Category: Core/General</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23654">ASTERISK-23654</a>: Add 'pjsip reload' to default cli_aliases.conf<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415301">415301</a><br/>
Reporter: rnewton<br/>
Coders: newtonr<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23984">ASTERISK-23984</a>: Infinite loop possible in ast_careful_fwrite()<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417799">417799</a><br/>
Reporter: one47<br/>
Coders: one47<br/>
<br/>
<h3>Category: Core/HTTP</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23552">ASTERISK-23552</a>: http: support persistent connections<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417880">417880</a><br/>
Reporter: sgriepentrog<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23673">ASTERISK-23673</a>: Security: DOS by consuming the number of allowed HTTP connections.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415896">415896</a><br/>
Reporter: rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23673">ASTERISK-23673</a>: Security: DOS by consuming the number of allowed HTTP connections.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416070">416070</a><br/>
Reporter: rmudgett<br/>
Coders: rmudgett<br/>
<br/>
<h3>Category: Core/ManagerInterface</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23803">ASTERISK-23803</a>: AMI action UpdateConfig EmptyCat clears all categories but the requested one<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414882">414882</a><br/>
Reporter: zvision<br/>
Coders: zvision<br/>
<br/>
<h3>Category: Core/PBX</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23827">ASTERISK-23827</a>: autoservice thread doesn't exit at shutdown<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415465">415465</a><br/>
Reporter: coreyfarrell<br/>
Coders: coreyfarrell<br/>
<br/>
<h3>Category: Core/Stasis</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23811">ASTERISK-23811</a>: Improve performance of Asterisk by reducing the number of channel snapshots created<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416211">416211</a><br/>
Reporter: mjordan<br/>
Coders: mjordan<br/>
<br/>
<h3>Category: Core/UDPTL</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23908">ASTERISK-23908</a>: [patch]When using FEC error correction, asterisk tries considers negative sequence numbers as missing<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417324">417324</a><br/>
Reporter: tsearle<br/>
Coders: Torrey Searle<br/>
<br/>
<h3>Category: Documentation</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23844">ASTERISK-23844</a>: Load of pbx_lua fails on sample extensions.lua with Lua 5.2 or greater due to addition of goto statement<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416582">416582</a><br/>
Reporter: rnewton<br/>
Testers: gtjoseph<br/>
Coders: gtjoseph<br/>
<br/>
<h3>Category: Functions/func_odbc</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23582">ASTERISK-23582</a>: [patch]Inconsistent column length in *odbc<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414695">414695</a><br/>
Reporter: wdoekes<br/>
Coders: jcolp<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23582">ASTERISK-23582</a>: [patch]Inconsistent column length in *odbc<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414999">414999</a><br/>
Reporter: wdoekes<br/>
Coders: wdoekes<br/>
<br/>
<h3>Category: General</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-21965">ASTERISK-21965</a>: [patch] Bug-fixed version of safe_asterisk not installed over old version<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415748">415748</a><br/>
Reporter: jkister<br/>
Coders: jkister<br/>
<br/>
<h3>Category: PBX/pbx_lua</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23818">ASTERISK-23818</a>: PBX_Lua: after asterisk startup module is loaded, but dialplan not available<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416669">416669</a><br/>
Reporter: dennis.guse<br/>
Testers: Dennis Guse, George Joseph<br/>
Coders: gtjoseph<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23844">ASTERISK-23844</a>: Load of pbx_lua fails on sample extensions.lua with Lua 5.2 or greater due to addition of goto statement<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416582">416582</a><br/>
Reporter: rnewton<br/>
Testers: gtjoseph<br/>
Coders: gtjoseph<br/>
<br/>
<h3>Category: Resources/res_ari</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23939">ASTERISK-23939</a>: ARI: Allow for channel subscriptions on originate<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=418089">418089</a><br/>
Reporter: mjordan<br/>
Coders: mjordan<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23975">ASTERISK-23975</a>: Description of variables field for userEvent operation missing details.<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417878">417878</a><br/>
Reporter: sgalarneau<br/>
Coders: sgalarneau<br/>
<br/>
<h3>Category: Resources/res_config_odbc</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23582">ASTERISK-23582</a>: [patch]Inconsistent column length in *odbc<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414695">414695</a><br/>
Reporter: wdoekes<br/>
Coders: jcolp<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23582">ASTERISK-23582</a>: [patch]Inconsistent column length in *odbc<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414999">414999</a><br/>
Reporter: wdoekes<br/>
Coders: wdoekes<br/>
<br/>
<h3>Category: Resources/res_config_sqlite3</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23766">ASTERISK-23766</a>: [patch] Specify timeout for database write in SQLite<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416338">416338</a><br/>
Reporter: igorg<br/>
Coders: igorg<br/>
<br/>
<h3>Category: Resources/res_http_websocket</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23917">ASTERISK-23917</a>: res_http_websocket: Delay in client processing large streams of data causes disconnect and stuck socket<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417311">417311</a><br/>
Reporter: mjordan<br/>
Coders: mjordan<br/>
<br/>
<h3>Category: Resources/res_pjsip</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23721">ASTERISK-23721</a>: Calls to PJSIP endpoints with video enabled result in leaked RTP ports<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414749">414749</a><br/>
Reporter: cervajs<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23947">ASTERISK-23947</a>: ActionID missing from AMI PJSIP events (PJSIPShowEndpoints, etc.)<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417460">417460</a><br/>
Reporter: mmichelson<br/>
Coders: mjordan<br/>
<br/>
<h3>Category: Resources/res_pjsip_pubsub</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23489">ASTERISK-23489</a>: Vulnerability in res_pjsip_pubsub: unauthenticated remote crash in during MWI unsubscribe without being subscribed<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415812">415812</a><br/>
Reporter: jbigelow<br/>
Coders: kharwell<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23802">ASTERISK-23802</a>: Security: Deadlock in res_pjsip_pubsub on transaction timeout<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415794">415794</a><br/>
Reporter: mmichelson<br/>
Coders: mmichelson<br/>
<br/>
<h3>Category: Resources/res_pjsip_refer</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23718">ASTERISK-23718</a>: res_pjsip_incoming_blind_request: crash with NULL session channel<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414948">414948</a><br/>
Reporter: jrose<br/>
Coders: kmoore<br/>
<br/>
<h3>Category: Resources/res_rtp_asterisk</h3><br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23721">ASTERISK-23721</a>: Calls to PJSIP endpoints with video enabled result in leaked RTP ports<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414749">414749</a><br/>
Reporter: cervajs<br/>
Coders: rmudgett<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-23834">ASTERISK-23834</a>: res_rtp_asterisk debug message gives wrong length if ICE<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417142">417142</a><br/>
Reporter: kenner<br/>
Coders: jcolp<br/>
<br/>
<a href="https://issues.asterisk.org/jira/browse/ASTERISK-24001">ASTERISK-24001</a>: res_rtp_asterisk fails to load module due to undefined symbol 'dtls_perform_handshake' when PJPROJECT is not installed<br/>
Revision: <a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=418172">418172</a><br/>
Reporter: jfalcon<br/>
Coders: mjordan<br/>
<br/>
<hr/>
<a name="commits"><h2 align="center">Commits Not Associated with an Issue</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This is a list of all changes that went into this release that did not directly close an issue from the issue tracker.  The commits may have been marked as being related to an issue.  If that is the case, the issue numbers are listed here, as well.</p>
<table width="100%" border="1">
<tr><td><b>Revision</b></td><td><b>Author</b></td><td><b>Summary</b></td><td><b>Issues Referenced</b></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414474">414474</a></td><td>kmoore</td><td>Fix signed/unsigned build warnings</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414528">414528</a></td><td>mjordan</td><td>test_cel: Fix unit tests broken due to event def changes from res_corosync</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414542">414542</a></td><td>mjordan</td><td>core_unreal: Prevent double free of core_unreal pvt</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414566">414566</a></td><td>wdoekes</td><td>res_config_odbc: Fix old and new ast_string_field memory leaks.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414763">414763</a></td><td>mjordan</td><td>ast-db-manage/cdr/env.py: Don't fail if a config file can't be loaded</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414765">414765</a></td><td>mjordan</td><td>AMI/ARI: Update version numbers</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414780">414780</a></td><td>newtonr</td><td>pjsip.conf: privkey_file should be priv_key_file, mediaencryption=yes should be mediaencryption=sdes</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=414860">414860</a></td><td>kmoore</td><td>PBX: Prevent incorrect hint parsing</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415115">415115</a></td><td>mjordan</td><td>res_pjsip_session: Add debug statement for session refreshes</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415117">415117</a></td><td>mjordan</td><td>chan_pjsip: Add debug in RTP Engine glue callback</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415191">415191</a></td><td>kmoore</td><td>PJSIP: Send initial connected line information</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415317">415317</a></td><td>gtjoseph</td><td>Split astobj2.c into more maintainable components.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415318">415318</a></td><td>gtjoseph</td><td>Update utils/Makefile so refcounter compiles post astobj2 split.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415336">415336</a></td><td>rmudgett</td><td>utils: Update svn:ignore for the new astobj2 split files. v12 only</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415342">415342</a></td><td>kmoore</td><td>PJSIP: Remove premature write of raw formats</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415410">415410</a></td><td>jrose</td><td>chan_sip: Fix order of variables specified in SIPNotify action</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415427">415427</a></td><td>rmudgett</td><td>bridge.h: Remove redundant struct ast_bridge_channel forward declaration.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415443">415443</a></td><td>mjordan</td><td>bridges/bridge_native_rtp: Reconfigure bridge on removal of framehook</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415579">415579</a></td><td>mmichelson</td><td>chan_pjsip: Fix bug where custom SIP headers could be duplicated on outgoing INVITEs.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415658">415658</a></td><td>jrose</td><td>PJSIP: PJSIPNotify - Strip content-length headers and add documentation</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415678">415678</a></td><td>kmoore</td><td>Fix build in dev mode due to signed/unsigned mismatch</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415729">415729</a></td><td>rmudgett</td><td>format.c: Fix misuse of hash container function.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415766">415766</a></td><td>file</td><td>res_pjsip_pubsub: Persist subscriptions in sorcery so they are recreated on startup.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415838">415838</a></td><td>jrose</td><td>Correct UPGRADE.txt notes in r415825</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=415980">415980</a></td><td>kmoore</td><td>Fix build in devmode for GCC 4.10</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416001">416001</a></td><td>newtonr</td><td>main/pbx - documentation - enhance 'core show hints' and 'core show hint' help text</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416148">416148</a></td><td>kmoore</td><td>CEL: Expose parking retreiver in extra field</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416152">416152</a></td><td>kmoore</td><td>MoH: Don't restart stream on repeated start calls</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416255">416255</a></td><td>mjordan</td><td>MoH: Undo commit r416150 (1.8)</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416298">416298</a></td><td>mjordan</td><td>test_stasis_endpoints: Remove expected channel snapshot</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416300">416300</a></td><td>mjordan</td><td>channel_internal_api: Publish a snapshot change when linkedids change</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416318">416318</a></td><td>mjordan</td><td>channels/chan_sip: Forbid remote bridging if T.38 is negotiated</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416441">416441</a></td><td>kmoore</td><td>MoH: Don't restart stream on repeated start calls</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416442">416442</a></td><td>mmichelson</td><td>Fix string growth algorithm for XML presence bodies.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416502">416502</a></td><td>mmichelson</td><td>Allow the PUSH and UNSHIFT functions to set inheritable channel variables.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416557">416557</a></td><td>mjordan</td><td>stasis_channels: Update the stasis cache if manager variables are needed</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416734">416734</a></td><td>kmoore</td><td>Fix build warnings with TEST_FRAMEWORK enabled</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416737">416737</a></td><td>gtjoseph</td><td>pjsip cli: Change Identify to show CIDR notation instead of netmasks.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416806">416806</a></td><td>gtjoseph</td><td>astobj2: Additional refactoring to push impl specific code down into the impls.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416849">416849</a></td><td>jrose</td><td>res_parking: Make manager commands register with module information</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416871">416871</a></td><td>gtjoseph</td><td>build: Allow autoconf/ast_ext_tool_check to handle cross-compiling better.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416931">416931</a></td><td>gtjoseph</td><td>build: Allow autoconf/ast_ext_tool_check to handle cross-compiling better.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=416995">416995</a></td><td>gtjoseph</td><td>astobj2: Add an ao2_replace macro to astobj2.h</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417119">417119</a></td><td>rmudgett</td><td>core_unreal: Fix off by one buffer overwrite error.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417399">417399</a></td><td>mjordan</td><td>chan_pjsip: Add a test event for fast picture updates</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417420">417420</a></td><td>mjordan</td><td>res_http_websocket: Export symbol for ast_websocket_set_timeout</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417565">417565</a></td><td>rmudgett</td><td>event.c: Fix type mismatch errors in ie_maps[].</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417705">417705</a></td><td>file</td><td>res_rtp_asterisk: Don't leak memory or reset state if DTLS configuration is set multiple times.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=417932">417932</a></td><td>rmudgett</td><td>res_ari: Fix some off-nominal paths just dropping the HTTP connection.</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=418066">418066</a></td><td>kmoore</td><td>HTTP: Fix build for gcc 4.10</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=418071">418071</a></td><td>kmoore</td><td>CEL: Fix incorrect/missing extra field information</td>
<td></td></tr><tr><td><a href="http://svn.digium.com/view/asterisk/branches/12?view=revision&revision=418182">418182</a></td><td>mjordan</td><td>manager/ARI: Update version to 2.4.0/1.4.0; Update UPGRADE.txt</td>
<td></td></tr></table>
<hr/>
<a name="diffstat"><h2 align="center">Diffstat Results</h2></a>
<center><a href="#top">[Back to Top]</a></center><br/><p>This is a summary of the changes to the source code that went into this release that was generated using the diffstat utility.</p>
<pre>
CHANGES                                                                                     |   31
Makefile                                                                                    |    5
Makefile.rules                                                                              |    2
UPGRADE.txt                                                                                 |  104
addons/chan_ooh323.c                                                                        |   37
apps/app_agent_pool.c                                                                       |  170
apps/app_confbridge.c                                                                       |   24
apps/app_meetme.c                                                                           |    4
apps/app_mixmonitor.c                                                                       |    6
apps/app_queue.c                                                                            |   28
apps/confbridge/include/confbridge.h                                                        |    2
autoconf/ast_ext_tool_check.m4                                                              |   62
bridges/bridge_native_rtp.c                                                                 |   26
build_tools/cflags.xml                                                                      |    3
cdr/cdr_sqlite3_custom.c                                                                    |   14
cel/cel_sqlite3_custom.c                                                                    |   17
channels/chan_dahdi.c                                                                       |    4
channels/chan_pjsip.c                                                                       |   64
channels/chan_sip.c                                                                         |  145
channels/chan_unistim.c                                                                     |    2
channels/sig_pri.c                                                                          |   26
channels/sig_pri.h                                                                          |    6
channels/sip/include/sip.h                                                                  |    4
channels/sip/reqresp_parser.c                                                               |    4
configs/ari.conf.sample                                                                     |   31
configs/chan_dahdi.conf.sample                                                              |   17
configs/cli_aliases.conf.sample                                                             |   20
configs/extensions.lua.sample                                                               |   22
configs/http.conf.sample                                                                    |   17
configs/pjsip.conf.sample                                                                   |   14
configs/sip.conf.sample                                                                     |   16
contrib/ast-db-manage/cdr/env.py                                                            |    5
contrib/ast-db-manage/config/versions/51f8cb66540e_add_further_dtls_options.py              |   32
contrib/ast-db-manage/config/versions/c6d929b23a8_create_pjsip_subscription_persistence_.py |   36
contrib/scripts/refcounter.py                                                               |   47
contrib/scripts/safe_asterisk                                                               |  138
funcs/func_odbc.c                                                                           |  265
funcs/func_strings.c                                                                        |   12
funcs/func_talkdetect.c                                                                     |  404
include/asterisk/acl.h                                                                      |    7
include/asterisk/astobj2.h                                                                  |   27
include/asterisk/autoconfig.h.in                                                            |    5
include/asterisk/bridge.h                                                                   |    2
include/asterisk/channel.h                                                                  |   25
include/asterisk/config.h                                                                   |   10
include/asterisk/http.h                                                                     |   93
include/asterisk/http_websocket.h                                                           |   17
include/asterisk/manager.h                                                                  |   16
include/asterisk/netsock2.h                                                                 |   10
include/asterisk/res_pjsip.h                                                                |   25
include/asterisk/res_pjsip_body_generator_types.h                                           |    3
include/asterisk/res_pjsip_presence_xml.h                                                   |    2
include/asterisk/res_pjsip_pubsub.h                                                         |   12
include/asterisk/res_pjsip_session.h                                                        |   24
include/asterisk/rtp_engine.h                                                               |   27
include/asterisk/sdp_srtp.h                                                                 |    4
include/asterisk/stasis_app.h                                                               |   15
include/asterisk/stasis_channels.h                                                          |   55
include/asterisk/tcptls.h                                                                   |   66
include/asterisk/utils.h                                                                    |    1
main/acl.c                                                                                  |   13
main/aoc.c                                                                                  |    2
main/astobj2.c                                                                              | 4764 ----------
main/astobj2_container.c                                                                    | 1219 ++
main/astobj2_container_private.h                                                            |  345
main/astobj2_hash.c                                                                         | 1153 ++
main/astobj2_private.h                                                                      |   49
main/astobj2_rbtree.c                                                                       | 2096 ++++
main/audiohook.c                                                                            |    6
main/autoservice.c                                                                          |   16
main/bridge.c                                                                               |   16
main/bridge_after.c                                                                         |    5
main/bridge_channel.c                                                                       |   14
main/cel.c                                                                                  |   48
main/channel.c                                                                              |   55
main/channel_internal_api.c                                                                 |   14
main/cli.c                                                                                  |  121
main/config.c                                                                               |  216
main/core_local.c                                                                           |   10
main/core_unreal.c                                                                          |   18
main/db.c                                                                                   |    6
main/dial.c                                                                                 |    2
main/endpoints.c                                                                            |    3
main/event.c                                                                                |   10
main/format.c                                                                               |    6
main/framehook.c                                                                            |    4
main/http.c                                                                                 | 1068 +-
main/logger.c                                                                               |   10
main/manager.c                                                                              |  367
main/message.c                                                                              |    2
main/netsock2.c                                                                             |   34
main/pbx.c                                                                                  |   67
main/pickup.c                                                                               |    4
main/rtp_engine.c                                                                           |   19
main/sdp_srtp.c                                                                             |    9
main/stasis_bridges.c                                                                       |   12
main/stasis_cache.c                                                                         |   21
main/stasis_channels.c                                                                      |  167
main/tcptls.c                                                                               |  552 -
main/test.c                                                                                 |   20
main/udptl.c                                                                                |    6
main/utils.c                                                                                |   28
pbx/pbx_lua.c                                                                               |    6
res/ari/ari_model_validators.c                                                              |  186
res/ari/ari_model_validators.h                                                              |   47
res/ari/ari_websockets.c                                                                    |   10
res/ari/config.c                                                                            |    4
res/ari/internal.h                                                                          |    2
res/ari/resource_channels.c                                                                 |   26
res/ari/resource_channels.h                                                                 |    4
res/ari/resource_events.h                                                                   |    2
res/parking/parking_bridge.c                                                                |    2
res/parking/parking_bridge_features.c                                                       |    4
res/parking/parking_manager.c                                                               |   10
res/parking/parking_tests.c                                                                 |   12
res/res_agi.c                                                                               |   24
res/res_ari.c                                                                               |   40
res/res_config_odbc.c                                                                       |  202
res/res_config_sqlite3.c                                                                    |    1
res/res_http_post.c                                                                         |  133
res/res_http_websocket.c                                                                    |   76
res/res_http_websocket.exports.in                                                           |    1
res/res_musiconhold.c                                                                       |   12
res/res_phoneprov.c                                                                         |    6
res/res_pjsip.c                                                                             |   65
res/res_pjsip/config_transport.c                                                            |    8
res/res_pjsip/pjsip_configuration.c                                                         |   34
res/res_pjsip/presence_xml.c                                                                |    5
res/res_pjsip_dialog_info_body_generator.c                                                  |  215
res/res_pjsip_endpoint_identifier_ip.c                                                      |    2
res/res_pjsip_exten_state.c                                                                 |   28
res/res_pjsip_header_funcs.c                                                                |    1
res/res_pjsip_mwi.c                                                                         |    4
res/res_pjsip_notify.c                                                                      |   35
res/res_pjsip_outbound_registration.c                                                       |   12
res/res_pjsip_pidf_body_generator.c                                                         |    8
res/res_pjsip_pubsub.c                                                                      |  514 -
res/res_pjsip_pubsub.exports.in                                                             |    1
res/res_pjsip_refer.c                                                                       |   11
res/res_pjsip_registrar.c                                                                   |   10
res/res_pjsip_sdp_rtp.c                                                                     |   68
res/res_pjsip_session.c                                                                     |   91
res/res_pjsip_t38.c                                                                         |   15
res/res_pjsip_transport_websocket.c                                                         |   36
res/res_pjsip_xpidf_body_generator.c                                                        |    9
res/res_rtp_asterisk.c                                                                      |  504 -
res/res_stasis.c                                                                            |   23
res/stasis/app.c                                                                            |   46
rest-api/api-docs/applications.json                                                         |    2
rest-api/api-docs/asterisk.json                                                             |    2
rest-api/api-docs/bridges.json                                                              |    2
rest-api/api-docs/channels.json                                                             |    6
rest-api/api-docs/deviceStates.json                                                         |    2
rest-api/api-docs/endpoints.json                                                            |    2
rest-api/api-docs/events.json                                                               |   33
rest-api/api-docs/mailboxes.json                                                            |    2
rest-api/api-docs/playbacks.json                                                            |    2
rest-api/api-docs/recordings.json                                                           |    2
rest-api/api-docs/sounds.json                                                               |    2
rest-api/resources.json                                                                     |    2
tests/test_astobj2.c                                                                        |  126
tests/test_cel.c                                                                            |   40
tests/test_stasis_endpoints.c                                                               |   18
utils/Makefile                                                                              |   28
164 files changed, 11118 insertions(+), 6617 deletions(-)
</pre><br/>
<hr/>
</body>
</html>
