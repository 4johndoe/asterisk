                                Release Summary

                         asterisk-certified/13.18-cert1

                                Date: 2017-12-21

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Open Issues
    5. Other Changes
    6. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release is a point release of an existing major version. The changes
   included were made to address problems that have been identified in this
   release series, or are minor, backwards compatible new features or
   improvements. Users should be able to safely upgrade to this version if
   this release series is already in use. Users considering upgrading from a
   previous version are strongly encouraged to review the UPGRADE.txt
   document as well as the CHANGES document for information about upgrading
   to this release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-certified/13.13-cert9.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were affected by commits that went into
   this release.

   Coders                     Testers             Reporters                   
   114 Richard Mudgett        1 Matt Jordan       21 Richard Mudgett          
   102 Sean Bright            1 AaronAn           20 George Joseph            
   77 George Joseph           1 Stefan EngstrAP:m 17 Tzafrir Cohen            
   50 Joshua Colp             1 Aaron An          16 Joshua Colp              
   22 Kevin Harwell           1 Andrey Egorov     15 Corey Farrell            
   21 Corey Farrell           1 David J. Pryke    8 Michael Maier             
   13 Torrey Searle           1 David Hajek       8 Ross Beer                 
   11 Tzafrir Cohen                               8 Alexander Traud           
   11 Alexander Traud                             8 Torrey Searle             
   11 Mark Michelson                              7 Matt Jordan               
   10 Alexei Gradinari                            6 Walter Doekes             
   9 Matt Jordan                                  5 Richard Begg              
   6 Walter Doekes                                5 Tzafrir Cohen             
   4 Daniel Journo                                5 Ross Beer                 
   4 Badalyan Vyacheslav                          5 Alexei Gradinari          
   4 Joshua Elson                                 4 Sean Bright               
   4 Ben Ford                                     4 Michael Kuron             
   3 Daniel Tryba                                 4 Dan Jenkins               
   3 Rodrigo RamArez                              4 Rusty Newton              
   Norambuena                                     4 Kevin Harwell             
   3 Michael Kuron                                4 Nic Colledge              
   3 Rusty Newton                                 4 JA,rgen H                 
   3 Jean Aunis                                   3 Sergej Kasumovic          
   3 Richard Begg                                 3 Jean Aunis - Prescom      
   3 Kirill Katsnelson                            3 Tom Pawelek               
   3 Florian Floimair                             3 Kirill Katsnelson         
   3 Sergej Kasumovic                             3 Etienne Lessard           
   3 Vitezslav Novy                               3 Joshua Elson              
   3 JA,rgen H                                    3 Guido Falsi               
   3 Guido Falsi                                  3 Louis Jocelyn Paquet      
   2 Matthew Fredrickson                          3 Florian Floimair          
   2 Benjamin Keith Ford                          3 dtryba                    
   2 Ivan Poddubny                                3 Sandro Gauci              
   2 Scott Griepentrog                            3 Stefan EngstrAP:m         
   2 Aaron An                                     2 Jacek Konieczny           
   2 Robert Mordec                                2 Scott Griepentrog         
   2 Timo TerACURs                                2 Marcello Ceschia          
   2 David M. Lee                                 2 Ksenia                    
   1 Sebastian Gutierrez                          2 Badalian Vyacheslav       
   1 gestoip2                                     2 Matthias Urlichs          
   1 Martin Tomec                                 2 Richard Kenner            
   1 David Hajek                                  2 Frederic LE FOLL          
   1 Thomas Sevestre                              2 Frankie Chin              
   1 Frederic LE FOLL                             2 Robert Mordec             
   1 Mikheili Dautashvili                         2 Sebastian Gutierrez       
   1 David J. Pryke                               2 John Bigelow              
   1 Nathan Bruning                               2 Jeremy Kister             
   1 BenoA(R)t Dereck-Tricot                      2 Michael Walton            
   1 Michael L. Young                             2 Ronald Raikes             
   1 Yasin CANER                                  2 Ove Aursand               
   1 Josh Roberson                                2 James Terhune             
   1 Pirmin Walthert                              2 Etienne Lessard           
   1 Andrey Egorov                                2 twisted                   
   1 Norbert Varga                                2 Niklas Larsson            
   1 Jacek Konieczny                              2 Walter Doekes             
   1 Andre Nazario                                2 Jesper                    
   1 Igor Goncharovsky                            2 Christopher van de Sande  
   1 Eduardo S. Libardi                           2 Aaron An                  
   1 Ryan Rittgarn                                2 Michael L. Young          
   1 Jan Friesse                                  2 Bob Ham                   
   1 Stefan EngstrAP:m                            2 Morten Tryfoss            
   1 Thierry Magnien                              2 Mark Michelson            
   1 Sungtae Kim                                  2 Jeremy Kister             
   1 Holger Hans Peter                            2 Matthias Urlichs          
   Freyther                                       2 nappsoft                  
   1 alex                                         2 Aaron An                  
   1 Niklas Larsson                               2 Zach R                    
                                                  2 Marek Cervenka            
                                                  1 Abraham Liebsch           
                                                  1 Tim Morgan                
                                                  1 Ustinov Artem             
                                                  1 David Moore               
                                                  1 Dmitriy                   
                                                  1 Hector Royo Concepcion    
                                                  1 Stefan Gofferje           
                                                  1 Anthony Critelli          
                                                  1 Michael L. Young          
                                                  1 Benjamin Keith Ford       
                                                  1 shaurya jain              
                                                  1 Sean Darcy                
                                                  1 Bryan Walters             
                                                  1 Marcello Ceschia          
                                                  1 Ivan Myalkin              
                                                  1 Ove Aursand               
                                                  1 Anthony Critelli          
                                                  1 Anthony Messina           
                                                  1 Peter Racz                
                                                  1 Thomas Sevestre           
                                                  1 Nicolas Riendeau          
                                                  1 Nicholas John Koch        
                                                  1 David Hajek               
                                                  1 SA(c)bastien Couture      
                                                  1 Allen Ford                
                                                  1 Lorne Gaetz               
                                                  1 Jens T.                   
                                                  1 saghul                    
                                                  1 Ira Emus                  
                                                  1 Eduardo S. Libardi        
                                                  1 Matthias Binder           
                                                  1 SeA!n C. McCord           
                                                  1 Vitezslav Novy            
                                                  1 Nasir Iqbal               
                                                  1 Nir Simionovich           
                                                  (GreenfieldTech - Israel)   
                                                  1 Evers Lab                 
                                                  1 Holger Hans Peter         
                                                  Freyther                    
                                                  1 Vinod Dharashive          
                                                  1 Florian Loyau             
                                                  1 Ustinov Artem             
                                                  1 Kinsey Moore              
                                                  1 Michel R. Vaillancourt    
                                                  1 Juan Sacco                
                                                  1 Jim Van Meggelen          
                                                  1 Jonathan White            
                                                  1 Allen Ford                
                                                  1 Michael Walton            
                                                  1 gkloepfer                 
                                                  1 Max Norba                 
                                                  1 Dave Olszewski            
                                                  1 Benoit Duverger           
                                                  1 Roman S.                  
                                                  1 Andreas KrA 1/4ger        
                                                  1 BenoA(R)t Dereck-Tricot   
                                                  1 Filip Jenicek             
                                                  1 Jesper                    
                                                  1 Ksenia                    
                                                  1 Michael Keuter            
                                                  1 Filip Jenicek             
                                                  1 Juris Breicis             
                                                  1 Vitaly K                  
                                                  1 John Harris               
                                                  1 Tony Mountifield          
                                                  1 'alex'                    
                                                  1 Stefan Gofferje           
                                                  1 Sandro Gauci              
                                                  1 Huangyx                   
                                                  1 Scott Griepentrog         
                                                  1 Mark Thompson             
                                                  1 Youngsung Kim at LINE     
                                                  Corporation                 
                                                  1 Dave Olszewski            
                                                  1 Jonathan White            
                                                  1 Nathan Bruning            
                                                  1 Jim Van Meggelen          
                                                  1 Frankie Chin              
                                                  1 Ryan Rittgarn             
                                                  1 Alex VillacAs Lasso       
                                                  1 BenoA(R)t Dereck-Tricot   
                                                  1 Kirsty Tyerman            
                                                  1 Olle Johansson            
                                                  1 Eelco Brolman             
                                                  1 Andre Nazario             
                                                  1 Nasir Iqbal               
                                                  1 Abraham Liebsch           
                                                  1 Roman Bedros              
                                                  1 Charlie Smurthwaite       
                                                  1 Maxim Vasilev             
                                                  1 wushumasters              
                                                  1 James Terhune             
                                                  1 Eelco Brolman             
                                                  1 Roman S.                  
                                                  1 David Woolley             
                                                  1 Olivier Krief             
                                                  1 Adagio                    
                                                  1 Yasin CANER               
                                                  1 Humberto Figuera          
                                                  1 klaus3000                 
                                                  1 Etienne Allovon           
                                                  1 Ian Gilmour               
                                                  1 Stepan                    
                                                  1 David Hajek               
                                                  1 Norbert Varga             
                                                  1 HZMI8gkCvPpom0tM          
                                                  1 Smirnov Aleksey           
                                                  1 Dmitry Wagin              
                                                  1 sungtae kim               
                                                  1 Rodrigo Ramirez           
                                                  Norambuena                  
                                                  1 Andrew Nowrot             
                                                  1 Yaacov Akiba Slama        
                                                  1 Sean Darcy                
                                                  1 Sean McCord               
                                                  1 HZMI8gkCvPpom0tM          
                                                  1 Igor Goncharovsky         
                                                  1 Chris Howard              
                                                  1 mdu113                    
                                                  1 Andrey                    
                                                  1 Joerg Sonnenberger        
                                                  1 Andrew Nowrot             
                                                  1 JoshE                     
                                                  1 Ben Langfeld              
                                                  1 var                       
                                                  1 Michael Balen             
                                                  1 John Fawcett              
                                                  1 OpenBSD ports             
                                                  1 Vinod Dharashive          
                                                  1 Doug Lytle                
                                                  1 David J. Pryke            
                                                  1 Eduardo Scudeller Libardi 
                                                  1 Bryan Walters             
                                                  1 David Woolley             
                                                  1 Jatin Jain                
                                                  1 Richard Mudgett           
                                                  1 Antoine Pitrou            
                                                  1 Jonathan Rose             
                                                  1 Peter Sokolov             
                                                  1 Dan Jenkins               
                                                  1 Christopher van de Sande  
                                                  1 David Moore               
                                                  1 John Covert               
                                                  1 Richard Kenner            
                                                  1 Peter Racz                
                                                  1 Ian Gilmour               
                                                  1 Vitaly K                  
                                                  1 Sean Bright               
                                                  1 Jens BA 1/4rger           
                                                  1 Mark Scholten             
                                                  1 Humberto Figuera          
                                                  1 David Brillert            
                                                  1 Jesse Ross                
                                                  1 M vd S                    
                                                  1 Matthew Fredrickson       
                                                  1 Kim youngsung             
                                                  1 alex                      
                                                  1 Joel Vandal               
                                                  1 Frederic LE FOLL          
                                                  1 David J. Pryke            
                                                  1 Javier Riveros            
                                                  1 Jens T.                   
                                                  1 Dmitry Wagin              
                                                  1 Jens BA 1/4rger           
                                                  1 Hector Royo Concepcion    
                                                  1 Roman Bedros              
                                                  1 Jonas Kellens             
                                                  1 Stefan EngstrAP:m         
                                                  1 Mikheili Dautashvili      
                                                  1 abelbeck                  
                                                  1 Nicolas Riendeau          
                                                  1 Andrey Egorov             
                                                  1 Ronald Raikes             
                                                  1 Gergely DAP:msAP:di       
                                                  1 Maxim Vasilev             
                                                  1 Henning Holtschneider     
                                                  1 Ivan Myalkin              
                                                  1 Marek Cervenka            
                                                  1 Krzysztof Trempala        
                                                  1 Andrew Green              
                                                  1 Carl Fortin               
                                                  1 Tim Morgan                
                                                  1 xrobau                    
                                                  1 Alex                      
                                                  1 Ryan Smith                
                                                  1 Nicholas John Koch        
                                                  1 Henning Holtschneider     
                                                  1 Jonathan Harris           
                                                  1 Anthony Messina           
                                                  1 Charlie Smurthwaite       
                                                  1 Mark Thompson             
                                                  1 John Covert               
                                                  1 Kirsty Tyerman            
                                                  1 cervajs, Inaki Baz        
                                                  Castillo                    
                                                  1 benasse                   
                                                  1 Ryan Smith                

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Improvement

    Category: Applications/app_controlplayback

   ASTERISK-26562: app_controlplayback: Transmit Silence on ControlPlayback
   pause
   Reported by: Mikheili Dautashvili
     * [12c4e664bc] Mikheili Dautashvili -- main/app.c: Transmit Silence on
       ControlPlayback pause

    Category: Applications/app_queue

   ASTERISK-27092: [patch] app_queue: Add Priority to AMI QueueStatus
   Reported by: Niklas Larsson
     * [9a09f7dd5d] Niklas Larsson -- app_queue: Add priority to AMI
       QueueStatus

    Category: Applications/app_voicemail/IMAP

   ASTERISK-27068: app_voicemail: Add global option "imap_poll_logout" to
   specify post-polling disconnect
   Reported by: Alexei Gradinari
     * [8f356192d1] Alexei Gradinari -- app_voicemail: IMAP connection
       control

    Category: Channels/chan_motif

   ASTERISK-27169: Google OAuth 2.0 support for XMPP / Motif
   Reported by: Andrey
     * [54e3ac402f] Andrey Egorov -- res_xmpp: Google OAuth 2.0 protocol
       support for XMPP / Motif

    Category: Channels/chan_pjsip

   ASTERISK-27220: Enable CHANNEL function to get from and to tag from SIP
   Headers
   Reported by: Andre Nazario
     * [a45af32983] Andre Nazario -- chan_pjsip: Add tag info in CHANNEL
       function
   ASTERISK-27085: [patch] chan_pjsip: Port SIPDtmfMode to chan_pjsip
   Reported by: Torrey Searle
     * [423d01cf16] Torrey Searle -- chan_pjsip: add a new function
       PJSIP_DTMF_MODE
   ASTERISK-27066: res_pjsip: Add DTMF INFO Failback mode
   Reported by: Torrey Searle
     * [9fbc34d2bd] Torrey Searle -- res_pjsip: Add DTMF INFO Failback mode

    Category: Channels/chan_sip/General

   ASTERISK-27278: [patch] chan_sip: Provide access to read the full SIP
   Request-URI from INVITE
   Reported by: David J. Pryke
     * [94f616e5e2] David J. Pryke -- chan_sip: Expose read-only access to
       the full SIP INVITE Request-URI
   ASTERISK-26846: chan_sip: Add rtcp-mux support
   Reported by: Sean Bright
     * [8721d0bf1b] Sean Bright -- chan_sip: Add rtcp-mux support

    Category: Contrib/General

   ASTERISK-27255: alembic: Add support for Microsoft SQL server
   Reported by: Florian Floimair
     * [ad606844be] Florian Floimair -- alembic: Add support for MS-SQL

    Category: Core/BuildSystem

   ASTERISK-27043: Core/BuildSystem: Add defines to fix build with LibreSSL
   Reported by: Guido Falsi
     * [6a64f65fe6] Guido Falsi -- BuildSystem: Add patches to allow building
       with recent LibreSSL

    Category: Core/Channels

   ASTERISK-26419: audiohooks: Remove redundant codec translations when using
   audiohooks
   Reported by: Michael Walton
     * [adfb28882b] Kevin Harwell -- channel: ast_write frame wrongly freed
       after call to audiohooks

    Category: Core/General

   ASTERISK-26419: audiohooks: Remove redundant codec translations when using
   audiohooks
   Reported by: Michael Walton
     * [adfb28882b] Kevin Harwell -- channel: ast_write frame wrongly freed
       after call to audiohooks

    Category: Core/HTTP

   ASTERISK-27173: Support for GMIME 3.0
   Reported by: Tzafrir Cohen
     * [38dbc708e7] Tzafrir Cohen -- Support GMIME 3.0

    Category: Core/Portability

   ASTERISK-27042: Unpatched asterisk sources fail to build on FreeBSD due to
   missing crypt.h file
   Reported by: Guido Falsi
     * [44cee2f4a1] Guido Falsi -- BuildSystem: Fix build on FreeBSD due to
       missing crypt.h

    Category: Core/Sorcery

   ASTERISK-26088: Investigate heavy memory utilization by res_pjsip_pubsub
   Reported by: Richard Mudgett
     * [b67363006f] Richard Mudgett -- res_pjsip_session.c: Process initial
       INVITE sooner. (key exists)

    Category: Core/Stasis

   ASTERISK-26088: Investigate heavy memory utilization by res_pjsip_pubsub
   Reported by: Richard Mudgett
     * [b67363006f] Richard Mudgett -- res_pjsip_session.c: Process initial
       INVITE sooner. (key exists)

    Category: Resources/res_agi

   ASTERISK-26124: res_agi: Set audio format for EAGI audio stream
   Reported by: John Fawcett
     * [90237dca11] Sean Bright -- res_agi: Allow configuration of audio
       format of EAGI pipe

    Category: Resources/res_calendar_caldav

   ASTERISK-26624: res_calendar_caldav: Add support for gmail
   Reported by: Eduardo Scudeller Libardi
     * [53459cdaa9] Eduardo S. Libardi -- res_calendar_caldav: Add support
       reading gmail calendar

    Category: Resources/res_hep_rtcp

   ASTERISK-26427: res_hep_rtcp: Asterisk Master will report channel name
   with res_hep_rtcp when using chan_sip
   Reported by: Nir Simionovich (GreenfieldTech - Israel)
     * [10a49ab362] Joshua Colp -- res_hep_rtcp: Provide chan_sip Call-ID for
       RTCP messages.

    Category: Resources/res_pjsip

   ASTERISK-27066: res_pjsip: Add DTMF INFO Failback mode
   Reported by: Torrey Searle
     * [9fbc34d2bd] Torrey Searle -- res_pjsip: Add DTMF INFO Failback mode
   ASTERISK-26088: Investigate heavy memory utilization by res_pjsip_pubsub
   Reported by: Richard Mudgett
     * [b67363006f] Richard Mudgett -- res_pjsip_session.c: Process initial
       INVITE sooner. (key exists)
   ASTERISK-23828: pjsip - Need a command to list active SIP subscriptions
   Reported by: Rusty Newton
     * [e3dcb9ddd9] Richard Mudgett -- res_pjsip_pubsub.c: Implement "pjsip
       show subscriptions" commands.

    Category: Resources/res_pjsip/Bundling

   ASTERISK-27355: Upgrade bundled PJPROJECT to 2.7
   Reported by: Richard Mudgett
     * [d4b80e35a9] Richard Mudgett -- res_pjproject.c: Upgrade bundled
       PJPROJECT to 2.7

    Category: Resources/res_pjsip_mwi

   ASTERISK-26230: [patch] res_pjsip_mwi: unsolicited mwi could block PJSIP
   taskprocessor on startup
   Reported by: Alexei Gradinari
     * [0f6a9617eb] Alexei Gradinari -- res_pjsip_mwi: update unsolicited MWI
       subscriptions on updating contact
     * [59c9bbe696] Alexei Gradinari -- res_pjsip_mwi: don't create mwi
       subscriptions if initial unsolicited disabled

    Category: Resources/res_pjsip_pubsub

   ASTERISK-26088: Investigate heavy memory utilization by res_pjsip_pubsub
   Reported by: Richard Mudgett
     * [b67363006f] Richard Mudgett -- res_pjsip_session.c: Process initial
       INVITE sooner. (key exists)

    Category: Resources/res_pjsip_registrar

   ASTERISK-26088: Investigate heavy memory utilization by res_pjsip_pubsub
   Reported by: Richard Mudgett
     * [b67363006f] Richard Mudgett -- res_pjsip_session.c: Process initial
       INVITE sooner. (key exists)

    Category: Resources/res_pjsip_session

   ASTERISK-26864: res_pjsip_session: Add support for overlap dialling
   Reported by: Richard Begg
     * [398e5ec16c] Richard Begg -- res_pjsip_session: Enable RFC3578 overlap
       dialing support.

    Category: Resources/res_rtp_asterisk

   ASTERISK-26976: libsrtp-2.x.x support
   Reported by: Alex
     * [5e9cd1f20d] Sean Bright -- res_srtp: Add support for libsrtp2

    Category: Resources/res_srtp

   ASTERISK-27253: [patch] libsrtp-2.1.x support
   Reported by: Alexander Traud
     * [13aa1241c3] Alexander Traud -- res_srtp: Add support for libsrtp2.1.

    Category: Resources/res_xmpp

   ASTERISK-27169: Google OAuth 2.0 support for XMPP / Motif
   Reported by: Andrey
     * [54e3ac402f] Andrey Egorov -- res_xmpp: Google OAuth 2.0 protocol
       support for XMPP / Motif

    Category: Tests/testsuite

   ASTERISK-26527: Testsuite: increase timeout to check "core fullybooted
   wait" up to 30 sec
   Reported by: Badalian Vyacheslav
     * [61ba2a014a] Richard Mudgett -- res_pjsip_outbound_registration.c:
       Filter redundant statsd reporting.

  Bug

    Category: Addons/cdr_mysql

   ASTERISK-27270: cdr_mysql: various crashes at second module reload if
   cdr_mysql.conf is configured
   Reported by: Tzafrir Cohen
     * [8e05796e81] Tzafrir Cohen -- cdr_mysql: avoid releasing a config
       string

    Category: Addons/format_mp3

   ASTERISK-23951: Asterisk attempts and fails to build format_mp3 even if
   mp3lib was not downloaded
   Reported by: Tzafrir Cohen
     * [97b003f5e2] Sean Bright -- format_mp3: Re-work menuselect/build
       issues
     * [72213c98e3] Sean Bright -- format_mp3: Don't try to build format_mp3
       if we don't have sources

    Category: Addons/res_config_mysql

   ASTERISK-18271: Pattern matching with res_config_mysql extensions does not
   behave as expected
   Reported by: Charlie Smurthwaite
     * [ca6d001144] Sean Bright -- pbx_realtime: Prevent premature extension
       matching

    Category: Applications/app_confbridge

   ASTERISK-26994: Confbridge: CBAnn channels intermittently become stuck
   when caller hangs up before recording name
   Reported by: James Terhune
     * [d2ace23248] Sean Bright -- confbridge: Handle user hangup during name
       recording
   ASTERISK-27123: confbridge: Name recordings are left on filesystem
   Reported by: Sergej Kasumovic
     * [3858d99b73] Sergej Kasumovic -- app_confbridge: Make sure name
       recordings are always removed from the filesystem
   ASTERISK-27012: app_confbridge: ConfBridge sometimes does not play user
   name recording while leaving
   Reported by: Robert Mordec
     * [f1b32de2c5] Robert Mordec -- app_confbridge: Race between removing
       and playing name recording while leaving
   ASTERISK-25506: [patch]CONFBRIDGE failure after an app_confbrige.so module
   reload results in segfault or error/warning messages.
   Reported by: Frederic LE FOLL
     * [bed6c0d04b] George Joseph -- app_confbridge: Fix reference to cfg in
       menu_template_handler

    Category: Applications/app_controlplayback

   ASTERISK-23608: ControlPlayback fails to play files with names containing
   certain non-alpha characters
   Reported by: Jonathan White
     * [fff2f68616] Matt Jordan -- main/app: Only look to end of file if
       ':end' is specified, and not just ':'

    Category: Applications/app_dial

   ASTERISK-24499: Need more explicit debug when PJSIP dialstring is invalid
   Reported by: Rusty Newton
     * [9114574188] Richard Mudgett -- res_pjsip: Add/update ERROR msg if
       invalid URI.

    Category: Applications/app_directory

   ASTERISK-27241: libc segfault upon entry into app_directory
   Reported by: David Moore
     * [5f4863d4f9] Sean Bright -- app_directory: Handle a NULL mailbox
       without crashing
   ASTERISK-27093: ODBC deadlocks when app_directory tries to play back
   non-existent voicemail greeting
   Reported by: James Terhune
     * [194625c1de] Sean Bright -- app_voicemail: Cleanup ODBC connection
       handling

    Category: Applications/app_meetme

   ASTERISK-27025: channel / meetme: Fix missing parentheses
   Reported by: Joshua Colp
     * [dc05183f4b] Joshua Colp -- channel / app_meetme: Fix parentheses.

    Category: Applications/app_minivm

   ASTERISK-27103: core: ast_safe_system command injection possible.
   Reported by: Corey Farrell
     * [04ee3eb774] Corey Farrell -- AST-2017-006: Fix app_minivm application
       MinivmNotify command injection
   ASTERISK-20858: app_minivm fails to clean up mkstemp files
   Reported by: Walter Doekes
     * [9e6efcace5] Sean Bright -- voicemail: Fix various abuses of mkstemp

    Category: Applications/app_mixmonitor

   ASTERISK-27103: core: ast_safe_system command injection possible.
   Reported by: Corey Farrell
     * [04ee3eb774] Corey Farrell -- AST-2017-006: Fix app_minivm application
       MinivmNotify command injection
   ASTERISK-26169: format_ogg_vorbis: Memory leak using OGG in MixMonitor
   Reported by: Ivan Myalkin
     * [90c630aaa1] Sean Bright -- format_ogg_vorbis: Clear ogg/vorbis data
       structures on close
   ASTERISK-26875: app_mixmonitor: Recording out of sync when 183 but no RTP
   Reported by: Aaron An
     * [d5b480afca] Aaron An -- audiohook.c: Lost RTP packets lead to
       out-of-sync MixMonitor.
   ASTERISK-26867: autochan: Locking in a function ast_autochan_destroy() on
   destroyed channel (after masquerade).
   Reported by: Krzysztof Trempala
     * [adad6020be] Richard Mudgett -- autochan/mixmonitor/chanspy: Fix
       unsafe channel locking and references.
   ASTERISK-21094: MixMonitorMute mutes through stream if already slinear
   (e.g. Originate)
   Reported by: David Woolley
     * [3aee199913] Sean Bright -- audiohooks: Muting a hook can mute
       underlying frames

    Category: Applications/app_originate

   ASTERISK-25266: Application Originate returns SUCCESS to ORIGINATE_STATUS
   upon failure to originate
   Reported by: Allen Ford
     * [e71a65a358] Sean Bright -- app_originate: Set ORIGINATE_STATUS
       correctly on failure

    Category: Applications/app_playback

   ASTERISK-27124: app_playback.c:say_date_generic use timezonename parameter
   Reported by: Holger Hans Peter Freyther
     * [1c3e7df26e] Holger Hans Peter Freyther -- app_playback.c: Use the
       timezonename parameter

    Category: Applications/app_queue

   ASTERISK-27301: [patch] app_queue: Music On Hold for real-time queues is
   not reset to default
   Reported by: Nathan Bruning
     * [416e35589e] Nathan Bruning -- app_queue.c: clear moh field in
       init_queue
   ASTERISK-27216: app_queue: does its check-makeannouncement-logic twice
   each head-caller-loop
   Reported by: Stefan EngstrAP:m
     * [0945f10d3b] Richard Mudgett -- app_queue.c: Fix announcements when
       announce-to-first-user not enabled.
     * [0adf6f3bd9] Stefan EngstrAP:m -- app_queue: Only do announcement
       logic between ringing cycles
   ASTERISK-27232: When in queue on g722 with interruptions, music on hold
   can get stuck and no longer play
   Reported by: Jens T.
     * [3f7d0b63fc] Sean Bright -- formats: Restore previous fread() behavior
   ASTERISK-19103: When using realtime queues, function QUEUE_MEMBER_LIST()
   will return an error if no other app/function has loaded the queues first.
   This problem does not exist if queues.conf is used.
   Reported by: Jim Van Meggelen
     * [579d4593ac] Sean Bright -- app_queue: Evaluate realtime queues when
       running dialplan functions
   ASTERISK-27204: [patch] app_queue: Wrong queue stat calculation
   Reported by: sungtae kim
     * [b88c3a4209] Sungtae Kim -- app_queue: Fix initial hold time queue
       statistic
   ASTERISK-25665: Duplicate logging in queue log for EXITEMPTY events
   Reported by: Ove Aursand
     * [2c43ca0ac5] Ivan Poddubny -- app_queue: Fix returning to dialplan
       when a queue is empty
     * [cfeae52c0f] Ivan Poddubny -- app_queue: Fix duplicate queue_log
       entries for EXITEMPTY and ABANDON
   ASTERISK-27065: call hangup after leaving app_queue
   Reported by: Marek Cervenka
     * [2c43ca0ac5] Ivan Poddubny -- app_queue: Fix returning to dialplan
       when a queue is empty
   ASTERISK-26399: app_queue: Agent not called when caller is parked
   Reported by: wushumasters
     * [6bfcb1acc7] Joshua Colp -- app_queue: Fix members showing as being in
       call when not.
   ASTERISK-26400: app_queue: Queue member stops being called after AMI
   "Redirect" action for queues with wrapuptime
   Reported by: Etienne Lessard
     * [6bfcb1acc7] Joshua Colp -- app_queue: Fix members showing as being in
       call when not.
     * [163e9e53dc] Sean Bright -- app_queue: Handle the caller being
       redirected out of a queue bridge
   ASTERISK-26715: app_queue: Member will not receive any new calls after
   doing a transfer if wrapuptime = greater than 0 and using Local channel
   Reported by: David Brillert
     * [6bfcb1acc7] Joshua Colp -- app_queue: Fix members showing as being in
       call when not.
   ASTERISK-26975: app_queue: Non-zero wrapup time can cause agents not to
   receive queue calls after transfer queue call
   Reported by: Lorne Gaetz
     * [6bfcb1acc7] Joshua Colp -- app_queue: Fix members showing as being in
       call when not.
   ASTERISK-26862: app_queue: Queue stops calling members with local
   interface after forwarding in previous call
   Reported by: Robert Mordec
     * [76afb9e18a] Robert Mordec -- app_queue: Member stuck as pending after
       forwarding previous call from queue
   ASTERISK-23457: SQlite3: Realtime queue loading fails after PRAGMA query
   result
   Reported by: Scott Griepentrog
     * [9b02bbfa88] Sean Bright -- res_config_sqlite3: Properly create
       missing columns when necessary
   ASTERISK-26755: app_queue: Random queues disappear on "core reload queue
   all"
   Reported by: Kirill Katsnelson
     * [be92f10a16] Kirill Katsnelson -- app_queue: Fix queues randomly
       disappearing on reload
   ASTERISK-26621: app_queue: Queue application does not ring members with
   Local interface
   Reported by: Jonas Kellens
     * [d13be4eff6] Martin Tomec -- app_queue: Ensure member is removed from
       pending when hanging up.

    Category: Applications/app_record

   ASTERISK-16777: several filename bugs in Record() application
   Reported by: klaus3000
     * [01b5913ce0] Sean Bright -- app_record: Resolve some absolute vs.
       relative filename bugs
   ASTERISK-18286: [patch] 'Silence' is truncated in Record()
   Reported by: var
     * [f99e5f4de4] Sean Bright -- app_record: Add option to prevent silence
       from being truncated

    Category: Applications/app_saynumber

   ASTERISK-26598: Saynumber is trying to get "and" from "digits/" subfolder
   Reported by: Jonathan Harris
     * [d9972423d1] Daniel Journo -- Saynumber is trying to get "and" from
       "digits/" subfolder

    Category: Applications/app_sayunixtime

   ASTERISK-25810: say.c calls for sounds in the subdir "digits" that don't
   exist (in Core). SayUnixTime or other Say... apps will fail out when they
   call these sounds.
   Reported by: Nicolas Riendeau
     * [7e9aa74daa] Rusty Newton -- say.c: Fix file locations for second,
       seconds, minute, minutes files

    Category: Applications/app_stasis

   ASTERISK-26716: ari: Channels with pre-dial handlers cannot be hung up via
   ARI
   Reported by: Tom Pawelek
     * [43f0ff4b69] Richard Mudgett -- channel.c: Fix unbalanced read queue
       deadlocking local channels.
     * [a199f94908] Richard Mudgett -- res_agi: Prevent an AGI from eating
       frames it should not. (Re-do)
     * [6bed318a66] Richard Mudgett -- Frame deferral: Revert API
       refactoring.

    Category: Applications/app_system

   ASTERISK-27103: core: ast_safe_system command injection possible.
   Reported by: Corey Farrell
     * [04ee3eb774] Corey Farrell -- AST-2017-006: Fix app_minivm application
       MinivmNotify command injection

    Category: Applications/app_voicemail

   ASTERISK-27103: core: ast_safe_system command injection possible.
   Reported by: Corey Farrell
     * [04ee3eb774] Corey Farrell -- AST-2017-006: Fix app_minivm application
       MinivmNotify command injection
   ASTERISK-21241: When using voicemail as announce only (maxmsg=0), the star
   dtmf to enter the voicemail is not honored
   Reported by: Eelco Brolman
     * [0af145de2d] Sean Bright -- app_voicemail: Honor escape digits in
       "greeting only" mode
   ASTERISK-27171: Asterisk 15.0.0-Beta1 does not compile
   Reported by: Ira Emus
     * [d066758a4c] Corey Farrell -- Fix compile error for old versions of
       GCC.
   ASTERISK-24562: app_voicemail: Cannot set fromstring on a per-mailbox
   basis
   Reported by: Mark Scholten
     * [bc6eeab822] Daniel Journo -- app_voicemail: Cannot set fromstring on
       a per-mailbox basis
   ASTERISK-25893: Function vmauthenticate accesses uninitialized memory
   Reported by: Filip Jenicek
     * [47daca8a2b] Sean Bright -- app_voicemail: vm_authenticate accesses
       uninitialized memory
   ASTERISK-26723: VoiceMailPlayMsg not playing messages via realtime
   Reported by: Ryan Rittgarn
     * [9d34df9a5e] Ryan Rittgarn -- app_voicemail: VoiceMailPlayMsg did not
       play database stored messages
   ASTERISK-26503: app_voicemail: Asterisk crashes when MailboxExists is used
   Reported by: Doug Lytle
     * [9c761b8f45] Joshua Colp -- app_voicemail: Clear voice mailbox in
       MailboxExists and MAILBOX_EXISTS.

    Category: Applications/app_voicemail/IMAP

   ASTERISK-24052: app_voicemail reloads result in leaked IMAP sockets.
   Reported by: Louis Jocelyn Paquet
     * [8f356192d1] Alexei Gradinari -- app_voicemail: IMAP connection
       control
     * [3b6c327c51] Alexei Gradinari -- app_voicemail: IMAP logout on
       reload/unload
     * [08be5e01e8] Alexei Gradinari -- app_voicemail: IMAP logout on MWI
       unsubscribe

    Category: Applications/app_voicemail/ODBC

   ASTERISK-27093: ODBC deadlocks when app_directory tries to play back
   non-existent voicemail greeting
   Reported by: James Terhune
     * [194625c1de] Sean Bright -- app_voicemail: Cleanup ODBC connection
       handling
   ASTERISK-26723: VoiceMailPlayMsg not playing messages via realtime
   Reported by: Ryan Rittgarn
     * [9d34df9a5e] Ryan Rittgarn -- app_voicemail: VoiceMailPlayMsg did not
       play database stored messages

    Category: Bridges/bridge_native_rtp

   ASTERISK-27257: bridge_native_rtp: half-way direct media when using early
   bridging
   Reported by: Jean Aunis - Prescom
     * [da40976987] Jean Aunis -- bridge : Fix one-way direct-media when
       early bridging with native_rtp

    Category: Bridges/bridge_simple

   ASTERISK-26973: bridge: Crash when freeing frame and snooping
   Reported by: Michel R. Vaillancourt
     * [adfb28882b] Kevin Harwell -- channel: ast_write frame wrongly freed
       after call to audiohooks

    Category: CDR/General

   ASTERISK-26818: cdr: Problem setting variables in h exten
   Reported by: Sebastian Gutierrez
     * [e196190f11] Sebastian Gutierrez -- cdr: Allow setting of user field
       from 'h' extension

    Category: CDR/cdr_adaptive_odbc

   ASTERISK-26818: cdr: Problem setting variables in h exten
   Reported by: Sebastian Gutierrez
     * [e196190f11] Sebastian Gutierrez -- cdr: Allow setting of user field
       from 'h' extension

    Category: CDR/cdr_custom

   ASTERISK-27165: CDR: CDR(start,u) function won't work in cdr_custom config
   Reported by: Jacek Konieczny
     * [2aefc6e5fe] Jacek Konieczny -- func_cdr: honour 'u' flag on dummy
       channel

    Category: CEL/cel_odbc

   ASTERISK-25032: [patch]cel_odbc sometimes inserts CEL with wrong eventtime
   Reported by: Etienne Lessard
     * [d6325373ac] George Joseph -- cel_odbc: Fix timestamp processing for
       microseconds

    Category: CEL/cel_pgsql

   ASTERISK-26896: Overflow of buffer to PQEscapeStringConn with large
   app_args causes ABRT
   Reported by: twisted
     * [754e99d517] Sean Bright -- cdr_pgsql: Fix buffer overflow calling
       libpq
     * [bb68f57a03] Josh Roberson -- cel_pgsql.c: Fix buffer overflow calling
       libpq

    Category: Channels/General

   ASTERISK-27289: A codeblock that maintains a bug,but maybe the codeblock
   will never run
   Reported by: Huangyx
     * [8d2c3effc2] Richard Mudgett -- channel.c: Fix invalid reference in
       conditionaled out code.

    Category: Channels/chan_dahdi

   ASTERISK-27103: core: ast_safe_system command injection possible.
   Reported by: Corey Farrell
     * [04ee3eb774] Corey Farrell -- AST-2017-006: Fix app_minivm application
       MinivmNotify command injection
   ASTERISK-25494: build: GCC 5.1.x catches some new const, array bounds and
   missing paren issues
   Reported by: George Joseph
     * [4b285d226d] Richard Mudgett -- chan_dahdi.c: Fix bounds check
       regression.

    Category: Channels/chan_iax2

   ASTERISK-27122: chan_iax2: On reload MWI taskprocessors keep adding up
   Reported by: Sergej Kasumovic
     * [cdd6ca488a] Sergej Kasumovic -- chan_iax2: On reload make sure to
       check for existing MWI subscription
   ASTERISK-26865: chan_iax2: Reload of iax peer results in loss of host
   address/port
   Reported by: Richard Begg
     * [5389666d6f] Richard Begg -- chan_iax2: Reload of iax peer results in
       loss of host address/port

    Category: Channels/chan_pjsip

   ASTERISK-27248: [patch]external_media_address and
   external_signaling_address don't always honor localnet
   Reported by: Walter Doekes
     * [babb617f20] Walter Doekes -- res/res_pjsip: Fix localnet checks in
       pjsip, part 2.
     * [45744fc53d] Walter Doekes -- res/res_pjsip: Standardize/fix localnet
       checks across pjsip.
   ASTERISK-27236: Segfault ast_channel_name (chan=0x0) at
   channel_internal_api.c:478 during T.38 Fax Receive
   Reported by: Ross Beer
     * [786c4791f9] George Joseph -- res_pjsip_t38: Make
       t38_reinvite_response_cb tolerant of NULL channel
   ASTERISK-27095: chan_pjsip: When connected_line_method is set to invite,
   we're not trying UPDATE
   Reported by: George Joseph
     * [6bd7c0f37c] George Joseph -- chan_pjsip: Fix ability to send UPDATE
       on COLP
   ASTERISK-27039: chan_pjsip: Device state is idle when channel from
   endpoint is in early media
   Reported by: Joshua Colp
     * [1f10c6b3b0] Joshua Colp -- chan_pjsip: Update device state when in
       early media.
   ASTERISK-26996: chan_pjsip: Flipping between codecs
   Reported by: Michael Maier
     * [996a4791ff] Joshua Colp -- pjsip: Extend 'asymmetric_rtp_codec'
       option to include us changing.
   ASTERISK-26281: chan_pjsip would send INVITE to 'Unreachable' endpoints
   Reported by: Jacek Konieczny
     * [746c2c5745] Joshua Colp -- res_pjsip: Add support for returning only
       reachable contacts and use it.
   ASTERISK-26857: chan_pjsip: Dialplan function race condition
   Reported by: Joshua Colp
     * [c8d1b915d7] Joshua Colp -- chan_pjsip: Don't assume a session will
       have a channel.
   ASTERISK-26822: pjsip/cli_commands: pjsip show channelstats shows wrong
   codec
   Reported by: Kevin Harwell
     * [67c989ce78] Daniel Journo -- pjsip/cli_commands: pjsip show
       channelstats shows wrong codec
   ASTERISK-26248: chan_pjsip: Error when calling PJSIP client with domain
   specified
   Reported by: Norbert Varga
     * [17030100ca] Norbert Varga -- chan_pjsip: Multidomain endpoint finding
       on call
   ASTERISK-26673: chan_pjsip: Crash when using CHANNEL dialplan function
   around masquerade
   Reported by: Joshua Colp
     * [34e728cfb9] Joshua Colp -- chan_pjsip: Use session for retrieving
       CHANNEL() information.
   ASTERISK-26603: [patch] chan_pjsip: not switching sending codec to
   receiving codec when asymmetric_rtp_codec=no
   Reported by: Alexei Gradinari
     * [cf6d13180e] Alexei Gradinari -- chan_pjsip: fix switching sending
       codec when asymmetric_rtp_codec=no

    Category: Channels/chan_rtp

   ASTERISK-26672: Crash when setting remote address on RTP instance
   Reported by: Richard Mudgett
     * [a9e459f8ac] Richard Mudgett -- res_rtp_asterisk.c: Fix uninitialized
       memory crash.
     * [bcdd282ada] Richard Mudgett -- res_rtp_asterisk.c: Initialize ourip
       passed to ast_find_ourip().
     * [ac31233dbe] Richard Mudgett -- acl.c: Improve ast_ouraddrfor()
       diagnostic messages.
     * [0aa5db4b38] Richard Mudgett -- chan_rtp.c: Fix uninitialized memory
       crash.

    Category: Channels/chan_sip/CodecHandling

   ASTERISK-26691: Remember SDP negotiation on SIP_CODEC_INBOUND.
   Reported by: Alexander Traud
     * [367128e70b] Alexander Traud -- chan_sip: Remember SDP negotiation on
       SIP_CODEC_INBOUND.

    Category: Channels/chan_sip/General

   ASTERISK-26922: chan_sip: tcpbind uses wrong source address
   Reported by: Ksenia
     * [209916981a] Alexander Traud -- tcptls: Do not re-bind to wildcard on
       client creation.
     * [23db04ed93] Thierry Magnien -- channels/chan_sip.c: use binding IP
       address for outgoing TCP SIP connections
   ASTERISK-27106: [patch] autodomain (SIP Domain Support): Add only really
   different domain with TLS.
   Reported by: Alexander Traud
     * [39d2ebbf56] Alexander Traud -- chan_sip: Only when different, add
       TCP|TLS in autodomain (SIP Domain Support).
     * [9f4b3b966e] Alexander Traud -- chan_sip: Fix a typo for tlsbindaddr
       in autodomain (SIP Domain Support).
   ASTERISK-26982: chan_sip: rtcp_mux setting may cause ice completion
   failure/delay if client offers rtcp-mux as negotiable
   Reported by: Stefan EngstrAP:m
     * [4479038073] Sean Bright -- chan_sip: Better ICE handling for RTCP-MUX
   ASTERISK-26951: chan_sip: ACK with SDP does not update a direct media
   bridge
   Reported by: Jean Aunis - Prescom
     * [566ad7c35d] Jean Aunis -- chan_sip: Trigger reinvite if the SDP
       answer is included in the SIP ACK
   ASTERISK-26692: res_rtp_asterisk: Crash in dtls_srtp_handle_timeout at
   res_rtp_asterisk (using chan_sip)
   Reported by: Sebastian Gutierrez
     * [55f452884f] Richard Mudgett -- res_rtp_asterisk.c: Fix crash in RTCP
       DTLS operation.
   ASTERISK-26897: chan_sip: Security vulnerability with client code header
   Reported by: Alex VillacAs Lasso
     * [68bde0f07d] Corey Farrell -- CDR: Protect from data overflow in
       ast_cdr_setuserfield.
   ASTERISK-26841: chan_sip: Call not cancelled after receiving a 422
   response
   Reported by: Jean Aunis - Prescom
     * [d3ef833b3b] Jean Aunis -- chan_sip: Call not cancelled after
       receiving a 422 response
   ASTERISK-26313: chan_sip : Asterisk restart seems to be required for
   changing encryption option
   Reported by: benasse
     * [d91f61f0b5] Vitezslav Novy -- chan_sip: Allow DTLS to be disabled
       when reloading.
   ASTERISK-25494: build: GCC 5.1.x catches some new const, array bounds and
   missing paren issues
   Reported by: George Joseph
     * [4b285d226d] Richard Mudgett -- chan_dahdi.c: Fix bounds check
       regression.
   ASTERISK-26523: chan_sip: Asterisk 13.12.1 disconnects incoming calls
   after 2 minutes - rtptimeout behaving badly - regression
   Reported by: Michael Keuter
     * [a3614d75f6] Kevin Harwell -- Revert "chan_sip: Fix lastrtprx always
       updated"

    Category: Channels/chan_sip/Interoperability

   ASTERISK-17540: SDP origin attribute modified when issuing re-INVITE
   because of directmedia=yes
   Reported by: saghul
     * [597d1f8951] Vitezslav Novy -- chan_sip: Do not change IP address in
       SDP origin line (o=) in SIP reINVITE
   ASTERISK-21721: SIP Failed to parse multiple Supported: headers
   Reported by: Olle Johansson
     * [94bd529f9e] Alexander Traud -- chan_sip: Session Timers required but
       refused wrongly.
   ASTERISK-26915: chan_sip: Session Timers required but refused wrongly.
   Reported by: Alexander Traud
     * [94bd529f9e] Alexander Traud -- chan_sip: Session Timers required but
       refused wrongly.
   ASTERISK-26433: chan_sip: Allows To-tag checks to be bypassed, setting up
   new calls
   Reported by: Walter Doekes
     * [41c6319c4e] Walter Doekes -- chan_sip: Do not allow non-SP/HTAB
       between header key and colon.

    Category: Channels/chan_sip/SRTP

   ASTERISK-16898: SRTP unprotect: authentication failure when RTP sequence
   number switches from 65535 -> 0
   Reported by: Marcello Ceschia
     * [99a08eb7ab] Alexander Traud -- res_srtp: lower log level of auth
       failures
   ASTERISK-25101: DTLS configuration can not be specified in the general
   section - documentation
   Reported by: Ben Langfeld
     * [971a401ce9] Sean Bright -- sip.conf.sample: Clarify where DTLS
       settings are permitted
   ASTERISK-25490: [patch]SDP crypto tag is validated incorrectly
   Reported by: Joerg Sonnenberger
     * [ef19db9261] Alexander Traud -- srtp: Allow zero as tag value for a
       sRTP Crypto Suite.

    Category: Channels/chan_sip/Subscriptions

   ASTERISK-27217: chan_sip: Asterisk crashing when subscription doesn't get
   set
   Reported by: Bryan Walters
     * [c0d4f1880e] Scott Griepentrog -- chan_sip: when getting sip pvt
       return failure if not found

    Category: Channels/chan_sip/TCP-TLS

   ASTERISK-27324: [patch] Dual-Stack server cannot be used as IPv4 client
   via TCP/TLS
   Reported by: Alexander Traud
     * [209916981a] Alexander Traud -- tcptls: Do not re-bind to wildcard on
       client creation.
   ASTERISK-26586: chan_sip: Segfaults upon reload if client with MWI wasn't
   registered
   Reported by: Michael Kuron
     * [493849dcd7] Corey Farrell -- chan_sip: Reorder unload_module to deal
       with stuck TCP threads.
     * [0cc8351484] Michael Kuron -- chan_sip: Fix segfault during module
       unload
   ASTERISK-26604: chan_sip: sip reload doesn't apply changes to tlscertfile,
   tlsciphers, etc.
   Reported by: Michael Kuron
     * [8e77d6f520] Michael Kuron -- tcptls: Use new certificate upon sip
       reload

    Category: Channels/chan_sip/WebSocket

   ASTERISK-24330: Requirement for 'wss' value in Contact header transport
   parameter on inbound traffic violates RFC7118
   Reported by: Marek Cervenka
     * [09c36a6535] Matt Jordan -- res_pjsip/chan_sip: Advertise 'ws' in the
       SIP URI transport parameter

    Category: Channels/chan_skinny

   ASTERISK-27452: Security: chan_skinny: Memory exhaustion if flooded with
   unauthenticated requests
   Reported by: George Joseph
     * [b205f05585] George Joseph -- AST-2017-013: chan_skinny: Call
       pthread_detach when sess threads end
   ASTERISK-26940: Asterisk Skinny memory exhaustion vulnerability leads to
   DoS
   Reported by: Sandro Gauci
     * [1cc18d4025] George Joseph -- AST-2017-004: chan_skinny: Add EOF check
       in skinny_session
   ASTERISK-25494: build: GCC 5.1.x catches some new const, array bounds and
   missing paren issues
   Reported by: George Joseph
     * [4b285d226d] Richard Mudgett -- chan_dahdi.c: Fix bounds check
       regression.

    Category: Channels/chan_unistim

   ASTERISK-26714: Phone default have not ringing on ARM
   Reported by: Igor Goncharovsky
     * [7aa731c1c7] Igor Goncharovsky -- chan_unistim: fix char type to have
       consistent behavior on ARM

    Category: Codecs/General

   ASTERISK-24858: [patch]Asterisk 13 PJSIP sends RTP packets in wrong byte
   order on Intel platform when using slin codec
   Reported by: Frankie Chin
     * [70e5887906] Sean Bright -- format: Reintroduce smoother flags
     * [339c30f2b6] Sean Bright -- res_rtp_asterisk: Swap byte-order when
       sending signed linear
   ASTERISK-26812: [patch] Fix download_externals To Allow The Use Of curl Or
   wget
   Reported by: Michael L. Young
     * [1ec796ce18] Michael L. Young -- build_tools: Fix download_externals
       to allow the use of curl or wget

    Category: Codecs/codec_g722

   ASTERISK-27232: When in queue on g722 with interruptions, music on hold
   can get stuck and no longer play
   Reported by: Jens T.
     * [3f7d0b63fc] Sean Bright -- formats: Restore previous fread() behavior

    Category: Codecs/codec_opus

   ASTERISK-27202: If wget is not installed and "or" is not available,
   external components (excluding pjsip) are not installed
   Reported by: SeA!n C. McCord
     * [572b5307e0] George Joseph -- Fix downloader not working with curl

    Category: Codecs/codec_siren7

   ASTERISK-27202: If wget is not installed and "or" is not available,
   external components (excluding pjsip) are not installed
   Reported by: SeA!n C. McCord
     * [572b5307e0] George Joseph -- Fix downloader not working with curl

    Category: Configs/Samples

   ASTERISK-26785: configs/samples: The 'identify' entry is in the wrong
   section in sorcery.conf.sample
   Reported by: Torrey Searle
     * [c7fcc4468f] George Joseph -- configs/samples: Fix placement of
       'identify' entry in sorcery.conf

    Category: Core/Bridging

   ASTERISK-27075: bridge: stuck channel(s) after failed attended transfer
   Reported by: Kevin Harwell
     * [67664fbf95] Kevin Harwell -- bridge: stuck channel(s) after failed
       attended transfer
   ASTERISK-27016: Crash occurs when a channel in a 'mixing,dtmf_events'
   bridge is muted multiple times.
   Reported by: Chris Howard
     * [4910a3bf40] Joshua Colp -- channel: Fix reference counting in
       ast_channel_suppress.
   ASTERISK-26923: bridging: T.38 request is lost when channels are added to
   bridge
   Reported by: Torrey Searle
     * [e414833f6e] Joshua Colp -- bridge: Add a deferred queue.
     * [3e7c396a51] Torrey Searle -- bridging: Ensure successful T.38
       negotation
   ASTERISK-24529: Using AMI Action Bridge to on an already bridged channel
   causes the incorrect return priority to be used
   Reported by: Corey Farrell
     * [7ffd80cc04] Joshua Colp -- bridge: Fix returning to dialplan when
       executing Bridge() from AMI.
   ASTERISK-26880: Asterisk crashes when multiple speex users join confbridge
   with pp_vad and dtx enabled
   Reported by: Kirsty Tyerman
     * [7f34c11b6a] Sean Bright -- bridge_softmix: Ignore non-voice frames
       from translator

    Category: Core/BuildSystem

   ASTERISK-27156: Asterisk won't compile on Fedora 26 with devmode enabled.
   Reported by: Corey Farrell
     * [0f49e6ee2e] Corey Farrell -- Fix compiler warnings on Fedora 26 / GCC
       7.
   ASTERISK-26705: libasteriskssl.so not found when asterisk is installed for
   the 1st time
   Reported by: George Joseph
     * [7954b39a50] Walter Doekes -- build: Fix deb build issues with
       fakeroot
     * [3d2c119778] George Joseph -- build: Warn if asterisk is installed in
       both 32 and 64 bit sys dirs
     * [bee55aaf2c] George Joseph -- build: Execute ldconfig to build cache.
       (take two)
     * [d90430953c] Joshua Colp -- build: Execute ldconfig to build cache.
     * [e910dbab90] Joshua Colp -- build: Execute ldconfig to build cache.
   ASTERISK-26872: Bundled pjproject fails to build when tarball downloaded
   with curl due to md5 verification failure in Docker containers (or when
   there is no terminal)
   Reported by: Matt Jordan
     * [658d59c683] Matt Jordan -- configure: Don't use the progress bar with
       curl when downloading to stdout
   ASTERISK-26812: [patch] Fix download_externals To Allow The Use Of curl Or
   wget
   Reported by: Michael L. Young
     * [1ec796ce18] Michael L. Young -- build_tools: Fix download_externals
       to allow the use of curl or wget
   ASTERISK-26802: [patch] Integrity Check Of PJSIP Download Fails
   Reported by: Michael L. Young
     * [047a1e7dcc] Sean Bright -- pjproject-bundled: Fix checksum
       verification when using cURL
   ASTERISK-26109: Asterisk fails building with OpenSSL 1.1.0
   Reported by: Tzafrir Cohen
     * [99b40e72ae] Tzafrir Cohen -- libasteriskssl: do nothing with OpenSSL
       >= 1.1
     * [e97e50b68b] Tzafrir Cohen -- tcptls: use TLS_client_method with
       OpenSSL 1.1
     * [0d555f0d81] Tzafrir Cohen -- openssl 1.1 support: use
       OPENSSL_VERSION_NUMBER
     * [b0c9f07f04] Tzafrir Cohen -- OpenSSL 1.1.0 support
   ASTERISK-26546: mips64el and x32 - undefined reference to symbol
   'dlopen@@GLIBC_2.2'
   Reported by: Tzafrir Cohen
     * [bfb8c962c4] Tzafrir Cohen -- autoconf: more variants for OSARCH
       linux-gnu

    Category: Core/Channels

   ASTERISK-27100: channel: ast_waitfordigit_full fails to clear flag in an
   error branch.
   Reported by: Corey Farrell
     * [73520e9f58] Corey Farrell -- channel: Clear channel flag in error
       branch.
   ASTERISK-27074: core_local: local channel data not being properly unref'ed
   and unlocked
   Reported by: Kevin Harwell
     * [1f9913f272] Kevin Harwell -- core_local: local channel data not being
       properly unref'ed and unlocked
   ASTERISK-26923: bridging: T.38 request is lost when channels are added to
   bridge
   Reported by: Torrey Searle
     * [e414833f6e] Joshua Colp -- bridge: Add a deferred queue.
     * [3e7c396a51] Torrey Searle -- bridging: Ensure successful T.38
       negotation
   ASTERISK-27025: channel / meetme: Fix missing parentheses
   Reported by: Joshua Colp
     * [dc05183f4b] Joshua Colp -- channel / app_meetme: Fix parentheses.

    Category: Core/Configuration

   ASTERISK-27318: res_pjsip_mwi: uninitialized value from ast_strings_match
   Reported by: Corey Farrell
     * [462dd7c2de] Corey Farrell -- main/strings: Fix uninitialized value.

    Category: Core/DNS

   ASTERISK-26772: Crash in srv.c on startup with pjsip
   Reported by: nappsoft
     * [7e14e086cf] Joshua Colp -- srv: Fix crash when ast_srv_lookup is used
       and 0 records are returned.

    Category: Core/General

   ASTERISK-27317: vector: multiple evaluation of elem in
   AST_VECTOR_ADD_SORTED.
   Reported by: Corey Farrell
     * [8bf4be1048] Corey Farrell -- vector: multiple evaluation of elem in
       AST_VECTOR_ADD_SORTED.
   ASTERISK-26606: tcptls: Incorrect OpenSSL function call leads to
   misleading error report
   Reported by: Bob Ham
     * [cfc0ca1fb5] Alexander Traud -- tcptls: Fixed a white space error.
     * [6fba0a41f0] Joshua Colp -- tcptls: Improve error messages for TLS
       connections.
   ASTERISK-27103: core: ast_safe_system command injection possible.
   Reported by: Corey Farrell
     * [04ee3eb774] Corey Farrell -- AST-2017-006: Fix app_minivm application
       MinivmNotify command injection
   ASTERISK-26745: Asymmetric codecs when asymmetric_rtp_codec=no
   Reported by: Jesse Ross
     * [c4f201cd73] Torrey Searle -- res_rtp_asterisk: Make P2P bridge
       Asymmetric codec aware
   ASTERISK-27105: [patch]core: when setting 'maxfiles' in asterisk.conf, a
   message is printed, even in rasterisk -x
   Reported by: Tzafrir Cohen
     * [4f2f3bfebf] Tzafrir Cohen -- Avoid setting maxfiles for a remote
       asterisk
   ASTERISK-26789: Audit manipulation of channel flags without locks
   Reported by: Joshua Colp
     * [1618203964] Joshua Colp -- asterisk: Audit locking of channel when
       manipulating flags.
   ASTERISK-26903: Listening TCP/TLS sockets stop when temporarily out of
   open files
   Reported by: Walter Doekes
     * [bb8cd2add7] Richard Mudgett -- tcptls.c: Cleanup TCP/TLS listener
       thread on abnormal exit.
   ASTERISK-26528: [UBSAN] strings.h:signed integer overflow in
   ast_str_case_hash
   Reported by: Badalian Vyacheslav
     * [d8967ff2c0] Torrey Searle -- strings.h: Avoid overflows in the string
       hash functions
   ASTERISK-26788: core: Protect flags during ast_waitfor
   Reported by: Joshua Colp
     * [18f1b52601] Joshua Colp -- channel: Protect flags in
       ast_waitfor_nandfds operation.
   ASTERISK-26632: core: Possibility of a frame "imbalance" leading to stuck
   channels.
   Reported by: Mark Michelson
     * [43f0ff4b69] Richard Mudgett -- channel.c: Fix unbalanced read queue
       deadlocking local channels.
   ASTERISK-26753: AMI disconnect causes "ast_careful_fwrite: fwrite()
   returned error: Broken pipe"
   Reported by: Kirill Katsnelson
     * [555e8cd2ba] Kirill Katsnelson -- ast_careful_fwrite to support EPIPE
       gracefully
   ASTERISK-25083: Message.c: Message channel becomes saturated with frames
   leading to spammy log messages
   Reported by: Jonathan Rose
     * [75a6afbec5] Richard Mudgett -- MESSAGE: Flush Message/ast_msg_queue
       channel alert pipe.

    Category: Core/HTTP

   ASTERISK-26794: http: Crash on Reload Only in ast_tcptls_server_start
   Reported by: Joshua Elson
     * [0fc27fa364] Joshua Elson -- http: Ensure capath is defined on all
       http creations

    Category: Core/PBX

   ASTERISK-27041: Core/PBX: [patch] Deadlock between dialplan execution and
   application unregistration
   Reported by: Frederic LE FOLL
     * [dc307af7f2] Frederic LE FOLL -- Core/PBX: Deadlock between dialplan
       execution and application unregistration.
   ASTERISK-26115: pbx: AMI Originate ignore "failed" extension on call
   failure
   Reported by: Nasir Iqbal
     * [8936568515] Sean Bright -- manager: Restore Originate failure
       behavior from Asterisk 11

    Category: Core/RTP

   ASTERISK-27225: Crash when freeing dtls_cfg->cafile
   Reported by: Richard Kenner
     * [55f30c29fd] Sean Bright -- rtp_engine: Prevent possible double free
       with DTLS config
   ASTERISK-26978: rtp: Crash in ast_rtp_codecs_payload_code()
   Reported by: Ross Beer
     * [eb48e99bd4] George Joseph -- bridge_native_rtp: Keep rtp instance
       refs on bridge_channel
   ASTERISK-24858: [patch]Asterisk 13 PJSIP sends RTP packets in wrong byte
   order on Intel platform when using slin codec
   Reported by: Frankie Chin
     * [70e5887906] Sean Bright -- format: Reintroduce smoother flags
     * [339c30f2b6] Sean Bright -- res_rtp_asterisk: Swap byte-order when
       sending signed linear

    Category: Core/Sorcery

   ASTERISK-27057: Seg Fault in ast_sorcery_object_get_id at sorcery.c
   Reported by: Ryan Smith
     * [c2eea791e4] George Joseph -- res_pjsip_pubsub: Fix reference to
       released endpoint

    Category: Core/Stasis

   ASTERISK-25237: stasis_cache.c:845 caching_topic_exec: - misleading ERROR
   message
   Reported by: Smirnov Aleksey
     * [216e28aa95] Matt Jordan -- main/stasis_cache: Demote the ERROR
       message when removing a nonexistent item

    Category: Documentation

   ASTERISK-27430: README refers to security documents that do not exist.
   Reported by: Corey Farrell
     * [9571a75842] George Joseph -- README: Remove outdated references to
       tex docs
   ASTERISK-25523: res_calendar: Warning about invalid channel value (for
   notification) occurs even when event has no notification configured.
   Reported by: Jesper
     * [db785ddb92] Sean Bright -- res_calendar: Various fixes
   ASTERISK-23839: AGI - RECORD FILE - documentation doesn't describe BEEP
   argument
   Reported by: Rusty Newton
     * [3eb7fbba72] Sean Bright -- res_agi: Clarify 'RECORD FILE'
       documentation
   ASTERISK-26086: res_musiconhold: format option is not documented
   adequately
   Reported by: Jens BA 1/4rger
     * [2c28f7a922] Sean Bright -- res_musiconhold: Document the 'format'
       option
   ASTERISK-26484: res_pjsip_messaging: Crash when using invalid URI in
   MessageSend 'from' argument.
   Reported by: Vinod Dharashive
     * [b3cc20799b] Sean Bright -- res_pjsip_messaging: Check URI type before
       dereferencing
   ASTERISK-26717: Document the fact that Asterisk HEP support only works
   with the PJSIP channel driver
   Reported by: Olivier Krief
     * [51985565ef] Matt Jordan -- configs/samples/hep.conf.sample: Clarify
       how the HEP stack works
   ASTERISK-25237: stasis_cache.c:845 caching_topic_exec: - misleading ERROR
   message
   Reported by: Smirnov Aleksey
     * [216e28aa95] Matt Jordan -- main/stasis_cache: Demote the ERROR
       message when removing a nonexistent item
   ASTERISK-24562: app_voicemail: Cannot set fromstring on a per-mailbox
   basis
   Reported by: Mark Scholten
     * [bc6eeab822] Daniel Journo -- app_voicemail: Cannot set fromstring on
       a per-mailbox basis
   ASTERISK-26782: res_pjsip: URI requirement for fields is not consistently
   documented and error does not provide indication
   Reported by: Peter Sokolov
     * [d49af061bc] Joshua Colp -- config: Improve documentation and behavior
       of outbound_proxy option.
   ASTERISK-26704: res_odbc.conf contains deprecated configuration:
   'pooling', 'shared_connections', 'limit', and 'idlecheck' options were
   replaced by 'max_connections'.
   Reported by: Anthony Messina
     * [70aff89e5d] Sean Bright -- res_odbc: Remove deprecated settings from
       sample configuration file

    Category: Features

   ASTERISK-26781: bridge: Passing the 'p' (play tone) flag to Bridge()
   application results in garbled audio
   Reported by: Sean Bright
     * [eac818801b] Joshua Colp -- bridge_native_rtp: Handle case where
       channel joins already suspended.

    Category: Formats/format_ogg_vorbis

   ASTERISK-26169: format_ogg_vorbis: Memory leak using OGG in MixMonitor
   Reported by: Ivan Myalkin
     * [90c630aaa1] Sean Bright -- format_ogg_vorbis: Clear ogg/vorbis data
       structures on close

    Category: Formats/format_pcm

   ASTERISK-20984: Audible clicks when playing sox encoded au file with
   STREAM FILE AGI command
   Reported by: Roman S.
     * [ac15ebc379] Sean Bright -- format_pcm: Track actual header size of
       .au files

    Category: Formats/format_wav

   ASTERISK-26613: format_wav: wav16 format read file only by 320 - half of
   frame
   Reported by: Vitaly K
     * [9bbfa6fda1] Sean Bright -- format_wav: Read 16khz wav samples
       properly

    Category: Functions/func_cdr

   ASTERISK-27460: CDR: Deadlock using AMI Originate with Variable
   CDR(amaflags)=...
   Reported by: Richard Mudgett
     * [8640e5d819] Richard Mudgett -- CDR: Fix deadlock setting some CDR
       values.
   ASTERISK-26173: func_cdr: CDR function does not permit empty values to be
   assigned
   Reported by: gkloepfer
     * [c3ed63cb2c] Joshua Colp -- func_cdr: Allow empty value for CDR
       dialplan function.

    Category: Functions/func_devstate

   ASTERISK-26643: Extra new line in Device field of DeviceStateChange AMI
   Event after restart of Asterisk
   Reported by: Roman Bedros
     * [f9b791debe] Matt Jordan -- funcs/func_devstate: Remove new line in
       Device field of during module load

    Category: Functions/func_shell

   ASTERISK-27103: core: ast_safe_system command injection possible.
   Reported by: Corey Farrell
     * [04ee3eb774] Corey Farrell -- AST-2017-006: Fix app_minivm application
       MinivmNotify command injection

    Category: Functions/func_speex

   ASTERISK-26926: func_speex: Crash caused by frame with no datalen
   Reported by: Richard Kenner
     * [ae696132a2] Joshua Colp -- frame: Better handle interpolated frames.

    Category: General

   ASTERISK-27382: crash after an invalid rtcp packet from GT48 FXS gateway
   Reported by: Tzafrir Cohen
     * [10b3d4cea8] Joshua Colp -- AST-2017-012: Place single RTCP report
       block at beginning of report.
   ASTERISK-27467: pjsip_options: qualify_frequency sometimes not applied on
   reload
   Reported by: John Bigelow
     * [733231905f] Kevin Harwell -- pjsip_options: contacts sometimes not
       being updated on reload
     * [3585b56792] Kevin Harwell -- pjsip_options: dynamic contact's fields
       not updated on reload
   ASTERISK-27337: chan_sip: Security vulnerability with client code header
   (revisited)
   Reported by: Richard Mudgett
     * [be9ec689cf] Richard Mudgett -- AST-2017-010: Fix
       cdr_object_update_party_b_userfield_cb() buf overrun
   ASTERISK-27319: (Security) Function in PJSIP 2.7 miscalculates the length
   of an unsigned long variable in 64bit machines
   Reported by: Kim youngsung
     * [0e1a4d8c84] George Joseph -- AST-2017-009: pjproject: Add validation
       of numeric header values
   ASTERISK-27305: res_ari: Memory leaks in ARI when using Content-Type:
   application/json
   Reported by: David Hajek
     * [39b68a41f7] David Hajek -- res/res_ari.c Fix: Memory leaks in ARI
       when using Content-Type: application/json
   ASTERISK-27295: Contact is improperly translated after d178f497
   Reported by: Sean Bright
     * [d70d7b2f5d] George Joseph -- pjsip_message_filter: Fix regression
       causing bad contact address
   ASTERISK-27177: ooh323c: misleading indentation in
   addons/ooh323c/src/ooSocket.c
   Reported by: Tzafrir Cohen
     * [f36db2dbdc] Sean Bright -- chan_ooh323: Fix confusing indentation
       warning
   ASTERISK-27152: Sending a "tel" uri in a From or To header in an
   unauthenticated message causes asterisk to crash
   Reported by: Ross Beer
     * [990b017668] George Joseph -- pjsip_message_ip_updater: Fix issue
       handling "tel" URIs
   ASTERISK-27108: Crash using 'data get' CLI command
   Reported by: Sean Bright
     * [6258de458b] Sean Bright -- core: Fix segfault when invoking 'data
       get' CLI command
   ASTERISK-27088: res_rtp_asterisk: Better handle ICE renegotiation and
   unidirectional negotiation
   Reported by: Joshua Colp
     * [0426b1d88a] Joshua Colp -- res_rtp_asterisk: Fix issues with ICE
       renegotiation.
   ASTERISK-27060: Comment typo format_g729.c
   Reported by: Matthew Fredrickson
     * [0a40073750] Matthew Fredrickson -- formats/format_g729: Fix typo in
       comment
   ASTERISK-26983: Crash in Manager Reload when TLS Config Changes
   Reported by: Joshua Elson
     * [8ec6e19c86] Joshua Elson -- Prevent Undefined Capath Crash
   ASTERISK-26860: Upon RTCP reception, netsock2.c:210
   ast_sockaddr_split_hostport: Port missing in (null)
   Reported by: Evers Lab
     * [bbe90d6aed] Kevin Harwell -- res_rtp_asterisk: Clearing the remote
       RTCP address causes RTCP failures
   ASTERISK-26668: core: Malformed pattern matching extension (various
   factors) results in crash
   Reported by: xrobau
     * [9fd9b39e8b] Richard Mudgett -- pbx.c: Fix crash from malformed exten
       pattern.
   ASTERISK-26825: pjsip.conf.sample: user_agent: still refers to branch 12
   Reported by: Tzafrir Cohen
     * [5b34b751a0] Tzafrir Cohen -- pjsip.conf.sample: user_agent: not a
       specific version
   ASTERISK-26754: build_tools: make_build_h does not handle \ in user name
   Reported by: Kirill Katsnelson
     * [3c8f84786e] Kirill Katsnelson -- make_build_h: handle backslashes in
       external strings
   ASTERISK-26546: mips64el and x32 - undefined reference to symbol
   'dlopen@@GLIBC_2.2'
   Reported by: Tzafrir Cohen
     * [bfb8c962c4] Tzafrir Cohen -- autoconf: more variants for OSARCH
       linux-gnu

    Category: PBX/pbx_dundi

   ASTERISK-18731: [patch] DUNDi weight parameter not processed correctly
   Reported by: Peter Racz
     * [0654bf637c] Sean Bright -- pbx_dundi: DUNDi weight parameter not
       processed correctly

    Category: PBX/pbx_realtime

   ASTERISK-19291: Background in realtime
   Reported by: Andrew Nowrot
     * [283cc59af7] Sean Bright -- pbx_builtin: Properly handle hangup during
       Background

    Category: PBX/pbx_spool

   ASTERISK-17067: Long lines in call files cause spurious syntax error
   Reported by: Dave Olszewski
     * [77901a58ca] Sean Bright -- pbx_spool: Gracefully handle long lines in
       call files

    Category: Resources/General

   ASTERISK-21399: RTP Multicast of L16 (type 10): Asterisk and wireshark
   disagree
   Reported by: Tzafrir Cohen
     * [0688f61a01] Sean Bright -- chan_rtp: Use I 1/4-law by default instead
       of signed linear

    Category: Resources/res_agi

   ASTERISK-23839: AGI - RECORD FILE - documentation doesn't describe BEEP
   argument
   Reported by: Rusty Newton
     * [3eb7fbba72] Sean Bright -- res_agi: Clarify 'RECORD FILE'
       documentation
   ASTERISK-22432: Async AGI crashes Asterisk when issuing "set variable"
   command without args
   Reported by: Antoine Pitrou
     * [f306e451f6] Sean Bright -- res_agi: Prevent crash when SET VARIABLE
       called without arguments
   ASTERISK-25662: Malformed AGI 520 Usage response
   Reported by: Tony Mountifield
     * [a007e438c3] Sean Bright -- res_agi: Fix malformed AGI usage response
   ASTERISK-25951: res_agi: run_agi eats frames it shouldn't
   Reported by: George Joseph
     * [a199f94908] Richard Mudgett -- res_agi: Prevent an AGI from eating
       frames it should not. (Re-do)
   ASTERISK-26343: ASTERISK-25951 causes issues for callerid manipulation
   through agi
   Reported by: Morten Tryfoss
     * [a199f94908] Richard Mudgett -- res_agi: Prevent an AGI from eating
       frames it should not. (Re-do)
     * [6bed318a66] Richard Mudgett -- Frame deferral: Revert API
       refactoring.

    Category: Resources/res_ari

   ASTERISK-27372: ARI: Node ARI client broken in latest versions of 13 and
   14
   Reported by: Benjamin Keith Ford
     * [72bf65f44f] Ben Ford -- http.c: Fix http header send content.
   ASTERISK-27026: res_ari: Crash when no ari.conf configuration file exists
   Reported by: Ronald Raikes
     * [7901b9853e] George Joseph -- res_ari: Add "module loaded" check to
       ari stubs

    Category: Resources/res_ari_recordings

   ASTERISK-27021: GET /recordings/stored returns 500 Internal Server Error
   Reported by: Tim Morgan
     * [cf6cf59646] Sean Bright -- stasis_recording: Correct ast_asprintf
       error checking

    Category: Resources/res_calendar

   ASTERISK-25524: module reload res_calendar.so does not reload everything
   in calendar.conf
   Reported by: Jesper
     * [5075cc8eed] Sean Bright -- res_calendar: On reload, update all
       configuration
   ASTERISK-25523: res_calendar: Warning about invalid channel value (for
   notification) occurs even when event has no notification configured.
   Reported by: Jesper
     * [db785ddb92] Sean Bright -- res_calendar: Various fixes

    Category: Resources/res_calendar_caldav

   ASTERISK-24588: res_calendar does not process CalDAV from Owncloud [fix
   included]
   Reported by: Stefan Gofferje
     * [db785ddb92] Sean Bright -- res_calendar: Various fixes

    Category: Resources/res_calendar_icalendar

   ASTERISK-27296: [patch] False positive busy checks when icalendar's
   recurrence-id mechanism is involved
   Reported by: BenoA(R)t Dereck-Tricot
     * [29c442b587] BenoA(R)t Dereck-Tricot -- res_calendar_icalendar: Filter
       out occurrences superceded by another VEVENT
   ASTERISK-27174: res_calendar_icalendar: Recurring events not being loaded
   from Google calendar using ical
   Reported by: Mark Thompson
     * [a6251ec373] Sean Bright -- res_calendar_icalendar: Properly handle
       recurring events

    Category: Resources/res_config_ldap

   ASTERISK-26580: [patch] Error during LDAP modify action when user
   unregisters
   Reported by: Nicholas John Koch
     * [6d5e9993b2] Sean Bright -- res_config_ldap: Fix erroneous
       LDAP_MOD_REPLACE in LDAP modify

    Category: Resources/res_config_pgsql

   ASTERISK-27283: Realtime config fail with PostgreSQL version before 9.1
   Reported by: Rodrigo Ramirez Norambuena
     * [c98e980fff] Rodrigo RamArez Norambuena -- res_config_pgsql: Fix
       removed support to previous for versions PostgreSQL 9.1
   ASTERISK-25628: res_config_pgsql: should match the behavior of other
   drivers so that queue_log can disable adaptive logging
   Reported by: Dmitry Wagin
     * [76971d4c4a] Sean Bright -- res_config_pgsql: Make 'require' return
       consistent with other backends
   ASTERISK-15858: [patch] Fix query with double backslash in string literals
   and stop log warnings
   Reported by: Humberto Figuera
     * [2cd75fe311] Sean Bright -- realtime: Fix LIKE escaping in SQL
       backends

    Category: Resources/res_config_sqlite3

   ASTERISK-26057: res_config_sqlite3 uses incorrect query - unnecessary
   escape
   Reported by: Stepan
     * [2cd75fe311] Sean Bright -- realtime: Fix LIKE escaping in SQL
       backends
   ASTERISK-23457: SQlite3: Realtime queue loading fails after PRAGMA query
   result
   Reported by: Scott Griepentrog
     * [9b02bbfa88] Sean Bright -- res_config_sqlite3: Properly create
       missing columns when necessary

    Category: Resources/res_corosync

   ASTERISK-25370: res_corosync segfaults at startup with corosync version >
   2.x
   Reported by: mdu113
     * [005a4afa6b] Jan Friesse -- res_corosync: Change thread stack size

    Category: Resources/res_fax

   ASTERISK-27236: Segfault ast_channel_name (chan=0x0) at
   channel_internal_api.c:478 during T.38 Fax Receive
   Reported by: Ross Beer
     * [786c4791f9] George Joseph -- res_pjsip_t38: Make
       t38_reinvite_response_cb tolerant of NULL channel

    Category: Resources/res_format_attr_h264

   ASTERISK-27008: res_format_attr_h264: SDP parse fails if fmtp optional
   parameters have a space
   Reported by: John Harris
     * [700ef6861a] Sean Bright -- res_format_attr_h26x: Trim blanks in fmtp
       attributes

    Category: Resources/res_format_attr_opus

   ASTERISK-26579: codec_opus: Recursiveness when parsing fmtp line
   Reported by: JA,rgen H
     * [888142e891] Joshua Colp -- res_format_attr_opus: Fix crash when fmtp
       contains spaces.

    Category: Resources/res_hep

   ASTERISK-26953: Asterisk crash if hep.conf have some missing parameters
   Reported by: Joel Vandal
     * [1b88a3a4cf] Sean Bright -- res_hep: Add additional config
       initialization and validation
   ASTERISK-26717: Document the fact that Asterisk HEP support only works
   with the PJSIP channel driver
   Reported by: Olivier Krief
     * [51985565ef] Matt Jordan -- configs/samples/hep.conf.sample: Clarify
       how the HEP stack works

    Category: Resources/res_hep_pjsip

   ASTERISK-26850: res_hep_pjsip: Asterisk insert wrong protocol name in
   "Protocol ID" field in HEP packets
   Reported by: Max Norba
     * [218f618095] Sean Bright -- res_hep: Capture actual transport type in
       use

    Category: Resources/res_http_post

   ASTERISK-27454: res_http_post: Don't require GMIME_MAJOR_VERSION
   Reported by: Joshua Colp
     * [4d4c76c189] Joshua Colp -- res_http_post: Not all versions of gmime
       have GMIME_MAJOR_VERSION.

    Category: Resources/res_http_websocket

   ASTERISK-24330: Requirement for 'wss' value in Contact header transport
   parameter on inbound traffic violates RFC7118
   Reported by: Marek Cervenka
     * [09c36a6535] Matt Jordan -- res_pjsip/chan_sip: Advertise 'ws' in the
       SIP URI transport parameter

    Category: Resources/res_monitor

   ASTERISK-27103: core: ast_safe_system command injection possible.
   Reported by: Corey Farrell
     * [04ee3eb774] Corey Farrell -- AST-2017-006: Fix app_minivm application
       MinivmNotify command injection

    Category: Resources/res_musiconhold

   ASTERISK-27232: When in queue on g722 with interruptions, music on hold
   can get stuck and no longer play
   Reported by: Jens T.
     * [3f7d0b63fc] Sean Bright -- formats: Restore previous fread() behavior
   ASTERISK-25974: Unused realtime MOH classes not purged on 'moh reload'
   Reported by: SA(c)bastien Couture
     * [70e5a2655d] Daniel Journo -- Unused realtime MOH classes not purged
       on 'moh reload'
   ASTERISK-26086: res_musiconhold: format option is not documented
   adequately
   Reported by: Jens BA 1/4rger
     * [2c28f7a922] Sean Bright -- res_musiconhold: Document the 'format'
       option
   ASTERISK-23996: No core dumps because of res_musiconhold chdir.
   Reported by: Walter Doekes
     * [61fd70c250] Sean Bright -- res_musiconhold: Don't chdir() when
       scanning MoH files

    Category: Resources/res_odbc

   ASTERISK-26704: res_odbc.conf contains deprecated configuration:
   'pooling', 'shared_connections', 'limit', and 'idlecheck' options were
   replaced by 'max_connections'.
   Reported by: Anthony Messina
     * [70aff89e5d] Sean Bright -- res_odbc: Remove deprecated settings from
       sample configuration file

    Category: Resources/res_parking

   ASTERISK-26399: app_queue: Agent not called when caller is parked
   Reported by: wushumasters
     * [6bfcb1acc7] Joshua Colp -- app_queue: Fix members showing as being in
       call when not.

    Category: Resources/res_pjsip

   ASTERISK-27345: res_pjsip_session: RTP instances leak on 488 responses.
   Reported by: Corey Farrell
     * [13508b8a16] Kevin Harwell -- AST-2017-011 - res_pjsip_session:
       session leak when a call is rejected
   ASTERISK-27387: Regression: pjsip 13.18.0 - from_user - "+" character
   isn't allowed any more
   Reported by: Michael Maier
     * [18b0be292d] Ben Ford -- res_pjsip: Add to list of valid characters
       for from_user.
   ASTERISK-27047: res_pjsip: user=phone added to Anonymous caller-id when it
   shouldn't be.
   Reported by: dtryba
     * [21d502818f] Daniel Tryba -- res_pjsip_session: Prevent user=phone
       being added to anonimized URIs.
   ASTERISK-27254: alembic: prune_on_boot fix erroneous
   Reported by: Florian Floimair
     * [2370469645] Florian Floimair -- alembic: fix erroneous commit for
       add_prune_on_boot
   ASTERISK-26879: PJSIP external_media_address ignored if no local_net
   options are provided
   Reported by: Matt Jordan
     * [45744fc53d] Walter Doekes -- res/res_pjsip: Standardize/fix localnet
       checks across pjsip.
     * [776ffd7724] Matt Jordan -- res/res_pjsip_session: Only check localnet
       if it is defined
   ASTERISK-27168: alembic: PJSIP scripts are missing column dtls_fingerprint
   in ps_endpoints table
   Reported by: Florian Floimair
     * [bf178a0f4f] Florian Floimair -- alembic: Add dtls_fingerprint column
       in ps_endpoints table
   ASTERISK-27147: Either asterisk or pjproject isn't re-using tcp
   connections (again)
   Reported by: George Joseph
     * [d08342b0cb] Richard Mudgett -- res_pjsip: Fix prune_on_boot to remove
       only contacts for the host.
     * [1cf2c79f37] Richard Mudgett -- res_pjsip_outbound_registration.c:
       Re-REGISTER on transport shutdown.
     * [07d026b4cd] Richard Mudgett -- res_pjsip: Remove ephemeral registered
       contacts on transport shutdown.
     * [ca261d4b70] Richard Mudgett -- res_pjsip: PJSIP Transport state
       monitor refactor.
   ASTERISK-27090: PJSIP: Deadlock using TCP transport
   Reported by: Richard Mudgett
     * [0d64cbde57] Richard Mudgett -- pjsip_distributor.c: Fix deadlock with
       TCP type transports.
   ASTERISK-26908: res_pjsip: The ChanIsAvail causes a res_pjsip session to
   be leaked.
   Reported by: Richard Mudgett
     * [c5b9ed20fd] George Joseph -- res_pjsip_session: Add cleanup to
       ast_sip_session_terminate
   ASTERISK-25823: SIGSEGV, Segmentation fault. - ../sysdeps/x86_64/strlen.S:
   No such file or directory.
   Reported by: Andreas KrA 1/4ger
     * [c853cfdc7c] Kevin Harwell -- res_pjsip/res_pjsip_callerid: NULL check
       on caller id name string
   ASTERISK-26928: pjsip: Add database tables for PUBLISH support
   Reported by: Joshua Colp
     * [b3f4a6365e] Joshua Colp -- pjsip: Add Alembic for PUBLISH support.
   ASTERISK-26905: pjproject_bundled: Merge 3 upstream deadlock patches into
   bundled
   Reported by: Ross Beer
     * [4e6e069491] George Joseph -- pjproject_bundled: Add 3 upstream
       patches
   ASTERISK-26916: res_pjsip: Excessive refcount reached on transport ao2
   object
   Reported by: Ross Beer
     * [27b556778d] Richard Mudgett -- res_pjsip: Fix transport ref leak.
   ASTERISK-26363: res_pjsip: Bye sent to sip trunk is not authenticated even
   after receiving a 407 error code
   Reported by: Yaacov Akiba Slama
     * [bca9685d39] Joshua Colp -- res_pjsip_session: Allow BYE to be sent on
       disconnected session.
   ASTERISK-26685: res_pjsip: Crash when using IPv6 and Transport ws,wss
   Reported by: Michael Balen
     * [2a85888262] Joshua Colp -- res_pjsip_transport_websocket: Add support
       for IPv6.
   ASTERISK-26623: res_pjsip: Crash when calling PJSIPShowEndpoint
   Reported by: JA,rgen H
     * [0595c31da7] JA,rgen H -- res_pjsip: Fix crash when contact has no
       status
   ASTERISK-26782: res_pjsip: URI requirement for fields is not consistently
   documented and error does not provide indication
   Reported by: Peter Sokolov
     * [d49af061bc] Joshua Colp -- config: Improve documentation and behavior
       of outbound_proxy option.
   ASTERISK-26799: res_pjsip: Using an auth object for inbound and outbound
   authentication fails.
   Reported by: Richard Mudgett
     * [3b606093d3] Richard Mudgett -- res_pjsip_authenticator_digest.c: Fix
       sorcery's immutable contract violation.
     * [6208962b00] Richard Mudgett -- res_pjsip: Update artificial auth
       whenever default_realm changes.
     * [9f11da85a2] Richard Mudgett -- res_pjsip: Update authentication realm
       documentation.
   ASTERISK-26738: Frequent segfaults since activation of DNS SRV, in
   pjsip_auth_clt_reinit_req at /pjsip/sip_auth_client.c, and
   pj_atomic_inc_and_get at pj/os_core_unix.c
   Reported by: Michael Maier
     * [473813311b] Richard Mudgett -- pjproject: Fixes to resolve DNS SRV
       crashes.
     * [d58fdae811] Richard Mudgett -- pjsip_distributor.c: Update some debug
       messages to get transaction name.
     * [eb9ae4f7cb] Richard Mudgett -- res_pjsip: Record the serializer
       earlier on the tdata.
     * [57f19d6efb] Richard Mudgett -- pjproject: Increase SENDER_WIDTH
       column size for 64-bit system logs.
   ASTERISK-26248: chan_pjsip: Error when calling PJSIP client with domain
   specified
   Reported by: Norbert Varga
     * [17030100ca] Norbert Varga -- chan_pjsip: Multidomain endpoint finding
       on call
   ASTERISK-26679: Crash on invalid contact domain (pjsip aor)
   Reported by: Dmitriy
     * [e371e13b9e] Joshua Colp -- res_pjsip: Handle invocation of callback
       on outgoing request when error occurs.
   ASTERISK-26699: res_pjsip: Assertion when sending OPTIONS request to
   endpoint
   Reported by: Ross Beer
     * [e371e13b9e] Joshua Colp -- res_pjsip: Handle invocation of callback
       on outgoing request when error occurs.
   ASTERISK-26743: PJPROJECT: Detecting compiled max log level does not work.
   Reported by: Richard Mudgett
     * [30cb4eb57f] Richard Mudgett -- PJPROJECT logging: Fix detection of
       max supported log level.
   ASTERISK-26684: res_pjsip: Various issues with compact SIP headers
   Reported by: Joshua Elson
     * [a398f98b08] Joshua Elson -- res_pjsip: Fix known compact header
       issues
   ASTERISK-24499: Need more explicit debug when PJSIP dialstring is invalid
   Reported by: Rusty Newton
     * [9114574188] Richard Mudgett -- res_pjsip: Add/update ERROR msg if
       invalid URI.
   ASTERISK-26490: res_pjsip: sends 481 Call/Transaction Does Not Exist when
   transaction branch parameter contains "_"
   Reported by: Juris Breicis
     * [d506874477] Richard Mudgett -- Bundled pjproject: Fix finding SIP
       transactions.

    Category: Resources/res_pjsip/Bundling

   ASTERISK-27411: pjsip: TCP connections may not be destroyed
   Reported by: Joshua Colp
     * [7e535a294e] Joshua Colp -- pjsip: Add patch to allow all transports
       to be destroyed.
   ASTERISK-27052: Asterisk build process fails with flag
   --with-pjproject-bundled with curl download command and slow network
   Reported by: alex
     * [0bde568669] George Joseph -- pjproject_bundled: Use the asterisk
       github mirror for download
   ASTERISK-26927: pjproject_bundled: Crash on pj_ssl_get_info() while
   ioqueue_on_read_complete().
   Reported by: Alexander Traud
     * [e0e5a337fd] Alexander Traud -- pjproject_bundled: Crash on
       pj_ssl_get_info() while ioqueue_on_read_complete().
   ASTERISK-26905: pjproject_bundled: Merge 3 upstream deadlock patches into
   bundled
   Reported by: Ross Beer
     * [4e6e069491] George Joseph -- pjproject_bundled: Add 3 upstream
       patches
   ASTERISK-26743: PJPROJECT: Detecting compiled max log level does not work.
   Reported by: Richard Mudgett
     * [30cb4eb57f] Richard Mudgett -- PJPROJECT logging: Fix detection of
       max supported log level.

    Category: Resources/res_pjsip_authenticator_digest

   ASTERISK-26799: res_pjsip: Using an auth object for inbound and outbound
   authentication fails.
   Reported by: Richard Mudgett
     * [3b606093d3] Richard Mudgett -- res_pjsip_authenticator_digest.c: Fix
       sorcery's immutable contract violation.
     * [6208962b00] Richard Mudgett -- res_pjsip: Update artificial auth
       whenever default_realm changes.
     * [9f11da85a2] Richard Mudgett -- res_pjsip: Update authentication realm
       documentation.

    Category: Resources/res_pjsip_caller_id

   ASTERISK-27284: Status of RFC 3323 and PJSIP
   Reported by: dtryba
     * [6dfe5b29b6] Daniel Tryba -- res_pjsip_caller_id chan_sip: Comply to
       RFC 3323 values for privacy
   ASTERISK-25823: SIGSEGV, Segmentation fault. - ../sysdeps/x86_64/strlen.S:
   No such file or directory.
   Reported by: Andreas KrA 1/4ger
     * [c853cfdc7c] Kevin Harwell -- res_pjsip/res_pjsip_callerid: NULL check
       on caller id name string

    Category: Resources/res_pjsip_dialog_info_body_generator

   ASTERISK-26919: res_pjsip_dialog_info_body_generator: Ringing&&InUse
   behavior difference between chan_sip and res_pjsip
   Reported by: Zach R
     * [a6e4899612] Alexei Gradinari -- res_pjsip: New endpoint option
       "notify_early_inuse_ringing"

    Category: Resources/res_pjsip_endpoint_identifier_ip

   ASTERISK-26735: res_pjsip_endpoint_identifier_ip: "srv_lookups" after
   match in .conf has no effect
   Reported by: Michael Maier
     * [aae9df0643] Joshua Colp -- res_pjsip_endpoint_identifier_ip: Fix
       memory leak of hosts when resolving.
     * [6d23b2e360] Joshua Colp -- res_pjsip_endpoint_identifier_ip: Read
       settings before resolving.
   ASTERISK-26693: res_pjsip_endpoint_identifier_ip: Add support for SRV
   Reported by: Joshua Colp
     * [a2f0adccbd] Joshua Colp -- res_pjsip_endpoint_identifier_ip: Ensure
       error defaults to 0.
     * [37aaaa2da2] Joshua Colp -- res_pjsip_endpoint_identifier_ip: Add
       support for SRV lookups.

    Category: Resources/res_pjsip_messaging

   ASTERISK-27193: IPv6 receive address in message doesn't include brackets
   Reported by: Scott Griepentrog
     * [22575b6342] Scott Griepentrog -- res_pjsip_messaging: IPv6 receive
       address needs brackets
   ASTERISK-26484: res_pjsip_messaging: Crash when using invalid URI in
   MessageSend 'from' argument.
   Reported by: Vinod Dharashive
     * [b3cc20799b] Sean Bright -- res_pjsip_messaging: Check URI type before
       dereferencing

    Category: Resources/res_pjsip_mwi

   ASTERISK-27051: res_pjsip_mwi: unsolicited MWI has to be unsubscribed on
   deleting the endpoint's last contact
   Reported by: Alexei Gradinari
     * [8e749c8f51] Alexei Gradinari -- res_pjsip_mwi: unsubscribe
       unsolicited MWI on deleting endpoint last contact
   ASTERISK-26756: res_pjsip_mwi: Asterisk does not terminate MWI
   subscription
   Reported by: Carl Fortin
     * [be77b845d9] George Joseph -- res_pjsip_pubsub: Correctly implement
       persisted subscriptions

    Category: Resources/res_pjsip_outbound_registration

   ASTERISK-26808: res_pjsip_outbound_registration doesn't know about network
   change events
   Reported by: George Joseph
     * [c07bcca87e] George Joseph -- res_pjsip_outbound_registration:
       Subscribe to network change events
   ASTERISK-26782: res_pjsip: URI requirement for fields is not consistently
   documented and error does not provide indication
   Reported by: Peter Sokolov
     * [d49af061bc] Joshua Colp -- config: Improve documentation and behavior
       of outbound_proxy option.

    Category: Resources/res_pjsip_pidf_eyebeam_body_supplement

   ASTERISK-26659: res_pjsip: PJSIP presence - missing braces around the
   status element in XML
   Reported by: Abraham Liebsch
     * [4d318cac68] Sean Bright -- res_pjsip_pidf_eyebeam_body_supplement:
       Correct status presentation

    Category: Resources/res_pjsip_pubsub

   ASTERISK-27279: Crash in pubsub_on_rx_request NULL pointer - Possible
   PJSIP Vulnerability
   Reported by: Ross Beer
     * [828a0611bc] George Joseph -- res_pjsip_pubsub: Check for Content-Type
       header in rx_notify_request
   ASTERISK-26929: pjsip: Add database tables for RLS
   Reported by: Joshua Colp
     * [c09b9dba90] Joshua Colp -- alembic: Add table for 'resource_list'
       PJSIP RLS type.
   ASTERISK-26776: res_pjsip_pubsub: Crash when generating xpidf content
   Reported by: Andrew Green
     * [91c97b5da5] Joshua Elson -- pjsip: prevent memory corruption on
       creation of xml bodies
   ASTERISK-26823: PJSIP: Persistent subscriptions can cause FRACKs if
   endpoint does not exist
   Reported by: Mark Michelson
     * [8e6ecdade2] George Joseph -- res_pjsip_pubsub: Remove unneeded
       endpoint unref
   ASTERISK-26696: pjsip_pubsub: PJSIP Subscription Persistence in AstDB Does
   not update on subscription refresh
   Reported by: Zach R
     * [be77b845d9] George Joseph -- res_pjsip_pubsub: Correctly implement
       persisted subscriptions

    Category: Resources/res_pjsip_refer

   ASTERISK-27053: res_pjsip_refer/session: Calls dropped during transfer
   Reported by: Kevin Harwell
     * [6cdf3191d3] Kevin Harwell -- res_pjsip_refer/session: Calls dropped
       during transfer
   ASTERISK-26869: res_pjsip_refer: blind call transfer w/o a user name
   doesn't go to the s extension
   Reported by: Torrey Searle
     * [48447313b6] Torrey Searle -- res/res_pjsip_refer: call xfer w/o
       extension

    Category: Resources/res_pjsip_registrar

   ASTERISK-27192: res_pjsip: Loss of SIP registrations causing unavailable
   endpoints
   Reported by: Richard Mudgett
     * [d388c18abf] Richard Mudgett -- res_pjsip_registrar.c: Update
       remove_existing AOR contact handling.
   ASTERISK-26644: PJSIPShowRegistrationsInbound just dumps all aors
   Reported by: George Joseph
     * [ebc67d3053] George Joseph -- res_pjsip_registrar: AMI Add
       RegistrationInboundContactStatuses command

    Category: Resources/res_pjsip_sdp_rtp

   ASTERISK-27345: res_pjsip_session: RTP instances leak on 488 responses.
   Reported by: Corey Farrell
     * [13508b8a16] Kevin Harwell -- AST-2017-011 - res_pjsip_session:
       session leak when a call is rejected
   ASTERISK-26890: STUN server with non-default-route transport causes INVITE
   delay
   Reported by: George Joseph
     * [1213ac1ac5] Richard Mudgett -- res_pjsip_session.c: Send 100 Trying
       out earlier to prevent retransmissions.
     * [cd80af508e] Richard Mudgett -- res_rtp_asterisk.c: Add stun_blacklist
       option
   ASTERISK-26851: res_pjsip_sdp_rtp: RTP instance does not use same IP as
   explicit transport
   Reported by: Richard Begg
     * [304f652cda] Richard Mudgett -- res_pjsip_sdp_rtp.c: Don't use
       deprecated transport struct member.
     * [6906765381] Richard Mudgett -- res_pjsip_sdp_rtp.c: Don't alter
       global addr variable.
     * [139bc3495f] Richard Begg -- res_pjsip_sdp_rtp: RTP instance does not
       use same IP as explicit transport

    Category: Resources/res_pjsip_session

   ASTERISK-27345: res_pjsip_session: RTP instances leak on 488 responses.
   Reported by: Corey Farrell
     * [13508b8a16] Kevin Harwell -- AST-2017-011 - res_pjsip_session:
       session leak when a call is rejected
   ASTERISK-26988: res_pjsip_session: user_eq_phone adds double user=phone
   parameters to URIs
   Reported by: dtryba
     * [af09996178] Daniel Tryba -- res_pjsip: Prevent "user=phone" being
       added multiple times to header
   ASTERISK-27024: nat/external_media settings ignored in 14.4.1
   Reported by: Christopher van de Sande
     * [45744fc53d] Walter Doekes -- res/res_pjsip: Standardize/fix localnet
       checks across pjsip.
     * [2dee95cc7a] George Joseph -- res_pjsip_session: Correct inverted test
       in session_outgoing_nat_hook
   ASTERISK-27209: Incorrect SDP in 200 OK when PJSIP_DTMF_MODE is used
   Reported by: Torrey Searle
     * [8e99969000] Torrey Searle -- res/res_pjsip_session: allow SDP answer
       to be regenerated
   ASTERISK-27110: RTP session is not fully destroyed on channel hangup
   Reported by: Matt Jordan
     * [0de7312fac] Joshua Colp -- res_pjsip_session: Release media resources
       on session end quicker.
     * [3418d8d145] Joshua Colp -- res_pjsip_session: Release media resources
       on session end quicker.
   ASTERISK-27053: res_pjsip_refer/session: Calls dropped during transfer
   Reported by: Kevin Harwell
     * [6cdf3191d3] Kevin Harwell -- res_pjsip_refer/session: Calls dropped
       during transfer
   ASTERISK-26964: res_pjsip_session: Wrong From on reinvite when request and
   To URI differ
   Reported by: Yasin CANER
     * [36628cc9c4] Yasin CANER -- res_pjsip_session : fixed wrong From
       Header number On Re-invite
   ASTERISK-26998: res_pjsip_session: INVITE retransmissions could still
   setup the same call again.
   Reported by: Richard Mudgett
     * [b67363006f] Richard Mudgett -- res_pjsip_session.c: Process initial
       INVITE sooner. (key exists)
   ASTERISK-26908: res_pjsip: The ChanIsAvail causes a res_pjsip session to
   be leaked.
   Reported by: Richard Mudgett
     * [c5b9ed20fd] George Joseph -- res_pjsip_session: Add cleanup to
       ast_sip_session_terminate
   ASTERISK-26670: [patch] Outgoing SIP-URI Dialing via PJSIP
   Reported by: Alexander Traud
     * [569dac8e50] Alexander Traud -- res_pjsip_session: Access SIPDOMAIN
       via Dialplan.

    Category: Resources/res_pjsip_t38

   ASTERISK-27236: Segfault ast_channel_name (chan=0x0) at
   channel_internal_api.c:478 during T.38 Fax Receive
   Reported by: Ross Beer
     * [786c4791f9] George Joseph -- res_pjsip_t38: Make
       t38_reinvite_response_cb tolerant of NULL channel
   ASTERISK-26974: res_pjsip: Deadlock in T.38 framehook
   Reported by: Richard Mudgett
     * [9d5df48968] Richard Mudgett -- res_pjsip_t38.c: Fix deadlock in T.38
       framehook.

    Category: Resources/res_pjsip_transport_websocket

   ASTERISK-27046: res_pjsip_transport_websocket: segfault in
   get_write_timeout
   Reported by: JA,rgen H
     * [e16a669c70] JA,rgen H -- res_pjsip_transport_websocket: Add NULL
       check in get_write_timeout
   ASTERISK-26796: res_pjsip_transport_websocket: Via header is 'WS' when it
   should be 'WSS'
   Reported by: JA,rgen H
     * [e510595c86] JA,rgen H -- res_pjsip WebRTC/websockets: Fix usage of WS
       vs WSS.

    Category: Resources/res_rtp_asterisk

   ASTERISK-27429: res_rtp_asterisk: Multiple reports in an RTCP packet will
   write past where it should
   Reported by: Vitezslav Novy
     * [10b3d4cea8] Joshua Colp -- AST-2017-012: Place single RTCP report
       block at beginning of report.
   ASTERISK-27421: RTP source learning not working with devices that have
   some clock issues
   Reported by: nappsoft
     * [aa967e1eda] Pirmin Walthert -- res_rtp_asterisk.c: Fix rtp source
       address learning for broken clients
   ASTERISK-27453: RTP: Blind transfer direct media scenario results in one
   way audio.
   Reported by: Richard Mudgett
     * [23fae9b147] Richard Mudgett -- res_rtp_asterisk.c: Increase strictrtp
       learning timeout time.
   ASTERISK-27292: Multiple RTP Stream Created Breaking RFC2833 (SSRC
   Changes)
   Reported by: Ross Beer
     * [221d8a5c24] Richard Mudgett -- res_rtp_asterisk.c: Fix
       bridge_p2p_rtp_write() reentrancy potential.
   ASTERISK-27274: RTCP needs better packet validation to resist port scans.
   Reported by: Richard Mudgett
     * [6d4b801c83] Richard Mudgett -- AST-2017-008: Improve RTP and RTCP
       packet processing.
   ASTERISK-27252: RTP: One way audio with direct media and strictrtp=yes.
   Reported by: Richard Mudgett
     * [6d4b801c83] Richard Mudgett -- AST-2017-008: Improve RTP and RTCP
       packet processing.
   ASTERISK-27013: res_rtp_asterisk: Media can be hijacked even with strict
   RTP enabled
   Reported by: Joshua Colp
     * [1a022285dd] Joshua Colp -- res_rtp_asterisk: Only learn a new source
       in learn state.
   ASTERISK-27158: [patch] res_rtp_asterisk: RTCP statistics are not
   available when native bridge is used
   Reported by: Torrey Searle
     * [3608f96ea3] Torrey Searle -- res_rtp_asterisk: enable rtcp & QOS
       stats on native bridge
   ASTERISK-27133: res_rtp_asterisk: RTCP does not use ICE when RTCP-MUX in
   use
   Reported by: Joshua Colp
     * [51761b759d] Joshua Colp -- res_rtp_asterisk: Use RTP component for
       ICE if RTCP-MUX is in use.
   ASTERISK-27023: res_rtp_asterisk: Deadlock when TURN session in use
   Reported by: Jatin Jain
     * [aa514f420b] Richard Mudgett -- res_rtp_asterisk.c: Fix TURN deadlock
       by using ICE session group lock.
   ASTERISK-27022: res_rtp_asterisk: Incorrect SSRC change for RTCP component
   Reported by: Michael Walton
     * [7dafe82751] George Joseph -- res_rtp_asterisk: Fix ssrc change for
       rtcp srtp
   ASTERISK-24858: [patch]Asterisk 13 PJSIP sends RTP packets in wrong byte
   order on Intel platform when using slin codec
   Reported by: Frankie Chin
     * [70e5887906] Sean Bright -- format: Reintroduce smoother flags
     * [339c30f2b6] Sean Bright -- res_rtp_asterisk: Swap byte-order when
       sending signed linear
   ASTERISK-25101: DTLS configuration can not be specified in the general
   section - documentation
   Reported by: Ben Langfeld
     * [971a401ce9] Sean Bright -- sip.conf.sample: Clarify where DTLS
       settings are permitted
   ASTERISK-26979: res_rtp_asterisk: SRTP unprotect failed with
   authentication failure 10 or 110
   Reported by: Javier Riveros
     * [e91efef2bb] Kevin Harwell -- res_rtp_asterisk: rtcp mux using the
       wrong srtp unprotecting algorithm
   ASTERISK-26982: chan_sip: rtcp_mux setting may cause ice completion
   failure/delay if client offers rtcp-mux as negotiable
   Reported by: Stefan EngstrAP:m
     * [4479038073] Sean Bright -- chan_sip: Better ICE handling for RTCP-MUX
   ASTERISK-26143: res_rtp_asterisk: One way audio when transcoding
   Reported by: Henning Holtschneider
     * [1bcce442d0] Vitezslav Novy -- chan_sip: Change sip_get_codec() to
       return correct codec list
   ASTERISK-26692: res_rtp_asterisk: Crash in dtls_srtp_handle_timeout at
   res_rtp_asterisk (using chan_sip)
   Reported by: Sebastian Gutierrez
     * [55f452884f] Richard Mudgett -- res_rtp_asterisk.c: Fix crash in RTCP
       DTLS operation.
   ASTERISK-26835: res_rtp_asterisk: Crash when freeing RTCP address string
   Reported by: Niklas Larsson
     * [f856cfbb51] Richard Mudgett -- rtp_engine/res_rtp_asterisk: Fix RTP
       struct reentrancy crashes.
   ASTERISK-26853: res_rtp_asterisk: Crash in pjnath when receiving packet
   Reported by: Adagio
     * [f856cfbb51] Richard Mudgett -- rtp_engine/res_rtp_asterisk: Fix RTP
       struct reentrancy crashes.
   ASTERISK-26732: res_rtp_asterisk: Implement RTCP Multiplexing - breaking
   WebRTC in Chrome
   Reported by: Dan Jenkins
     * [047fb7f11e] Richard Mudgett -- res_pjsip_asterisk.c: Fix compile
       error if libsrtp is not installed.
     * [7ea7797e12] Joshua Colp -- res_rtp_asterisk: Fix crash when RTCP is
       not present when DTLS is stopped.
     * [7bc69753bc] Mark Michelson -- Add rtcp-mux support
   ASTERISK-26710: [patch] res_rtp_asterisk: CHANNEL arguments,
   (rtcp,all_rtt),(rtcp,all_loss),(rtcp,all_jitter) always return 0
   Reported by: Aaron An
     * [0047b1bc49] Aaron An -- res_rtp_asterisk: Fix bug in function
       CHANNEL(rtcp, all_rtt)
   ASTERISK-26672: Crash when setting remote address on RTP instance
   Reported by: Richard Mudgett
     * [a9e459f8ac] Richard Mudgett -- res_rtp_asterisk.c: Fix uninitialized
       memory crash.
     * [bcdd282ada] Richard Mudgett -- res_rtp_asterisk.c: Initialize ourip
       passed to ast_find_ourip().
     * [ac31233dbe] Richard Mudgett -- acl.c: Improve ast_ouraddrfor()
       diagnostic messages.
     * [0aa5db4b38] Richard Mudgett -- chan_rtp.c: Fix uninitialized memory
       crash.
   ASTERISK-26617: res_rtp_asterisk: Can't bind on systems without IPv6
   Reported by: Guido Falsi
     * [2ceb609edb] Guido Falsi -- res_rtp: Fix regression when IPv6 is not
       available.
   ASTERISK-26566: res_rtp_asterisk: RTT miscalculation in RTCP
   Reported by: Hector Royo Concepcion
     * [8756ce64b7] gestoip2 -- res_rtp_asterisk: RTT miscalculation in RTCP

    Category: Resources/res_rtp_multicast

   ASTERISK-21399: RTP Multicast of L16 (type 10): Asterisk and wireshark
   disagree
   Reported by: Tzafrir Cohen
     * [0688f61a01] Sean Bright -- chan_rtp: Use I 1/4-law by default instead
       of signed linear

    Category: Resources/res_smdi

   ASTERISK-24066: res_smdi: convert to astobj2
   Reported by: Corey Farrell
     * [e4797b2cbd] Sean Bright -- app_waitforsilence: Cleanup & don't treat
       missing frames as 'noise'

    Category: Resources/res_sorcery_memory_cache

   ASTERISK-26731: res_sorcery_memory_cache: memory leak on every sorcery
   memory cache populate
   Reported by: Ustinov Artem
     * [75497c33ea] Mark Michelson -- Free endpoint ACLs when destroying
       PJSIP endpoints.

    Category: Resources/res_srtp

   ASTERISK-25294: srtp's crypto_get_random deprecated
   Reported by: Tzafrir Cohen
     * [5e9cd1f20d] Sean Bright -- res_srtp: Add support for libsrtp2
   ASTERISK-25101: DTLS configuration can not be specified in the general
   section - documentation
   Reported by: Ben Langfeld
     * [971a401ce9] Sean Bright -- sip.conf.sample: Clarify where DTLS
       settings are permitted
   ASTERISK-26979: res_rtp_asterisk: SRTP unprotect failed with
   authentication failure 10 or 110
   Reported by: Javier Riveros
     * [e91efef2bb] Kevin Harwell -- res_rtp_asterisk: rtcp mux using the
       wrong srtp unprotecting algorithm

    Category: Resources/res_stasis

   ASTERISK-27059: res_stasis: Stolen channel references are leaking
   Reported by: George Joseph
     * [edfdb4dff5] George Joseph -- res_stasis: Plug reference leak on
       stolen channels

    Category: Resources/res_stasis_device_state

   ASTERISK-27130: Applications ARI: Unsubscribe action for deviceStates does
   not remove old subscriptions properly
   Reported by: Sergej Kasumovic
     * [708cdc0b8e] Sergej Kasumovic -- res_stasis_device_state: Unsubscribe
       should remove old subscriptions
   ASTERISK-26770: res_stasis_device_state: Duplicate subscriptions when
   multiple received at same time
   Reported by: Joshua Colp
     * [7b39d6901a] Joshua Colp -- res_stasis_device_state: Protect the
       adding/removing of subscriptions.

    Category: Resources/res_stasis_snoop

   ASTERISK-27128: [patch]res_stasis_snoop: When recording a snoop channel
   (using ARI) where no media is being received, no recording happens when
   theres no media
   Reported by: Dan Jenkins
     * [a4c85309f0] Torrey Searle -- res/res_stasis_snoop: generate silence
       when audiohook returns null
   ASTERISK-26973: bridge: Crash when freeing frame and snooping
   Reported by: Michel R. Vaillancourt
     * [adfb28882b] Kevin Harwell -- channel: ast_write frame wrongly freed
       after call to audiohooks

    Category: Resources/res_stun_monitor

   ASTERISK-21856: STUN never works when asterisk started without internet
   access
   Reported by: Jeremy Kister
     * [357d1fbdcc] Sean Bright -- res_stun_monitor: Don't fail to load if
       DNS resolution fails

    Category: Resources/res_xmpp

   ASTERISK-27346: res_xmpp: Crash if OAuth 2.0 is used before curl is loaded
   Reported by: Ronald Raikes
     * [db233704f4] Joshua Colp -- res_xmpp: Ensure the connection filter is
       available.
   ASTERISK-27207: XMPP OAuth not working due to inverted logic
   Reported by: Michael Kuron
     * [4faf77feec] Michael Kuron -- res_xmpp: fix inverted return code check
       in OAuth
   ASTERISK-21009: xmpp_pubsub_unsubscribe: Could not create IQ when creating
   pubsub unsubscription on client
   Reported by: Marcello Ceschia
     * [c9648f4690] Sean Bright -- astobj2: Prevent potential deadlocks with
       ao2_global_obj_release
   ASTERISK-24712: xmpp: starttls problem causes connection spew
   Reported by: Matthias Urlichs
     * [73bb08fd6a] Sean Bright -- res_xmpp: Use incremental backoff when a
       read error occurs
     * [1966265562] Sean Bright -- res_xmpp: Try to provide useful errors
       messages from OpenSSL
   ASTERISK-23510: JABBER_STATUS fails with improper code 7 for unavailable
   clients
   Reported by: Anthony Critelli
     * [0939a19cff] Sean Bright -- res_xmpp: Correct implementation of
       JABBER_STATUS & JabberStatus
   ASTERISK-21855: Asterisk crashes when XMPP message is sent (JabberSend)
   and no internet connection is available
   Reported by: Jeremy Kister
     * [a487f6fb97] Sean Bright -- res_xmpp: Don't crash when trying to send
       a message without a connection
   ASTERISK-25622: WARNING for "JABBER: socket read error" should be more
   specific
   Reported by: Sean Darcy
     * [90fb1fca41] Sean Bright -- res_xmpp: Include client name in
       connection related error messages

    Category: Sounds

   ASTERISK-25810: say.c calls for sounds in the subdir "digits" that don't
   exist (in Core). SayUnixTime or other Say... apps will fail out when they
   call these sounds.
   Reported by: Nicolas Riendeau
     * [7e9aa74daa] Rusty Newton -- say.c: Fix file locations for second,
       seconds, minute, minutes files
   ASTERISK-27142: sounds: Conflict between files in asterisk-sounds-core-1.6
   and asterisk-sounds-extra-1.5
   Reported by: Corey Farrell
     * [4f93f75e7e] Rusty Newton -- Sounds: Update Makefile for Extra sounds
       1.5.1 release
   ASTERISK-26807: sounds: New 3-D Binaural audio features require new sound
   prompts
   Reported by: Rusty Newton
     * [9f66fb7901] Rusty Newton -- Sounds: Update for core sounds 1.6
       release
   ASTERISK-25816: French conf-adminmenu, conf-usermenu prompts differ in
   content from the English files
   Reported by: Benoit Duverger
     * [9f66fb7901] Rusty Newton -- Sounds: Update for core sounds 1.6
       release
   ASTERISK-26274: Resolve open sounds issues and then create a new sounds
   release (1.5.1? or 1.6?)
   Reported by: Rusty Newton
     * [9f66fb7901] Rusty Newton -- Sounds: Update for core sounds 1.6
       release

    Category: Tests/General

   ASTERISK-26740: voicemail API test: uses varlibdir instead of datadir for
   a sound file
   Reported by: Tzafrir Cohen
     * [cd2677f966] Tzafrir Cohen -- tests: use datadir for sound files
   ASTERISK-26739: voicemail API test: confuses expected and actual values
   Reported by: Tzafrir Cohen
     * [b62f84bfb1] Tzafrir Cohen -- test_voicemail_api: order of params to
       VERIFY macros

    Category: Third-Party/pjproject

   ASTERISK-27097: pjproject_bundled: We don't pass options needed for
   cross-compile to pjproject configure
   Reported by: George Joseph
     * [bbe68f139d] George Joseph -- pjproject_bundled: Allow passing
       configure options to bundled
   ASTERISK-26905: pjproject_bundled: Merge 3 upstream deadlock patches into
   bundled
   Reported by: Ross Beer
     * [4e6e069491] George Joseph -- pjproject_bundled: Add 3 upstream
       patches
   ASTERISK-26872: Bundled pjproject fails to build when tarball downloaded
   with curl due to md5 verification failure in Docker containers (or when
   there is no terminal)
   Reported by: Matt Jordan
     * [658d59c683] Matt Jordan -- configure: Don't use the progress bar with
       curl when downloading to stdout
   ASTERISK-26653: pjproject_bundled doesn't verify already downloaded
   tarballs
   Reported by: George Joseph
     * [cd46e86491] George Joseph -- pjproject_bundled: Retry download if
       previously saved tarball is bad

    Category: pjproject/pjsip

   ASTERISK-27391: Regression: Deadlock between AOR named lock and pjproject
   grp lock
   Reported by: shaurya jain
     * [7b4b17c843] Richard Mudgett -- res_pjsip_registrar.c: Fix named AOR
       and pjproject group deadlock.
   ASTERISK-27127: configs: Erroneous load directive in sample configuration
   results in "Error loading module 'res_pjsip_multihomed.so'"
   Reported by: HZMI8gkCvPpom0tM
     * [6d0ff310c6] Sean Bright -- basic-pbx: Remove res_pjsip_multihomed
       from sample config
   ASTERISK-27036: res_pjsip: Asterisk crashes when an extension tries to use
   PJSIP trunk with from_user containing '@'
   Reported by: Maxim Vasilev
     * [25e18bf514] Benjamin Keith Ford -- res_pjsip: Fix crash with
       from_user containing invalid characters.
   ASTERISK-26938: Heap overflow in CSEQ header parsing affects Asterisk
   chan_pjsip and PJSIP
   Reported by: Sandro Gauci
     * [919ccdb9ac] Mark Michelson -- AST-2017-002: Ensure transaction key
       buffer is large enough.
   ASTERISK-26939: Out of bound memory access in PJSIP multipart parser
   crashes Asterisk
   Reported by: Sandro Gauci
     * [49c032abef] Mark Michelson -- AST-2017-003: Handle zero-length body
       parts correctly.
   ASTERISK-26333: Problems with Blind Transfer, PJSIP (Aastra 6869i)
   Reported by: Matthias Binder
     * [6af2dd34af] Alexei Gradinari -- res_pjsip: New endpoint option
       "refer_blind_progress"
   ASTERISK-26930: pjproject/Makefile.rules for pjsip 2.6 build fails for
   non-SSE2 instrunction Linux
   Reported by: abelbeck
     * [001dc2ade6] George Joseph -- pjproject_bundled: Add
       --disable-libwebrtc to configure
   ASTERISK-26814: pjproject_bundled build fails to download pjproject source
   when using cURL
   Reported by: Gergely DAP:msAP:di
     * [e6aeeabddf] Kevin Harwell -- pjproject_bundled: raise timeout value
       used when downloading
   ASTERISK-26669: PJSIP Segfault 13.13.1 (Bundled PJSIP)
   Reported by: Nic Colledge
     * [473813311b] Richard Mudgett -- pjproject: Fixes to resolve DNS SRV
       crashes.
     * [d58fdae811] Richard Mudgett -- pjsip_distributor.c: Update some debug
       messages to get transaction name.
     * [eb9ae4f7cb] Richard Mudgett -- res_pjsip: Record the serializer
       earlier on the tdata.
     * [57f19d6efb] Richard Mudgett -- pjproject: Increase SENDER_WIDTH
       column size for 64-bit system logs.
   ASTERISK-26802: [patch] Integrity Check Of PJSIP Download Fails
   Reported by: Michael L. Young
     * [047a1e7dcc] Sean Bright -- pjproject-bundled: Fix checksum
       verification when using cURL
   ASTERISK-26696: pjsip_pubsub: PJSIP Subscription Persistence in AstDB Does
   not update on subscription refresh
   Reported by: Zach R
     * [be77b845d9] George Joseph -- res_pjsip_pubsub: Correctly implement
       persisted subscriptions
   ASTERISK-26655: [patch]pjsip: Transfers Broken with Compact Headers
   Enabled
   Reported by: JoshE
     * [0ab9d103f6] George Joseph -- res_pjsip_refer: Handle compact Refer-To
       header.
   ASTERISK-26490: res_pjsip: sends 481 Call/Transaction Does Not Exist when
   transaction branch parameter contains "_"
   Reported by: Juris Breicis
     * [d506874477] Richard Mudgett -- Bundled pjproject: Fix finding SIP
       transactions.

  New Feature

    Category: Applications/app_voicemail

   ASTERISK-17428: [patch] Allow "Comedian Mail" branding to be removed
   Reported by: John Covert
     * [4c31e03e80] Sean Bright -- app_voicemail: Allow 'Comedian Mail'
       branding to be overriden

    Category: Channels/chan_pjsip

   ASTERISK-27478: PJSIP: Add CHANNEL(pjsip,request_uri) to get incoming
   INVITE Request-URI.
   Reported by: Richard Mudgett
     * [f493631fc6] Richard Mudgett -- chan_pjsip/res_pjsip: Add
       CHANNEL(pjsip,request_uri)

    Category: Core/Configuration

   ASTERISK-27117: core: Add support for timelen parsing to ast_parse_arg and
   ACO.
   Reported by: Corey Farrell
     * [df49ad2528] Corey Farrell -- core: Add PARSE_TIMELEN support to
       ast_parse_arg and ACO.

    Category: Core/General

   ASTERISK-26630: Make logging PJPROJECT messages a bit easier
   Reported by: Richard Mudgett
     * [44fe4a5769] Richard Mudgett -- PJPROJECT logging: Made easier to get
       available logging levels.

    Category: Core/ManagerInterface

   ASTERISK-27215: [patch]AMI : Add CancelAtxfer Action
   Reported by: Thomas Sevestre
     * [6d3ee9fb93] Thomas Sevestre -- features, manager : Add CancelAtxfer
       AMI action

    Category: Features

   ASTERISK-27215: [patch]AMI : Add CancelAtxfer Action
   Reported by: Thomas Sevestre
     * [6d3ee9fb93] Thomas Sevestre -- features, manager : Add CancelAtxfer
       AMI action

    Category: Functions/func_channel

   ASTERISK-26878: func_channel: Add ability to get the callid so dialplan
   has access to it.
   Reported by: Richard Mudgett
     * [60b372a883] Richard Mudgett -- CHANNEL(callid): Give dialplan access
       to the callid.

    Category: Resources/res_pjsip

   ASTERISK-27478: PJSIP: Add CHANNEL(pjsip,request_uri) to get incoming
   INVITE Request-URI.
   Reported by: Richard Mudgett
     * [f493631fc6] Richard Mudgett -- chan_pjsip/res_pjsip: Add
       CHANNEL(pjsip,request_uri)
   ASTERISK-26863: res_pjsip: Add endpoint identification scheme based on a
   configured SIP header/value
   Reported by: Matt Jordan
     * [7612601964] Joshua Colp -- res_pjsip_endpoint_identifier_ip: Don't
       output error if no header_match.
     * [b3c2c996f1] Matt Jordan -- res_pjsip_endpoint_identifier_ip: Add an
       option to match requests by header

    Category: Resources/res_pjsip/Bundling

   ASTERISK-26630: Make logging PJPROJECT messages a bit easier
   Reported by: Richard Mudgett
     * [44fe4a5769] Richard Mudgett -- PJPROJECT logging: Made easier to get
       available logging levels.

    Category: Resources/res_pjsip_session

   ASTERISK-27478: PJSIP: Add CHANNEL(pjsip,request_uri) to get incoming
   INVITE Request-URI.
   Reported by: Richard Mudgett
     * [f493631fc6] Richard Mudgett -- chan_pjsip/res_pjsip: Add
       CHANNEL(pjsip,request_uri)

     ----------------------------------------------------------------------

                                  Open Issues

                                 [Back to Top]

   This is a list of all open issues from the issue tracker that were
   referenced by changes that went into this release.

  Bug

    Category: Bridges/bridge_simple

   ASTERISK-26469: Infinite loop after a dual Redirect
   Reported by: Etienne Allovon
     * [b07b216235] Joshua Colp -- manager: Clear the flag on the other
       channel.

    Category: Channels/chan_pjsip

   ASTERISK-27306: chan_pjsip: Cannot be tested for memory leaks.
   Reported by: Corey Farrell
     * [48971e4d43] Corey Farrell -- res_pjproject: Fix cleanup of buildopts
       vector.
     * [82592c3673] Corey Farrell -- res_pjsip: Fix issues that prevented
       shutdown of modules.
     * [f1163c0f6f] Corey Farrell -- res_pjsip: Fix leak of persistent
       endpoint references.
     * [5110600f1e] Corey Farrell -- res_pjsip: Fix leak of fake_auth
       references.

    Category: Core/Jitterbuffer

   ASTERISK-25270: chan_sip: rtptimeout doesn't work at all when using
   JitterBuffers of any kind
   Reported by: Florian Loyau
     * [a3614d75f6] Kevin Harwell -- Revert "chan_sip: Fix lastrtprx always
       updated"

    Category: Core/RTP

   ASTERISK-25270: chan_sip: rtptimeout doesn't work at all when using
   JitterBuffers of any kind
   Reported by: Florian Loyau
     * [a3614d75f6] Kevin Harwell -- Revert "chan_sip: Fix lastrtprx always
       updated"

    Category: pjproject/pjsip

   ASTERISK-27001: res_pjsip: TLS connection not stable
   Reported by: Ian Gilmour
     * [0d58fefa30] George Joseph -- bundled_pjproject: Improve SSL/TLS error
       handling

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   reference a JIRA issue.

   +------------------------------------------------------------------------+
   | Revision   | Author       | Summary                                    |
   |------------+--------------+--------------------------------------------|
   | ffc2b0eb91 | Corey        | README-SERIOUSLY.bestpractices.txt:        |
   |            | Farrell      | Convert to markdown                        |
   |------------+--------------+--------------------------------------------|
   | 3948e9d616 | Corey        | README: Convert to README.md.              |
   |            | Farrell      |                                            |
   |------------+--------------+--------------------------------------------|
   | 5a204aac04 | Corey        | README: Send people to secure websites     |
   |            | Farrell      | where available.                           |
   |------------+--------------+--------------------------------------------|
   | 673d7d081e | George       | Update for certified/13.18-cert1-rc3       |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 86e12d7f37 | Corey        | tests: Fix warnings found on Mac.          |
   |            | Farrell      |                                            |
   |------------+--------------+--------------------------------------------|
   | b64d924e1c | George       | Update for certified/13.18-cert1-rc2       |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 705dbd0468 | Ben Ford     | bundled_pjproject: Update to 2.7.1         |
   |------------+--------------+--------------------------------------------|
   | 0a62d69937 | George       | bundled_pjproject: sip_parser: Fix return  |
   |            | Joseph       | code in pjsip_find_msg                     |
   |------------+--------------+--------------------------------------------|
   | 3984942b13 | Kevin        | Update for certified/13.18-cert1-rc1       |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | d797270f4e | Kevin        | Initialize 13.18-cert branch               |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | 719ac573a6 | Kevin        | Update for 13.18.0                         |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | 82cedfbcb3 | Kevin        | Update for 13.18.0-rc2                     |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | d5d1e98fa4 | Kevin        | Update for 13.18.0-rc1                     |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | 4bc2aca9b7 | Kevin        | AMI: Increase version number               |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | 5f6bad6733 | Richard      | cdr.c: Defer misc checks.                  |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | f3f141781c | George       | chan_vpb: Fix a gcc 7 out-of-bounds        |
   |            | Joseph       | complaint                                  |
   |------------+--------------+--------------------------------------------|
   | 42fdfffefc | Richard      | cdr.c: Eliminated simple RAII_VAR usages.  |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 128f7ffaa2 | Richard      | cdr.c: Replace redundant check with an     |
   |            | Mudgett      | ast_assert()                               |
   |------------+--------------+--------------------------------------------|
   | 3525081a7c | Richard      | cdr.c: Replace inlined code with           |
   |            | Mudgett      | ao2_t_replace()                            |
   |------------+--------------+--------------------------------------------|
   | 7366657a9a | Richard      | cdr.c: Use current ao2 flag names          |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 34d55352a5 | Richard      | cdr.h: Fix doxygen comments.               |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 6b16fa12c8 | Sean Bright  | res_config_sqlite: Don't enable SQLite     |
   |            |              | CDRs when running 'make samples'           |
   |------------+--------------+--------------------------------------------|
   | 6c30f4a2d1 | Torrey       | contrib/thirdparty/sip_to_pjsip: add       |
   |            | Searle       | additional flag mappings                   |
   |------------+--------------+--------------------------------------------|
   | a433bb38b5 | Richard      | heap.c: No need to calloc heap pointer     |
   |            | Mudgett      | array.                                     |
   |------------+--------------+--------------------------------------------|
   | 47620ea862 | George       | logger: Bring back ability to turn debug   |
   |            | Joseph       | on by source file                          |
   |------------+--------------+--------------------------------------------|
   | f3b1b64d21 | Sean Bright  | pjproject: Patch to correct STUN           |
   |            |              | FINGERPRINT usage                          |
   |------------+--------------+--------------------------------------------|
   | 690f7f7c76 | George       | build: A few gcc 7 error fixes             |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | f39af4d36d | Sean Bright  | res_pjsip: Use ast_sip_is_content_type()   |
   |            |              | where appropriate                          |
   |------------+--------------+--------------------------------------------|
   | f1eb36ea51 | alex         | cdr_mysql.c: Apply cdrzone to start and    |
   |            |              | answer                                     |
   |------------+--------------+--------------------------------------------|
   | 63900374fa | George       | res_pjsip: Filter out non SIP(S) requests  |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | ed2a4ee81e | George       | res_pjsip: Add handling for incoming       |
   |            | Joseph       | unsolicited MWI NOTIFY                     |
   |------------+--------------+--------------------------------------------|
   | 044674c0cd | Richard      | res_rtp_asterisk.c: Add doxygen to RTCP    |
   |            | Mudgett      | payload types.                             |
   |------------+--------------+--------------------------------------------|
   | 5ff2d06aa6 | George       | alembic: Fix typo in                       |
   |            | Joseph       | add_auto_info_to_endpoint_dtmf_mode        |
   |------------+--------------+--------------------------------------------|
   | 186ef1a657 | George       | stasis/control: Fix possible deadlock with |
   |            | Joseph       | swap channel                               |
   |------------+--------------+--------------------------------------------|
   | 15ddc9acb3 | George       | alembic: Fix enum creation for             |
   |            | Joseph       | dtls_fingerprint                           |
   |------------+--------------+--------------------------------------------|
   | 598a18ffee | Ben Ford     | chan_pjsip: Suppress frame warnings.       |
   |------------+--------------+--------------------------------------------|
   | 6c922b3157 | Richard      | res_rtp_asterisk.c: Check RTP packet       |
   |            | Mudgett      | version earlier.                           |
   |------------+--------------+--------------------------------------------|
   | 4aaccb7795 | Richard      | bridge_native_rtp.c: Fixup                 |
   |            | Mudgett      | native_rtp_framehook()                     |
   |------------+--------------+--------------------------------------------|
   | d251a961ac | Sean Bright  | res_smdi: Clean up memory leak             |
   |------------+--------------+--------------------------------------------|
   | 3f22b53349 | Richard      | bridge_softmix.c: Remove always true test. |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 8594f73a81 | Richard      | configure: Check cache for valid pjproject |
   |            | Mudgett      | tarball before downloading.                |
   |------------+--------------+--------------------------------------------|
   | bac3e8c08b | Richard      | STUN/netsock2: Fix some valgrind           |
   |            | Mudgett      | uninitialized memory findings.             |
   |------------+--------------+--------------------------------------------|
   | 162f6ab845 | Richard      | res_pjsip_transport_management.c: Rename   |
   |            | Mudgett      | some variables.                            |
   |------------+--------------+--------------------------------------------|
   | 363d61ef58 | George       | configure: Add --with-download-cache       |
   |            | Joseph       | option                                     |
   |------------+--------------+--------------------------------------------|
   | 905c4ca3dc | Corey        | app_privacy: remove unused header          |
   |            | Farrell      | asterisk/image.h                           |
   |------------+--------------+--------------------------------------------|
   | 84b6a5efd7 | Corey        | Correct some leaks in unit tests.          |
   |            | Farrell      |                                            |
   |------------+--------------+--------------------------------------------|
   | f9a823e9dc | Richard      | res_pjsip_transport_websocket.c: Fix       |
   |            | Mudgett      | serializer ref leak.                       |
   |------------+--------------+--------------------------------------------|
   | 631180a0c3 | Richard      | res_pjsip_outbound_registration.c: Misc    |
   |            | Mudgett      | fixes.                                     |
   |------------+--------------+--------------------------------------------|
   | 7b84c6693e | Richard      | res_pjsip_nat.c: Remove unnecessary        |
   |            | Mudgett      | CMP_STOP.                                  |
   |------------+--------------+--------------------------------------------|
   | a32614a2a8 | Richard      | res_pjsip_registrar.c: Remove unnecessary  |
   |            | Mudgett      | CMP_STOP.                                  |
   |------------+--------------+--------------------------------------------|
   | ed1bce956e | George       | Revert "res_pjsip_session: Release media   |
   |            | Joseph       | resources on session end quicker."         |
   |------------+--------------+--------------------------------------------|
   | 114602f434 | Joshua Colp  | res_pjsip: Add support for dnsmgr to       |
   |            |              | external_media_address.                    |
   |------------+--------------+--------------------------------------------|
   | c16000f201 | Sean Bright  | res_rtp_asterisk: Fix mapping of pjsip's   |
   |            |              | ICE roles to ours                          |
   |------------+--------------+--------------------------------------------|
   | 24bb5a8908 | Joshua Colp  | core: Add VP9 passthrough support.         |
   |------------+--------------+--------------------------------------------|
   | 07f8e45a90 | Matthew      | format.h: Fix a few minor errors in        |
   |            | Fredrickson  | comments.                                  |
   |------------+--------------+--------------------------------------------|
   | 7ff9d8785d | Richard      | app_voicemail.c: Allow mailbox entry on    |
   |            | Mudgett      | authentication retry prompt.               |
   |------------+--------------+--------------------------------------------|
   | cea4ce246d | Sean Bright  | corosync: Fix corosync library name in     |
   |            |              | configure.ac                               |
   |------------+--------------+--------------------------------------------|
   | 9a47dd7113 | Benjamin     | pjsip: Increase maximum packet size.       |
   |            | Keith Ford   |                                            |
   |------------+--------------+--------------------------------------------|
   |            | George       | res_musiconhold: Add                       |
   | 4e555437dc | Joseph       | kill_escalation_delay, kill_method to      |
   |            |              | class                                      |
   |------------+--------------+--------------------------------------------|
   | 32b98ad956 | George       | http.c: Reduce log spam                    |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 8a803f75a0 | Richard      | json.c: Add backtrace log to find 'Invalid |
   |            | Mudgett      | UTF-8 string' errors                       |
   |------------+--------------+--------------------------------------------|
   | 379fe65831 | George       | Fix alembic branches                       |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 22c4c1a0ba | Richard      | bridge_native_rtp.c: Fix direct media      |
   |            | Mudgett      | video RTP instance ACL check.              |
   |------------+--------------+--------------------------------------------|
   | 905d18e8bf | Richard      | pjsip_distributor.c: Fix                   |
   |            | Mudgett      | unidentified_requests hash functions.      |
   |------------+--------------+--------------------------------------------|
   | 1f59d08924 | Torrey       | res/res_pjsip_t38: fix incorrect increment |
   |            | Searle       | of media_count                             |
   |------------+--------------+--------------------------------------------|
   | 154d2914fa | Torrey       | res/res_pjsip_t38 ensure t38 requests get  |
   |            | Searle       | rejected quickly                           |
   |------------+--------------+--------------------------------------------|
   | 764d04fa87 | Richard      | res_pjsip_mwi.c: Eliminate RAII_VAR in     |
   |            | Mudgett      | contact delete observer                    |
   |------------+--------------+--------------------------------------------|
   |            | Rodrigo      | cdr: fix mistake spelling of a word for    |
   | cecf6540dc | RamArez      | Unanswered.                                |
   |            | Norambuena   |                                            |
   |------------+--------------+--------------------------------------------|
   | b9a4ab8c8c | Richard      | chan_pjsip: Fix PJSIP_MEDIA_OFFER dialplan |
   |            | Mudgett      | function read.                             |
   |------------+--------------+--------------------------------------------|
   | f1a209d5ac | Richard      | app_voicemail.c: Fix compile error when    |
   |            | Mudgett      | IMAP enabled.                              |
   |------------+--------------+--------------------------------------------|
   | 68de35a6a0 | David M. Lee | CFLAGS for BIND8 support                   |
   |------------+--------------+--------------------------------------------|
   | da3312457e | Sean Bright  | codecs.conf.sample: Fix max_bandwidth      |
   |            |              | speling error                              |
   |------------+--------------+--------------------------------------------|
   | 590ffcaf0b | Sean Bright  | eventfd: Disable during cross compilation  |
   |------------+--------------+--------------------------------------------|
   | 5520b6c201 | Alexei       | CHANGES: correct version for a new option  |
   |            | Gradinari    | 'refer_blind_progress'                     |
   |------------+--------------+--------------------------------------------|
   | c093bf8072 | Sean Bright  | res_rtp_multicast: Use consistent          |
   |            |              | timestamps when possible                   |
   |------------+--------------+--------------------------------------------|
   | c10341646d | George       | test_json: Fix test names with reserved    |
   |            | Joseph       | words                                      |
   |------------+--------------+--------------------------------------------|
   | 65898c3af8 | George       | unittests: Add a unit test that causes a   |
   |            | Joseph       | SEGV and...                                |
   |------------+--------------+--------------------------------------------|
   | c107ab4c04 | Sean Bright  | res_hep_rtcp: Add support level to module  |
   |            |              | info                                       |
   |------------+--------------+--------------------------------------------|
   |            | Rodrigo      |                                            |
   | 5da91c65be | RamArez      | Fix spelling queues.conf.sample file       |
   |            | Norambuena   |                                            |
   |------------+--------------+--------------------------------------------|
   | 7d4a22bf2e | George       | logger: Added logger_queue_limit to the    |
   |            | Joseph       | configuration options.                     |
   |------------+--------------+--------------------------------------------|
   | 614eda785d | Richard      | netsock2.c: Made get/set addr port avoid   |
   |            | Mudgett      | potential uninitialized memory.            |
   |------------+--------------+--------------------------------------------|
   | 526a0081a0 | Sean Bright  | cleanup: Change severity of fread          |
   |            |              | short-read warning                         |
   |------------+--------------+--------------------------------------------|
   | 02234e920c | Richard      | rtp_engine.c: Fix deadlock potential       |
   |            | Mudgett      | copying RTP payload maps.                  |
   |------------+--------------+--------------------------------------------|
   | 623832b94e | George       | res_pjsip_outbound_authenticator_digest:   |
   |            | Joseph       | Add context to log messages                |
   |------------+--------------+--------------------------------------------|
   | 4d3b4fbf22 | Kevin        | vector: defaults and indexes               |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | 1b50df78d0 | Sean Bright  | cleanup: Fix fread() and fwrite() error    |
   |            |              | handling                                   |
   |------------+--------------+--------------------------------------------|
   | cea3742c54 | Sean Bright  | core: Use eventfd for alert pipes on Linux |
   |            |              | when possible                              |
   |------------+--------------+--------------------------------------------|
   | 80fd7fd908 | Richard      | res_pjsip_session.c: Restructure           |
   |            | Mudgett      | ast_sip_session_alloc()                    |
   |------------+--------------+--------------------------------------------|
   | 98e38daf82 | Sean Bright  | pbx: Use same thread if                    |
   |            |              | AST_OUTGOING_WAIT_COMPLETE specified       |
   |------------+--------------+--------------------------------------------|
   | dafcd97a77 | Sean Bright  | build: Update config.guess and config.sub  |
   |------------+--------------+--------------------------------------------|
   | 4ccaffe644 | George       | make ari-stubs so doc periodic jobs can    |
   |            | Joseph       | run                                        |
   |------------+--------------+--------------------------------------------|
   | 9084c85cb1 | Richard      | Revert "bridging: Ensure successful T.38   |
   |            | Mudgett      | negotation"                                |
   |------------+--------------+--------------------------------------------|
   | f882ca2572 | George       | modules: change module LOAD_FAILUREs to    |
   |            | Joseph       | LOAD_DECLINES                              |
   |------------+--------------+--------------------------------------------|
   | f8219a2e12 | Richard      | stun.c: Fix ast_stun_request() erratic     |
   |            | Mudgett      | timeout.                                   |
   |------------+--------------+--------------------------------------------|
   | 19b82a8644 | Richard      | sorcery.c: Speed up                        |
   |            | Mudgett      | ast_sorcery_retrieve_by_id()               |
   |------------+--------------+--------------------------------------------|
   | aecf19e7d2 | Richard      | res_pjsip: Fix pointer use after unref.    |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | bbbd262ec0 | Walter       | samples: Undo removal of include from      |
   |            | Doekes       | canonicalize-app-names commit.             |
   |------------+--------------+--------------------------------------------|
   | d2a33cdedc | George       | sample_config: Add samples for pubsub to   |
   |            | Joseph       | pjsip.conf.sample                          |
   |------------+--------------+--------------------------------------------|
   | ab9d2fc86d | Walter       | samples: Canonicalize app names in         |
   |            | Doekes       | extensions.conf.sample.                    |
   |------------+--------------+--------------------------------------------|
   | c701550803 | Corey        | Forward declare 'struct ast_json' in       |
   |            | Farrell      | asterisk.h                                 |
   |------------+--------------+--------------------------------------------|
   | 1d1309b1ed | Joshua Colp  | Revert "Update for 13.15.0-rc1"            |
   |------------+--------------+--------------------------------------------|
   | 3c23ebdef4 | Corey        | CEL: Remove header declarations of         |
   |            | Farrell      | non-existant functions.                    |
   |------------+--------------+--------------------------------------------|
   | a827892ff7 | George       | res_pjsip_config_wizard: Add 2 new         |
   |            | Joseph       | parameters to help with proxy config       |
   |------------+--------------+--------------------------------------------|
   | 864dda07f3 | Sean Bright  | alembic: Turn off execute bit on           |
   |            |              | non-executable python scripts              |
   |------------+--------------+--------------------------------------------|
   | a9529cbb21 | Richard      | Add DTLS sanity check.                     |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 79a2c26c03 | Sean Bright  | core: Remove embedded module support       |
   |------------+--------------+--------------------------------------------|
   | 55693383e2 | Sean Bright  | res_xmpp: Fix ref counting issue           |
   |------------+--------------+--------------------------------------------|
   | 03b99ae3d2 | Sean Bright  | res_xmpp: Correctly check return value of  |
   |            |              | SSL_connect                                |
   |------------+--------------+--------------------------------------------|
   | d9d2beba1c | Sean Bright  | res_pjsip_sdp_rtp: Set hangup cause for    |
   |            |              | RTP timeouts                               |
   |------------+--------------+--------------------------------------------|
   | 552cf009c0 | Kevin        | Update for 13.15.0-rc1                     |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | f1b34e6eb4 | Kevin        | AMI: Updated version                       |
   |            | Harwell      |                                            |
   |------------+--------------+--------------------------------------------|
   | 1c8b81a2a4 | Sean Bright  | Revert "app_queue: Handle the caller being |
   |            |              | redirected out of a queue bridge"          |
   |------------+--------------+--------------------------------------------|
   | 38cebc73a3 | Sean Bright  | thread safety: Don't use getprotobyname()  |
   |------------+--------------+--------------------------------------------|
   | 265455bc2d | Sean Bright  | res_rtp_asterisk: Pass correct data length |
   |            |              | to ast_rtcp_interpret                      |
   |------------+--------------+--------------------------------------------|
   | 9a57b24e17 | Sean Bright  | app_queue: Fix locking behavior in stasis  |
   |            |              | message handlers                           |
   |------------+--------------+--------------------------------------------|
   | 792171ea9e | Richard      | app_confbridge: Fix ConfbridgeTalking AMI  |
   |            | Mudgett      | event description.                         |
   |------------+--------------+--------------------------------------------|
   | a75f02c089 | Richard      | res_pjsip_sdp_rtp.c: Fix cut-n-paste error |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 9b756662a8 | George       | res_pjsip: Symmetric transports            |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 6d1eb880c2 | George       | menuselect: Add a new 'options' support    |
   |            | Joseph       | type                                       |
   |------------+--------------+--------------------------------------------|
   | 523de8eb8e | George       | pjproject_bundled: Reduce the need for     |
   |            | Joseph       | rebuilds                                   |
   |------------+--------------+--------------------------------------------|
   | 4271c700f7 | Richard      | core: Cleanup ast_get_hint() usage.        |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | fa8f6c2fc4 | Sean Bright  | res_config_pgsql: Release table locks      |
   |            |              | where appropriate                          |
   |------------+--------------+--------------------------------------------|
   | 9c05ddbddd | George       | pjproject_bundled: Update for pjproject    |
   |            | Joseph       | 2.6                                        |
   |------------+--------------+--------------------------------------------|
   | da0cadd100 | Sean Bright  | res_config_pgsql: Fix thread safety        |
   |            |              | problems                                   |
   |------------+--------------+--------------------------------------------|
   | f1963c5b8d | Sean Bright  | res_config_ldap: Various code improvements |
   |------------+--------------+--------------------------------------------|
   | 5c9c097d17 | Joshua Colp  | Revert "build: Execute ldconfig to build   |
   |            |              | cache."                                    |
   |------------+--------------+--------------------------------------------|
   | d5522de597 | Sean Bright  | realtime: Fix ast_load_realtime_multientry |
   |            |              | handling                                   |
   |------------+--------------+--------------------------------------------|
   | 5eb7875243 | Sean Bright  | realtime: Centralize some common realtime  |
   |            |              | backend code                               |
   |------------+--------------+--------------------------------------------|
   | 06214173a9 | Joshua Colp  | Revert "build: Execute ldconfig to build   |
   |            |              | cache."                                    |
   |------------+--------------+--------------------------------------------|
   | c9ea98f9bf | George       | pjproject cli: Add object count after      |
   |            | Joseph       | object lists                               |
   |------------+--------------+--------------------------------------------|
   | d8972f50f4 | Sean Bright  | res_config_ldap: Don't try to delete       |
   |            |              | non-existent attributes                    |
   |------------+--------------+--------------------------------------------|
   | b980cae1f7 | Sean Bright  | res_config_ldap: Remove extraneous line    |
   |            |              | numbers from log messages                  |
   |------------+--------------+--------------------------------------------|
   | 011b7be62a | Sean Bright  | res_config_ldap: Make memory allocation    |
   |            |              | more consistent                            |
   |------------+--------------+--------------------------------------------|
   | b2836dde7e | Sean Bright  | res_config_ldap: Fix configuration         |
   |            |              | inheritance from _general                  |
   |------------+--------------+--------------------------------------------|
   | 5b7c6678ae | Sean Bright  | res_config_sqlite3: Fix crash when loading |
   |            |              | with invalid config                        |
   |------------+--------------+--------------------------------------------|
   | 096496e13e | Richard      | tcptls.c: Add some missing allocation      |
   |            | Mudgett      | failure checks.                            |
   |------------+--------------+--------------------------------------------|
   | 73133d5354 | Sean Bright  | res_rtp_asterisk: Use PJ_ICE_MAX_CAND      |
   |            |              | instead of hard-coding 16                  |
   |------------+--------------+--------------------------------------------|
   | ea8a610776 | Sean Bright  | cli: Fix various CLI documentation and     |
   |            |              | completion issues                          |
   |------------+--------------+--------------------------------------------|
   | a46a21642e | Richard      | res_pjsip.c: Fix inconsistency between     |
   |            | Mudgett      | warning and action.                        |
   |------------+--------------+--------------------------------------------|
   | 67b21dc63a | Richard      | pjsip_distributor.c: Fix off-nominal tdata |
   |            | Mudgett      | ref leak.                                  |
   |------------+--------------+--------------------------------------------|
   | 2817f87d27 | Richard      | core: Cleanup some channel snapshot        |
   |            | Mudgett      | staging anomalies.                         |
   |------------+--------------+--------------------------------------------|
   | cbc23c31cf | Mark         | Revert "Update qualifies when AOR          |
   |            | Michelson    | configuration changes."                    |
   |------------+--------------+--------------------------------------------|
   | c384dfd6b0 | Richard      | res_pjsip: Fix some off nominal tdata      |
   |            | Mudgett      | leaks.                                     |
   |------------+--------------+--------------------------------------------|
   | 6492e91392 | Mark         | Update qualifies when AOR configuration    |
   |            | Michelson    | changes.                                   |
   |------------+--------------+--------------------------------------------|
   | 7fd28cefdb | George       | debug_utilities: Install ast_logescalator  |
   |            | Joseph       | to /var/lib/asterisk/scripts               |
   |------------+--------------+--------------------------------------------|
   | 456bc3c704 | George       | debug_utilities: Add ast_logescalator      |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 54b027916a | Torrey       | libastssl/pj: libastssl/pj should have an  |
   |            | Searle       | so_version                                 |
   |------------+--------------+--------------------------------------------|
   | 9e3150b98d | Mark         | Add reload options to CLI/AMI stale object |
   |            | Michelson    | commands.                                  |
   |------------+--------------+--------------------------------------------|
   | c54f9d2bf0 | Richard      | T.140: Fix format ref and memory leaks.    |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 607b3ac736 | Richard      | astobj2.c: Add excessive ref count trap.   |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | ab8cb5a7ce | Richard      | main/app.c: Memory corruption from early   |
   |            | Mudgett      | format destruction.                        |
   |------------+--------------+--------------------------------------------|
   | dcd8e4b1a0 | Richard      | frame.c: Fix off-nominal format ref leaks. |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 00a227e93d | Richard      | stasis_bridge.c: Fix off-nominal stasis    |
   |            | Mudgett      | control ref leak.                          |
   |------------+--------------+--------------------------------------------|
   | 38a2021c68 | Richard      | res_musiconhold.c: Fix format ref leak     |
   |            | Mudgett      | when parsing MOH config class.             |
   |------------+--------------+--------------------------------------------|
   | ab7a9fc5b2 | Richard      | chan_oss.c: Fix format ref leak in         |
   |            | Mudgett      | oss_read().                                |
   |------------+--------------+--------------------------------------------|
   | 1484a991e1 | Richard      | Add notes about embedded ast_frame structs |
   |            | Mudgett      | holding a format ref.                      |
   |------------+--------------+--------------------------------------------|
   | 17f4989d49 | George       | ari: Implement 'debug all' and             |
   |            | Joseph       | request/response logging                   |
   |------------+--------------+--------------------------------------------|
   | 177e81ee47 | George       | pjproject_bundled: Fix setting max log     |
   |            | Joseph       | level                                      |
   |------------+--------------+--------------------------------------------|
   | a969bf3577 | Richard      | LISTFILTER: Remove outdated ERROR message. |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 3890337e7a | Richard      | res_pjsip_pubsub.c: Fix AMI event list     |
   |            | Mudgett      | counts.                                    |
   |------------+--------------+--------------------------------------------|
   | fe4801c4f9 | Richard      | res_pjsip_pubsub.c: Fix incorrect message  |
   |            | Mudgett      | string wrapping.                           |
   |------------+--------------+--------------------------------------------|
   | 46484b8730 | Richard      | res_pjsip_pubsub.c: Eliminate trivial      |
   |            | Mudgett      | SCOPED_LOCK usage.                         |
   |------------+--------------+--------------------------------------------|
   | 8160474d7d | Richard      | res_pjsip: alloca can never fail.          |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | c628a7acac | George       | debug_utilities: Create ast_loggrabber     |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | e335b706ee | Richard      | res_pjsip_outbound_authenticator_digest.c: |
   |            | Mudgett      | Fix spacing in warning messages.           |
   |------------+--------------+--------------------------------------------|
   | 883e7fde31 | Kevin        | abstract/fixed/adpative jitter buffer:     |
   |            | Harwell      | disallow frame re-inserts                  |
   |------------+--------------+--------------------------------------------|
   | 473330983b | Richard      | taskprocessor.c: Change when high water    |
   |            | Mudgett      | warning logged.                            |
   |------------+--------------+--------------------------------------------|
   | 47474cfd54 | George       | debug_utilities: Create the ast_coredumper |
   |            | Joseph       | utility                                    |
   |------------+--------------+--------------------------------------------|
   | f8cd73ec3c | George       | pjproject_bundled: Fix compilation with    |
   |            | Joseph       | MALLOC_DEBUG                               |
   |------------+--------------+--------------------------------------------|
   | d7e5a747c3 | George       | pjproject_bundled: Compile pjsua with max  |
   |            | Joseph       | log level = 2                              |
   |------------+--------------+--------------------------------------------|
   | 21151408f7 | Richard      | bridge_native_rtp.c: Minor code cleanups.  |
   |            | Mudgett      |                                            |
   |------------+--------------+--------------------------------------------|
   | 9dcf9e9cea | Richard      | bridge_native_rtp.c: Fix native rtp bridge |
   |            | Mudgett      | data race.                                 |
   |------------+--------------+--------------------------------------------|
   | e2fa3c7eda | Richard      | res_rtp_asterisk.c: Fix off nominal memory |
   |            | Mudgett      | leak.                                      |
   |------------+--------------+--------------------------------------------|
   | 815f755155 | George       | pjproject_bundled: Make build single       |
   |            | Joseph       | threaded                                   |
   |------------+--------------+--------------------------------------------|
   | ab447f8a6a | David M. Lee | configure: fix with-pjproject-bundled      |
   |------------+--------------+--------------------------------------------|
   | 35736d419a | Richard      | autosupport: Add 'pjproject show           |
   |            | Mudgett      | buildopts'                                 |
   |------------+--------------+--------------------------------------------|
   | 91485734a4 | George       | res_sorcery_memory_cache: Change an error  |
   |            | Joseph       | to a debug message                         |
   |------------+--------------+--------------------------------------------|
   | 22820e10fe | Badalyan     | chan_sip: Delete unneeded check            |
   |            | Vyacheslav   |                                            |
   |------------+--------------+--------------------------------------------|
   | 6aa2c5e5f9 | Badalyan     | Small code cleanup in chan_sip             |
   |            | Vyacheslav   |                                            |
   |------------+--------------+--------------------------------------------|
   | b596fac838 | Badalyan     | Fix typo in chan_sip                       |
   |            | Vyacheslav   |                                            |
   |------------+--------------+--------------------------------------------|
   | 483ed9f1aa | Badalyan     | res_pjsip: Fix 'A = B != C' kind.          |
   |            | Vyacheslav   |                                            |
   |------------+--------------+--------------------------------------------|
   | 4b233675d8 | George       | pjproject_bundled: Fix missing inclusion   |
   |            | Joseph       | of symbols                                 |
   |------------+--------------+--------------------------------------------|
   | 580f83dac7 | Richard      | Remove files that got merged in error      |
   |            | Mudgett      | somehow to the 13 branch.                  |
   |------------+--------------+--------------------------------------------|
   | 17b0b91afa | Mark         | Frame deferral: Re-queue deferred frames   |
   |            | Michelson    | one-at-a-time.                             |
   |------------+--------------+--------------------------------------------|
   | a33ed3327a | Matt Jordan  | res/res_pjsip: Fix documentation           |
   |            |              | whitespace issues                          |
   |------------+--------------+--------------------------------------------|
   | 29e887e9e1 | George       | build_tools: Fix download_externals to     |
   |            | Joseph       | handle certified branches                  |
   |------------+--------------+--------------------------------------------|
   | a1fa909033 | Timo         | codec_dahdi: Fix poll.h include.           |
   |            | TerACURs     |                                            |
   |------------+--------------+--------------------------------------------|
   | 86d824b7ff | Timo         | addons/chan_mobile: do not use strerror_r  |
   |            | TerACURs     |                                            |
   |------------+--------------+--------------------------------------------|
   | 425da14927 | George       | build: Backport addition of librt check to |
   |            | Joseph       | configure.ac                               |
   |------------+--------------+--------------------------------------------|
   | 2a40c3a867 | George       | pjproject_bundled: Improve reliability of  |
   |            | Joseph       | pjproject download                         |
   |------------+--------------+--------------------------------------------|
   | ee73af1d88 | George       | Update for 13.12.2                         |
   |            | Joseph       |                                            |
   |------------+--------------+--------------------------------------------|
   | 7d7b52c434 | Mark         | Update for 13.12.1                         |
   |            | Michelson    |                                            |
   |------------+--------------+--------------------------------------------|
   | 226a7e36c5 | Mark         | Update for 13.12.0                         |
   |            | Michelson    |                                            |
   |------------+--------------+--------------------------------------------|
   | df75b647da | Mark         | Update for 13.12.0-rc1                     |
   |            | Michelson    |                                            |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 README                                                                                          |  296
 README-SERIOUSLY.bestpractices.txt                                                              |  376
 asterisk-certified-13.13-cert9-summary.html                                                     |   19
 asterisk-certified-13.13-cert9-summary.txt                                                      |  103
 b/.version                                                                                      |    2
 b/CHANGES                                                                                       |  247
 b/ChangeLog                                                                                     | 8273 +++++++++-
 b/Makefile                                                                                      |  132
 b/Makefile.moddir_rules                                                                         |   41
 b/Makefile.rules                                                                                |   12
 b/README-SERIOUSLY.bestpractices.md                                                             |  390
 b/README.md                                                                                     |  269
 b/UPGRADE.txt                                                                                   |   22
 b/addons/Makefile                                                                               |   17
 b/addons/cdr_mysql.c                                                                            |   51
 b/addons/chan_mobile.c                                                                          |   24
 b/addons/chan_ooh323.c                                                                          |    8
 b/addons/format_mp3.c                                                                           |    8
 b/addons/ooh323c/src/ooSocket.c                                                                 |    2
 b/addons/res_config_mysql.c                                                                     |   61
 b/apps/Makefile                                                                                 |    4
 b/apps/app_adsiprog.c                                                                           |    2
 b/apps/app_agent_pool.c                                                                         |    5
 b/apps/app_alarmreceiver.c                                                                      |    2
 b/apps/app_authenticate.c                                                                       |    2
 b/apps/app_cdr.c                                                                                |    5
 b/apps/app_chanspy.c                                                                            |   80
 b/apps/app_confbridge.c                                                                         |   95
 b/apps/app_dahdiras.c                                                                           |    2
 b/apps/app_dial.c                                                                               |   32
 b/apps/app_directory.c                                                                          |   25
 b/apps/app_disa.c                                                                               |   10
 b/apps/app_dumpchan.c                                                                           |    4
 b/apps/app_externalivr.c                                                                        |    6
 b/apps/app_followme.c                                                                           |    2
 b/apps/app_forkcdr.c                                                                            |    6
 b/apps/app_meetme.c                                                                             |   27
 b/apps/app_minivm.c                                                                             |  145
 b/apps/app_mixmonitor.c                                                                         |   21
 b/apps/app_originate.c                                                                          |   40
 b/apps/app_playback.c                                                                           |    2
 b/apps/app_privacy.c                                                                            |    1
 b/apps/app_queue.c                                                                              |  317
 b/apps/app_record.c                                                                             |  124
 b/apps/app_voicemail.c                                                                          | 1032 -
 b/apps/app_waitforsilence.c                                                                     |  137
 b/apps/app_zapateller.c                                                                         |    2
 b/apps/confbridge/conf_config_parser.c                                                          |   16
 b/apps/confbridge/confbridge_manager.c                                                          |    2
 b/asterisk-certified-13.18-cert1-rc3-summary.html                                               |   46
 b/asterisk-certified-13.18-cert1-rc3-summary.txt                                                |  188
 b/autoconf/ast_ext_lib.m4                                                                       |   36
 b/bootstrap.sh                                                                                  |    2
 b/bridges/bridge_native_rtp.c                                                                   |  718
 b/bridges/bridge_simple.c                                                                       |   32
 b/bridges/bridge_softmix.c                                                                      |   11
 b/build_tools/cflags.xml                                                                        |    4
 b/build_tools/download_externals                                                                |   27
 b/build_tools/list_valid_installed_externals                                                    |   20
 b/build_tools/make_build_h                                                                      |   10
 b/cdr/cdr_custom.c                                                                              |    4
 b/cdr/cdr_pgsql.c                                                                               |   57
 b/cel/cel_custom.c                                                                              |    7
 b/cel/cel_odbc.c                                                                                |   90
 b/cel/cel_pgsql.c                                                                               |   27
 b/channels/Makefile                                                                             |   14
 b/channels/chan_alsa.c                                                                          |   66
 b/channels/chan_dahdi.c                                                                         |   15
 b/channels/chan_iax2.c                                                                          |   45
 b/channels/chan_mgcp.c                                                                          |   10
 b/channels/chan_motif.c                                                                         |    4
 b/channels/chan_nbs.c                                                                           |    4
 b/channels/chan_oss.c                                                                           |   59
 b/channels/chan_phone.c                                                                         |    6
 b/channels/chan_pjsip.c                                                                         |  179
 b/channels/chan_rtp.c                                                                           |   20
 b/channels/chan_sip.c                                                                           |  391
 b/channels/chan_skinny.c                                                                        |   55
 b/channels/chan_unistim.c                                                                       |   33
 b/channels/chan_vpb.cc                                                                          |    2
 b/channels/iax2/firmware.c                                                                      |   13
 b/channels/pjsip/cli_commands.c                                                                 |   16
 b/channels/pjsip/dialplan_functions.c                                                           |  266
 b/channels/pjsip/include/dialplan_functions.h                                                   |   25
 b/channels/sig_pri.c                                                                            |    8
 b/channels/sig_pri.h                                                                            |    2
 b/channels/sip/dialplan_functions.c                                                             |    9
 b/channels/sip/include/sip.h                                                                    |    3
 b/codecs/Makefile                                                                               |   10
 b/codecs/codec_a_mu.c                                                                           |    2
 b/codecs/codec_adpcm.c                                                                          |    2
 b/codecs/codec_alaw.c                                                                           |    2
 b/codecs/codec_dahdi.c                                                                          |    2
 b/codecs/codec_g722.c                                                                           |    2
 b/codecs/codec_g726.c                                                                           |    2
 b/codecs/codec_gsm.c                                                                            |    2
 b/codecs/codec_ilbc.c                                                                           |    2
 b/codecs/codec_lpc10.c                                                                          |    2
 b/codecs/codec_resample.c                                                                       |    4
 b/codecs/codec_ulaw.c                                                                           |    2
 b/config.guess                                                                                  |  184
 b/config.sub                                                                                    |   90
 b/configs/basic-pbx/modules.conf                                                                |    1
 b/configs/samples/cdr.conf.sample                                                               |    2
 b/configs/samples/codecs.conf.sample                                                            |    6
 b/configs/samples/config_test.conf.sample                                                       |    8
 b/configs/samples/extconfig.conf.sample                                                         |    3
 b/configs/samples/extensions.conf.sample                                                        |   44
 b/configs/samples/hep.conf.sample                                                               |   16
 b/configs/samples/logger.conf.sample                                                            |    8
 b/configs/samples/musiconhold.conf.sample                                                       |    6
 b/configs/samples/pjsip.conf.sample                                                             |  215
 b/configs/samples/pjsip_wizard.conf.sample                                                      |   12
 b/configs/samples/queues.conf.sample                                                            |    4
 b/configs/samples/res_config_sqlite.conf.sample                                                 |    2
 b/configs/samples/res_odbc.conf.sample                                                          |    6
 b/configs/samples/rtp.conf.sample                                                               |   19
 b/configs/samples/sip.conf.sample                                                               |    5
 b/configs/samples/sorcery.conf.sample                                                           |   11
 b/configs/samples/voicemail.conf.sample                                                         |   12
 b/configs/samples/xmpp.conf.sample                                                              |   23
 b/configure                                                                                     |  916 -
 b/configure.ac                                                                                  |  163
 b/contrib/ast-db-manage/config/versions/15db7b91a97a_add_rtcp_mux.py                            |   33
 b/contrib/ast-db-manage/config/versions/164abbd708c_add_auto_info_to_endpoint_dtmf_mode.py      |   58
 b/contrib/ast-db-manage/config/versions/1d0e332c32af_create_rls_table.py                        |   39
 b/contrib/ast-db-manage/config/versions/23530d604b96_add_rpid_immediate.py                      |    2
 b/contrib/ast-db-manage/config/versions/26d7f3bf0fa5_add_bind_rtp_to_media_address_to_pjsip.py  |    2
 b/contrib/ast-db-manage/config/versions/28ab27a7826d_add_srv_lookups_to_identify.py             |   33
 b/contrib/ast-db-manage/config/versions/28b8e71e541f_add_g726_non_standard.py                   |    2
 b/contrib/ast-db-manage/config/versions/2da192dbbc65_add_publish_tables.py                      |   73
 b/contrib/ast-db-manage/config/versions/2fc7930b41b3_add_pjsip_endpoint_options_for_12_1.py     |    4
 b/contrib/ast-db-manage/config/versions/371a3bf4143e_add_user_eq_phone_option_to_pjsip.py       |    2
 b/contrib/ast-db-manage/config/versions/3772f8f828da_update_identify_by.py                      |    2
 b/contrib/ast-db-manage/config/versions/3bcc0b5bc2c9_add_allow_reload_to_ps_transports.py       |    2
 b/contrib/ast-db-manage/config/versions/4468b4a91372_add_pjsip_asymmetric_rtp_codec.py          |    2
 b/contrib/ast-db-manage/config/versions/465e70e8c337_add_match_header_attribute_to_identify.py  |   21
 b/contrib/ast-db-manage/config/versions/4c573e7135bd_fix_tos_field_types.py                     |    4
 b/contrib/ast-db-manage/config/versions/5139253c0423_make_q_member_uniqueid_autoinc.py          |    4
 b/contrib/ast-db-manage/config/versions/51f8cb66540e_add_further_dtls_options.py                |    3
 b/contrib/ast-db-manage/config/versions/5950038a6ead_fix_pjsip_verifiy_typo.py                  |   23
 b/contrib/ast-db-manage/config/versions/837aa67461fb_ps_contacts_add_authenticate_qualify.py    |    2
 b/contrib/ast-db-manage/config/versions/86bb1efa278d_add_ps_endpoints_refer_blind_progress.py   |   32
 b/contrib/ast-db-manage/config/versions/8d478ab86e29_pjsip_add_disable_multi_domain.py          |    2
 b/contrib/ast-db-manage/config/versions/8fce4c573e15_add_pjsip_allow_overlap.py                 |   33
 b/contrib/ast-db-manage/config/versions/a1698e8bb9c5_add_incoming_mwi_mailbox.py                |   21
 b/contrib/ast-db-manage/config/versions/a6ef36f1309_ps_globals_add_ignore_uri_user_options.py   |    2
 b/contrib/ast-db-manage/config/versions/b83645976fdd_add_dtls_fingerprint_to_ps_endpoints.py    |   40
 b/contrib/ast-db-manage/config/versions/c7a44a5a0851_pjsip_add_global_mwi_options.py            |    2
 b/contrib/ast-db-manage/config/versions/d7983954dd96_add_ps_endpoints_notify_early_inuse_.py    |   32
 b/contrib/ast-db-manage/config/versions/dbc44d5a908_add_missing_columns_to_sys_and_reg.py       |    3
 b/contrib/ast-db-manage/config/versions/e96a0b8071c_increase_pjsip_column_size.py               |    8
 b/contrib/ast-db-manage/config/versions/eb88a14f2a_add_media_encryption_optimistic_to_pjsip.py  |    2
 b/contrib/ast-db-manage/config/versions/ef7efc2d3964_ps_contacts_add_endpoint_and_modify_.py    |    8
 b/contrib/ast-db-manage/config/versions/f3d1c5d38b56_add_prune_on_boot.py                       |   33
 b/contrib/ast-db-manage/config/versions/f638dbe2eb23_symmetric_transport.py                     |   34
 b/contrib/ast-db-manage/env.py                                                                  |   17
 b/contrib/realtime/mssql/mssql_config.sql                                                       |  262
 b/contrib/realtime/mysql/mysql_config.sql                                                       |  130
 b/contrib/realtime/oracle/oracle_config.sql                                                     |  240
 b/contrib/realtime/postgresql/postgresql_config.sql                                             |  136
 b/contrib/scripts/autosupport                                                                   |    4
 b/contrib/scripts/install_prereq                                                                |    2
 b/contrib/scripts/sip_to_pjsip/sip_to_pjsip.py                                                  |   30
 b/doc/asterisk.8                                                                                |    6
 b/doc/asterisk.sgml                                                                             |    6
 b/doc/lang/language-criteria.txt                                                                |   10
 b/formats/format_g719.c                                                                         |   11
 b/formats/format_g723.c                                                                         |   12
 b/formats/format_g726.c                                                                         |   32
 b/formats/format_g729.c                                                                         |   14
 b/formats/format_gsm.c                                                                          |   15
 b/formats/format_h263.c                                                                         |   15
 b/formats/format_h264.c                                                                         |   15
 b/formats/format_ilbc.c                                                                         |   12
 b/formats/format_jpeg.c                                                                         |    2
 b/formats/format_ogg_vorbis.c                                                                   |   20
 b/formats/format_pcm.c                                                                          |   99
 b/formats/format_siren14.c                                                                      |   11
 b/formats/format_siren7.c                                                                       |   11
 b/formats/format_sln.c                                                                          |   40
 b/formats/format_vox.c                                                                          |   11
 b/formats/format_wav.c                                                                          |   62
 b/formats/format_wav_gsm.c                                                                      |   15
 b/funcs/func_cdr.c                                                                              |    7
 b/funcs/func_channel.c                                                                          |   15
 b/funcs/func_devstate.c                                                                         |    2
 b/funcs/func_holdintercept.c                                                                    |    2
 b/funcs/func_odbc.c                                                                             |    6
 b/funcs/func_periodic_hook.c                                                                    |    4
 b/funcs/func_strings.c                                                                          |    1
 b/funcs/func_talkdetect.c                                                                       |    2
 b/include/asterisk.h                                                                            |    1
 b/include/asterisk/abstract_jb.h                                                                |    3
 b/include/asterisk/alertpipe.h                                                                  |  159
 b/include/asterisk/ari.h                                                                        |   10
 b/include/asterisk/astobj2.h                                                                    |    8
 b/include/asterisk/autochan.h                                                                   |   20
 b/include/asterisk/autoconfig.h.in                                                              |   15
 b/include/asterisk/bridge_channel.h                                                             |    2
 b/include/asterisk/bridge_channel_internal.h                                                    |   11
 b/include/asterisk/bridge_technology.h                                                          |   10
 b/include/asterisk/calendar.h                                                                   |    2
 b/include/asterisk/cdr.h                                                                        |   44
 b/include/asterisk/cel.h                                                                        |   23
 b/include/asterisk/channel.h                                                                    |   36
 b/include/asterisk/codec.h                                                                      |    3
 b/include/asterisk/config.h                                                                     |   23
 b/include/asterisk/config_options.h                                                             |   25
 b/include/asterisk/doxyref.h                                                                    |    6
 b/include/asterisk/features_config.h                                                            |   15
 b/include/asterisk/format.h                                                                     |   15
 b/include/asterisk/format_cache.h                                                               |    5
 b/include/asterisk/frame.h                                                                      |    2
 b/include/asterisk/logger.h                                                                     |   27
 b/include/asterisk/manager.h                                                                    |    2
 b/include/asterisk/mod_format.h                                                                 |    6
 b/include/asterisk/module.h                                                                     |   66
 b/include/asterisk/network.h                                                                    |    5
 b/include/asterisk/pbx.h                                                                        |   29
 b/include/asterisk/res_hep.h                                                                    |    2
 b/include/asterisk/res_pjsip.h                                                                  |  342
 b/include/asterisk/res_pjsip_presence_xml.h                                                     |    3
 b/include/asterisk/res_pjsip_session.h                                                          |   34
 b/include/asterisk/rtp_engine.h                                                                 |   26
 b/include/asterisk/smoother.h                                                                   |    1
 b/include/asterisk/stasis_app.h                                                                 |    1
 b/include/asterisk/stasis_channels.h                                                            |    1
 b/include/asterisk/stasis_endpoints.h                                                           |    1
 b/include/asterisk/stasis_system.h                                                              |    1
 b/include/asterisk/strings.h                                                                    |   64
 b/include/asterisk/tcptls.h                                                                     |    4
 b/include/asterisk/test.h                                                                       |    8
 b/include/asterisk/translate.h                                                                  |    2
 b/include/asterisk/utils.h                                                                      |    9
 b/include/asterisk/vector.h                                                                     |   80
 b/include/jitterbuf.h                                                                           |    3
 b/main/Makefile                                                                                 |   44
 b/main/abstract_jb.c                                                                            |   31
 b/main/acl.c                                                                                    |    4
 b/main/alertpipe.c                                                                              |  166
 b/main/app.c                                                                                    |   51
 b/main/ast_expr2.c                                                                              |    6
 b/main/ast_expr2.y                                                                              |    6
 b/main/asterisk.c                                                                               |   42
 b/main/astmm.c                                                                                  |   21
 b/main/astobj2.c                                                                                |   24
 b/main/audiohook.c                                                                              |   51
 b/main/autochan.c                                                                               |   16
 b/main/autoservice.c                                                                            |    2
 b/main/bridge.c                                                                                 |   15
 b/main/bridge_after.c                                                                           |    2
 b/main/bridge_channel.c                                                                         |  129
 b/main/ccss.c                                                                                   |   11
 b/main/cdr.c                                                                                    |  218
 b/main/channel.c                                                                                |  156
 b/main/channel_internal_api.c                                                                   |  121
 b/main/cli.c                                                                                    |   37
 b/main/codec_builtin.c                                                                          |   27
 b/main/config.c                                                                                 |   49
 b/main/config_options.c                                                                         |   41
 b/main/crypt.c                                                                                  |    2
 b/main/data.c                                                                                   |    4
 b/main/features.c                                                                               |    8
 b/main/features_config.c                                                                        |   15
 b/main/file.c                                                                                   |   20
 b/main/fixedjitterbuf.c                                                                         |    6
 b/main/fixedjitterbuf.h                                                                         |    3
 b/main/format.c                                                                                 |    8
 b/main/format_cache.c                                                                           |    8
 b/main/format_compatibility.c                                                                   |    4
 b/main/frame.c                                                                                  |   69
 b/main/heap.c                                                                                   |    4
 b/main/http.c                                                                                   |   94
 b/main/jitterbuf.c                                                                              |    5
 b/main/json.c                                                                                   |    1
 b/main/libasteriskssl.c                                                                         |   25
 b/main/loader.c                                                                                 |   95
 b/main/logger.c                                                                                 |  192
 b/main/manager.c                                                                                |  138
 b/main/message.c                                                                                |    6
 b/main/netsock2.c                                                                               |   41
 b/main/pbx.c                                                                                    |  138
 b/main/pbx_app.c                                                                                |   10
 b/main/pbx_builtins.c                                                                           |    8
 b/main/pbx_hangup_handler.c                                                                     |    2
 b/main/rtp_engine.c                                                                             |  542
 b/main/say.c                                                                                    |   46
 b/main/sdp_srtp.c                                                                               |    4
 b/main/sorcery.c                                                                                |   10
 b/main/srv.c                                                                                    |    3
 b/main/stasis_cache.c                                                                           |    2
 b/main/stdtime/localtime.c                                                                      |    2
 b/main/strings.c                                                                                |   21
 b/main/stun.c                                                                                   |   15
 b/main/taskprocessor.c                                                                          |    8
 b/main/tcptls.c                                                                                 |  218
 b/main/test.c                                                                                   |    4
 b/main/translate.c                                                                              |    6
 b/main/utils.c                                                                                  |   29
 b/makeopts.in                                                                                   |   11
 b/menuselect/menuselect.c                                                                       |    8
 b/menuselect/menuselect.h                                                                       |    3
 b/pbx/Makefile                                                                                  |    2
 b/pbx/pbx_dundi.c                                                                               |    8
 b/pbx/pbx_realtime.c                                                                            |   23
 b/pbx/pbx_spool.c                                                                               |  282
 b/res/Makefile                                                                                  |   12
 b/res/res_agi.c                                                                                 |   73
 b/res/res_ari.c                                                                                 |   53
 b/res/res_ari_applications.c                                                                    |   23
 b/res/res_ari_asterisk.c                                                                        |   23
 b/res/res_ari_bridges.c                                                                         |   23
 b/res/res_ari_channels.c                                                                        |   23
 b/res/res_ari_device_states.c                                                                   |   23
 b/res/res_ari_endpoints.c                                                                       |   23
 b/res/res_ari_events.c                                                                          |   56
 b/res/res_ari_mailboxes.c                                                                       |   23
 b/res/res_ari_model.c                                                                           |    2
 b/res/res_ari_playbacks.c                                                                       |   23
 b/res/res_ari_recordings.c                                                                      |   23
 b/res/res_ari_sounds.c                                                                          |   23
 b/res/res_calendar.c                                                                            |  111
 b/res/res_calendar_caldav.c                                                                     |   41
 b/res/res_calendar_icalendar.c                                                                  |   41
 b/res/res_chan_stats.c                                                                          |   23
 b/res/res_clioriginate.c                                                                        |    8
 b/res/res_config_curl.c                                                                         |    7
 b/res/res_config_ldap.c                                                                         |  768
 b/res/res_config_odbc.c                                                                         |    6
 b/res/res_config_pgsql.c                                                                        |  197
 b/res/res_config_sqlite.c                                                                       |   24
 b/res/res_config_sqlite3.c                                                                      |  234
 b/res/res_corosync.c                                                                            |   29
 b/res/res_endpoint_stats.c                                                                      |    2
 b/res/res_format_attr_h263.c                                                                    |    2
 b/res/res_format_attr_h264.c                                                                    |    2
 b/res/res_hep.c                                                                                 |   39
 b/res/res_hep_pjsip.c                                                                           |   12
 b/res/res_hep_rtcp.c                                                                            |   21
 b/res/res_http_post.c                                                                           |   19
 b/res/res_http_websocket.c                                                                      |    2
 b/res/res_limit.c                                                                               |    2
 b/res/res_monitor.c                                                                             |   41
 b/res/res_musiconhold.c                                                                         |   45
 b/res/res_pjproject.c                                                                           |    2
 b/res/res_pjsip.c                                                                               |  456
 b/res/res_pjsip/config_transport.c                                                              |   87
 b/res/res_pjsip/include/res_pjsip_private.h                                                     |   65
 b/res/res_pjsip/location.c                                                                      |  117
 b/res/res_pjsip/pjsip_cli.c                                                                     |    2
 b/res/res_pjsip/pjsip_configuration.c                                                           |  102
 b/res/res_pjsip/pjsip_distributor.c                                                             |  118
 b/res/res_pjsip/pjsip_message_filter.c                                                          |  532
 b/res/res_pjsip/pjsip_options.c                                                                 |   60
 b/res/res_pjsip/pjsip_scheduler.c                                                               |   32
 b/res/res_pjsip/pjsip_session.c                                                                 |  121
 b/res/res_pjsip/pjsip_transport_events.c                                                        |  366
 b/res/res_pjsip/presence_xml.c                                                                  |   25
 b/res/res_pjsip/security_events.c                                                               |    4
 b/res/res_pjsip_authenticator_digest.c                                                          |  105
 b/res/res_pjsip_caller_id.c                                                                     |   17
 b/res/res_pjsip_config_wizard.c                                                                 |   38
 b/res/res_pjsip_dialog_info_body_generator.c                                                    |   10
 b/res/res_pjsip_diversion.c                                                                     |    3
 b/res/res_pjsip_endpoint_identifier_ip.c                                                        |  259
 b/res/res_pjsip_exten_state.c                                                                   |    5
 b/res/res_pjsip_history.c                                                                       |    7
 b/res/res_pjsip_messaging.c                                                                     |   16
 b/res/res_pjsip_mwi.c                                                                           |   89
 b/res/res_pjsip_nat.c                                                                           |   55
 b/res/res_pjsip_one_touch_record_info.c                                                         |    2
 b/res/res_pjsip_outbound_authenticator_digest.c                                                 |   84
 b/res/res_pjsip_outbound_publish.c                                                              |   35
 b/res/res_pjsip_outbound_registration.c                                                         |  308
 b/res/res_pjsip_pidf_body_generator.c                                                           |    4
 b/res/res_pjsip_pidf_eyebeam_body_supplement.c                                                  |   34
 b/res/res_pjsip_publish_asterisk.c                                                              |    8
 b/res/res_pjsip_pubsub.c                                                                        | 1071 +
 b/res/res_pjsip_refer.c                                                                         |   35
 b/res/res_pjsip_registrar.c                                                                     |  319
 b/res/res_pjsip_sdp_rtp.c                                                                       |  180
 b/res/res_pjsip_send_to_voicemail.c                                                             |    2
 b/res/res_pjsip_session.c                                                                       |  462
 b/res/res_pjsip_session.exports.in                                                              |    1
 b/res/res_pjsip_t38.c                                                                           |   89
 b/res/res_pjsip_transport_management.c                                                          |   58
 b/res/res_pjsip_transport_websocket.c                                                           |   91
 b/res/res_pjsip_xpidf_body_generator.c                                                          |    2
 b/res/res_rtp_asterisk.c                                                                        | 1678 +-
 b/res/res_rtp_multicast.c                                                                       |  139
 b/res/res_smdi.c                                                                                |   14
 b/res/res_sorcery_memory_cache.c                                                                |   14
 b/res/res_srtp.c                                                                                |   37
 b/res/res_stasis.c                                                                              |   24
 b/res/res_stasis_device_state.c                                                                 |   48
 b/res/res_stasis_playback.c                                                                     |    5
 b/res/res_stasis_recording.c                                                                    |    5
 b/res/res_stasis_snoop.c                                                                        |   22
 b/res/res_stasis_test.c                                                                         |    2
 b/res/res_statsd.c                                                                              |    3
 b/res/res_stun_monitor.c                                                                        |   12
 b/res/res_xmpp.c                                                                                |  257
 b/res/srtp/srtp_compat.h                                                                        |   33
 b/res/stasis/stasis_bridge.c                                                                    |    2
 b/res/stasis_recording/stored.c                                                                 |    4
 b/rest-api-templates/res_ari_resource.c.mustache                                                |   66
 b/sounds/Makefile                                                                               |    7
 b/sounds/sounds.xml                                                                             |   27
 b/tests/test_bridging.c                                                                         |  292
 b/tests/test_bucket.c                                                                           |    2
 b/tests/test_channel_feature_hooks.c                                                            |    2
 b/tests/test_config.c                                                                           |   88
 b/tests/test_core_format.c                                                                      |    5
 b/tests/test_json.c                                                                             |   16
 b/tests/test_logger.c                                                                           |   67
 b/tests/test_pbx.c                                                                              |   24
 b/tests/test_substitution.c                                                                     |    9
 b/tests/test_taskprocessor.c                                                                    |    2
 b/tests/test_vector.c                                                                           |   21
 b/tests/test_voicemail_api.c                                                                    |   52
 b/third-party/Makefile                                                                          |    2
 b/third-party/Makefile.rules                                                                    |    4
 b/third-party/configure.m4                                                                      |    5
 b/third-party/pjproject/Makefile                                                                |   39
 b/third-party/pjproject/Makefile.rules                                                          |   20
 b/third-party/pjproject/configure.m4                                                            |   34
 b/third-party/pjproject/patches/0000-remove-third-party.patch                                   |   61
 b/third-party/pjproject/patches/0000-set_apps_initial_log_level.patch                           |   14
 b/third-party/pjproject/patches/0021-sip_parser-Fix-return-code-in-pjsip_find_msg-and-add.patch |   41
 b/third-party/pjproject/patches/0030-sip_transport-Destroy-transports-not-in-hash.patch         |   27
 build_tools/embed_modules.xml                                                                   |   46
 res/res_pjsip/pjsip_message_ip_updater.c                                                        |  303
 third-party/pjproject/patches/0001-r5397-pjsip_generic_array_max_count.patch                    |   58
 third-party/pjproject/patches/0001-r5400-pjsip_tx_data_dec_ref.patch                            |   24
 third-party/pjproject/patches/0002-Fix-1946-Avoid-deinitialization-of-uninitialized-cli.patch   |   56
 third-party/pjproject/patches/0002-r5435-add-pjsip_inv_session-ref_cnt.patch                    |  212
 third-party/pjproject/patches/0003-r5403-pjsip_IPV6_V6ONLY.patch                                |   13
 third-party/pjproject/patches/0004-resolver.c-Prevent-SERVFAIL-from-marking-name-server.patch   |   48
 third-party/pjproject/patches/0005-Re-1969-Fix-crash-on-using-an-already-destroyed-SSL-.patch   |  164
 third-party/pjproject/patches/0006-r5471-svn-backport-Various-fixes-for-DNS-IPv6.patch          |  134
 third-party/pjproject/patches/0006-r5473-svn-backport-Fix-pending-query.patch                   |   28
 third-party/pjproject/patches/0006-r5475-svn-backport-Remove-DNS-cache-entry.patch              |   70
 third-party/pjproject/patches/0006-r5477-svn-backport-Fix-DNS-write-on-freed-memory.patch       |   33
 third-party/pjproject/patches/0011-r5554-svn-backport-Increase-SENDER_WIDTH-column-size.patch   |   77
 third-party/pjproject/patches/0012-Re-1945-misc-Don-t-trigger-SRV-complete-callback-whe.patch   |   59
 third-party/pjproject/patches/0013-r5559-svn-backport-Fix-to-resolve-DNS-SRV-crashes.patch      |  112
 third-party/pjproject/patches/0058-Parse-zero-length-multipart-body-parts-correctly.patch       |   41
 third-party/pjproject/patches/0059-Ensure-2543-transaction-key-buffer-is-large-enough.patch     |   29
 third-party/pjproject/patches/0070-Set-PJSIP_INV_SUPPORT_UPDATE-correctly-in-pjsip_inv_.patch   |   29
 third-party/pjproject/patches/0090-sip_parser-Add-validity-checking-for-numeric-header-.patch   |  901 -
 third-party/pjproject/patches/0100-sip_transport-Destroy-transports-not-in-hash.patch           |   27
 452 files changed, 27283 insertions(+), 9222 deletions(-)
